{"openapi":"3.1.0","info":{"title":"Atlas Accounting","description":"Multi-tenant SaaS accounting platform","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Root  Get"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Health Get"}}}}}}},"/api/v1/auth/signup":{"post":{"tags":["authentication"],"summary":"Signup","description":"Sign up a new user and create their organization.\n\nThis endpoint:\n1. Validates email is unique\n2. Hashes password (bcrypt, 12 rounds)\n3. Creates user record\n4. Creates organization (with trial subscription)\n5. Creates organization_user record (role=owner)\n6. Creates default company for the organization\n7. Returns JWT tokens + user + organization data\n\nFlow:\n- User signs up → Organization created → User becomes owner → Default company created","operationId":"signup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Log in with email and password.\n\nThis endpoint:\n1. Validates credentials\n2. Updates last_login_at timestamp\n3. Returns user info, organizations list, and JWT tokens\n\nDefault organization selection:\n- If user belongs to 1 organization: tokens include that org_id\n- If user belongs to multiple: tokens include first organization (client can switch)","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["authentication"],"summary":"Refresh Access Token","description":"Refresh access token using refresh token.\n\nThis endpoint:\n1. Verifies refresh token\n2. Loads user and their default organization\n3. Issues new access token (with same org as before, or first org if not specified)\n\nNote: Refresh tokens do NOT contain org_id, so we use the user's first organization.\nClients should explicitly switch organizations if needed.","operationId":"refresh_access_token","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/switch-org":{"post":{"tags":["authentication"],"summary":"Switch Organization","description":"Switch to a different organization.\n\nThis endpoint:\n1. Verifies user is a member of the requested organization\n2. Issues new access token with the new org_id\n3. Returns new token and organization info\n\nUse Case:\n- Users with multiple organizations can switch context\n- Frontend updates the access token (keeps same refresh token)\n- All subsequent requests use the new organization context\n\nNote: This does NOT invalidate the old access token (JWT is stateless).\nThe old token will remain valid until expiry.","operationId":"switch_organization","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwitchOrganizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwitchOrganizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/organizations/":{"get":{"tags":["organizations"],"summary":"List Organizations","description":"List all organizations the current user belongs to.\n\nReturns organizations where the user has an active membership\n(invitation_status = 'accepted').","operationId":"list_organizations","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/OrganizationResponse"},"type":"array","title":"Response List Organizations"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/organizations/{org_id}":{"get":{"tags":["organizations"],"summary":"Get Organization","description":"Get organization details.\n\nRequires user to be a member of the organization.","operationId":"get_organization","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Org Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["organizations"],"summary":"Update Organization","description":"Update organization settings.\n\nRequires admin or owner role.\nOnly owner can update subscription_tier and max_users/max_companies.","operationId":"update_organization","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Org Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/organizations/{org_id}/users":{"get":{"tags":["organizations"],"summary":"List Organization Users","description":"List all users in the organization with their roles.\n\nRequires user to be a member of the organization.\nReturns all users including those with pending invitations.","operationId":"list_organization_users","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Org Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationUserWithUserResponse"},"title":"Response List Organization Users"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["organizations"],"summary":"Invite User","description":"Invite a user to the organization.\n\nRequires admin or owner role.\nIf user doesn't exist, they'll need to sign up first.","operationId":"invite_organization_user","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Org Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationUserInvite"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationUserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/organizations/{org_id}/users/{user_id}":{"patch":{"tags":["organizations"],"summary":"Update User Role","description":"Update a user's role in the organization.\n\nRequires admin or owner role.\nCannot demote the last owner.","operationId":"update_organization_user_role","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Org Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationUserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationUserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["organizations"],"summary":"Remove User","description":"Remove a user from the organization.\n\nRequires owner role only - removing users is a sensitive operation.\nCannot remove the last owner.","operationId":"remove_organization_user","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Org Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/companies/":{"get":{"tags":["companies"],"summary":"List Companies","description":"List all companies in the current organization.\n\nRespects RLS policies - only returns companies for the current org.\nIf user has company_access restrictions, only shows those companies.","operationId":"list_companies","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CompanyResponse"},"type":"array","title":"Response List Companies"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["companies"],"summary":"Create Company","description":"Create a new company in the organization.\n\nRequires admin or owner role.\nChecks subscription limits before creating.","operationId":"create_company","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/companies/{company_id}":{"get":{"tags":["companies"],"summary":"Get Company","description":"Get company details.\n\nRequires user to be a member of the organization.\nRLS ensures company belongs to the current org.","operationId":"get_company","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["companies"],"summary":"Update Company","description":"Update company settings.\n\nRequires admin or owner role.","operationId":"update_company","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["companies"],"summary":"Delete Company","description":"Delete a company.\n\nRequires admin or owner role.\nThis is a hard delete - use with caution.\nIn production, consider implementing soft delete instead.","operationId":"delete_company","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/":{"get":{"tags":["accounts"],"summary":"List Accounts","description":"List all accounts for a company.\n\nSupports filtering by account_type and is_active status.\nReturns accounts ordered by account_number.","operationId":"list_accounts","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"account_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by account type","title":"Account Type"},"description":"Filter by account type"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","title":"Is Active"},"description":"Filter by active status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountResponse"},"title":"Response List Accounts"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["accounts"],"summary":"Create Account","description":"Create a new account in the Chart of Accounts.\n\nAccount numbers must be unique within a company.","operationId":"create_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/hierarchy":{"get":{"tags":["accounts"],"summary":"Get Account Hierarchy","description":"Get accounts as hierarchical tree structure.\n\nReturns root accounts with nested children.\nUseful for displaying Chart of Accounts in tree view.","operationId":"get_account_hierarchy","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountHierarchy"},"title":"Response Get Account Hierarchy"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/setup-coa":{"post":{"tags":["accounts"],"summary":"Setup Standard Coa","description":"Initialize Chart of Accounts from a standard template.\n\nTemplates: us_gaap, ifrs, uk_gaap\nIndustries: general, retail, services, manufacturing","operationId":"setup_standard_coa","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetupCOARequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountResponse"},"title":"Response Setup Standard Coa"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/{account_id}":{"get":{"tags":["accounts"],"summary":"Get Account","description":"Get account details by ID.","operationId":"get_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["accounts"],"summary":"Update Account","description":"Update an account.\n\nOnly name, description, and subtype can be updated.\nAccount number and type cannot be changed.","operationId":"update_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["accounts"],"summary":"Delete Account","description":"Soft delete an account (mark as inactive).\n\nSystem accounts cannot be deleted.\nAccounts with non-zero balance cannot be deleted.","operationId":"delete_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/{account_id}/balance":{"get":{"tags":["accounts"],"summary":"Get Account Balance","description":"Get account balance as of a specific date.","operationId":"get_account_balance","security":[{"HTTPBearer":[]}],"parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Account Id"}},{"name":"as_of_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Balance as of date (defaults to today)","title":"As Of Date"},"description":"Balance as of date (defaults to today)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Account Balance"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accounts/reports/trial-balance":{"get":{"tags":["accounts"],"summary":"Get Trial Balance","description":"Get trial balance report.\n\nReturns all accounts with debit/credit balances.\nLast row contains totals (should balance: debits = credits).","operationId":"get_trial_balance","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"as_of_date","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Trial balance as of date","title":"As Of Date"},"description":"Trial balance as of date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrialBalanceRow"},"title":"Response Get Trial Balance"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/journal-entries/":{"get":{"tags":["journal-entries"],"summary":"List Journal Entries","description":"List journal entries for a company with pagination.\n\nSupports filtering by status, entry_type, and date range.\nReturns entries ordered by date (newest first).","operationId":"list_journal_entries","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"entry_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by entry type","title":"Entry Type"},"description":"Filter by entry type"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter entries from this date","title":"Start Date"},"description":"Filter entries from this date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter entries up to this date","title":"End Date"},"description":"Filter entries up to this date"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Page Size"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["journal-entries"],"summary":"Create Journal Entry","description":"Create a new journal entry in draft status.\n\nEntry must balance (total debits = total credits).\nRequires at least 2 lines (one debit, one credit minimum).","operationId":"create_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/journal-entries/{entry_id}":{"get":{"tags":["journal-entries"],"summary":"Get Journal Entry By Id","description":"Get journal entry with all lines.","operationId":"get_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["journal-entries"],"summary":"Update Journal Entry","description":"Update a draft journal entry.\n\nOnly draft entries can be updated. Posted entries are immutable.","operationId":"update_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["journal-entries"],"summary":"Delete Journal Entry","description":"Delete a draft journal entry.\n\nOnly draft entries can be deleted. Use void for posted entries.","operationId":"delete_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/journal-entries/{entry_id}/post":{"post":{"tags":["journal-entries"],"summary":"Post Journal Entry","description":"Post a draft journal entry.\n\nAfter posting, the entry becomes immutable and affects account balances.\nChecks subscription transaction limit before posting.","operationId":"post_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}},{"name":"posting_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Posting date (defaults to entry date)","title":"Posting Date"},"description":"Posting date (defaults to entry date)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/journal-entries/{entry_id}/void":{"post":{"tags":["journal-entries"],"summary":"Void Journal Entry","description":"Void a posted journal entry.\n\nCreates a reversing entry to cancel the original.\nOriginal entry is marked as void and linked to the reversing entry.","operationId":"void_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryVoid"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/journal-entries/{entry_id}/correct":{"post":{"tags":["journal-entries"],"summary":"Correct Journal Entry","description":"Correct a posted journal entry.\n\nCreates a reversing entry and a new corrected entry.\nOriginal entry is superseded by the correction.\nReturns the corrected entry.","operationId":"correct_journal_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryCorrection"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JournalEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/":{"get":{"tags":["customers"],"summary":"List Customers","description":"List all customers for a company.\n\nSupports filtering by active status and search by name/email/number.","operationId":"list_customers","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter to active customers only","default":false,"title":"Active Only"},"description":"Filter to active customers only"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name, email, or number","title":"Search"},"description":"Search by name, email, or number"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerResponse"},"title":"Response List Customers"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["customers"],"summary":"Create Customer","description":"Create a new customer.\n\nCustomer numbers are auto-generated (CUST-0001, CUST-0002, etc.).","operationId":"create_customer","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}":{"get":{"tags":["customers"],"summary":"Get Customer","description":"Get customer details by ID.","operationId":"get_customer","security":[{"HTTPBearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["customers"],"summary":"Update Customer","description":"Update a customer.\n\nAll fields are optional - only provided fields are updated.","operationId":"update_customer","security":[{"HTTPBearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/deactivate":{"post":{"tags":["customers"],"summary":"Deactivate Customer","description":"Deactivate a customer (soft delete).\n\nCannot deactivate customers with open invoices.","operationId":"deactivate_customer","security":[{"HTTPBearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/activate":{"post":{"tags":["customers"],"summary":"Activate Customer","description":"Reactivate a deactivated customer.","operationId":"activate_customer","security":[{"HTTPBearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/balance":{"get":{"tags":["customers"],"summary":"Get Customer Balance","description":"Get customer balance information.\n\nReturns current balance and count of open invoices.","operationId":"get_customer_balance","security":[{"HTTPBearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerBalance"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/":{"get":{"tags":["invoices"],"summary":"List Invoices","description":"List all invoices for a company.\n\nSupports filtering by status and customer.","operationId":"list_invoices","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by customer","title":"Customer Id"},"description":"Filter by customer"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceResponse"},"title":"Response List Invoices"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["invoices"],"summary":"Create Invoice","description":"Create a new invoice.\n\nInvoice numbers are auto-generated (INV-2025-0001, etc.).\nInvoice is created in 'draft' status.","operationId":"create_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}":{"get":{"tags":["invoices"],"summary":"Get Invoice","description":"Get invoice details by ID, including line items.","operationId":"get_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Invoice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["invoices"],"summary":"Update Invoice","description":"Update a draft invoice.\n\nOnly draft invoices can be updated. Sent invoices must be voided first.","operationId":"update_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Invoice Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/send":{"post":{"tags":["invoices"],"summary":"Send Invoice","description":"Send an invoice.\n\nCreates journal entry: DR AR, CR Revenue.\nStatus changes from 'draft' to 'sent'.","operationId":"send_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Invoice Id"}},{"name":"ar_account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"AR account for journal entry","title":"Ar Account Id"},"description":"AR account for journal entry"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/void":{"post":{"tags":["invoices"],"summary":"Void Invoice","description":"Void an invoice.\n\nCreates reversing journal entry for sent invoices.\nOnly sent/viewed invoices with no payments can be voided.","operationId":"void_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Invoice Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceVoid"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/invoices/{invoice_id}/mark-viewed":{"post":{"tags":["invoices"],"summary":"Mark Invoice Viewed","description":"Mark an invoice as viewed.\n\nTypically called when customer views invoice via portal link.\nStatus changes from 'sent' to 'viewed'.","operationId":"mark_invoice_viewed","security":[{"HTTPBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Invoice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/due-for-generation":{"get":{"tags":["recurring-invoices"],"summary":"List Due For Generation","description":"List all recurring invoices due for generation.\n\nReturns recurring invoices where next_generation_date <= today\nand status is 'active'.","operationId":"list_recurring_invoices_due_for_generation","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DueForGenerationResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/recurring-invoices/":{"get":{"tags":["recurring-invoices"],"summary":"List Recurring Invoices","description":"List all recurring invoices for a company.\n\nSupports filtering by status and customer.","operationId":"list_recurring_invoices","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by customer","title":"Customer Id"},"description":"Filter by customer"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecurringInvoiceResponse"},"title":"Response List Recurring Invoices"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["recurring-invoices"],"summary":"Create Recurring Invoice","description":"Create a new recurring invoice template.\n\nThe recurring invoice is created in 'draft' status.\nActivate it to start the automatic generation schedule.","operationId":"create_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/{recurring_id}":{"get":{"tags":["recurring-invoices"],"summary":"Get Recurring Invoice","description":"Get recurring invoice details by ID, including line items.","operationId":"get_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["recurring-invoices"],"summary":"Update Recurring Invoice","description":"Update a draft recurring invoice.\n\nOnly draft recurring invoices can be updated.\nPause or end the schedule first if it's active.","operationId":"update_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/{recurring_id}/activate":{"post":{"tags":["recurring-invoices"],"summary":"Activate Recurring Invoice","description":"Activate a recurring invoice to start automatic generation.\n\nOnce activated, invoices will be generated according to the schedule.","operationId":"activate_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/{recurring_id}/pause":{"post":{"tags":["recurring-invoices"],"summary":"Pause Recurring Invoice","description":"Pause an active recurring invoice.\n\nNo invoices will be generated while paused.\nUse resume to restart generation.","operationId":"pause_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/{recurring_id}/resume":{"post":{"tags":["recurring-invoices"],"summary":"Resume Recurring Invoice","description":"Resume a paused recurring invoice.\n\nGeneration will resume according to the schedule.","operationId":"resume_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/{recurring_id}/end":{"post":{"tags":["recurring-invoices"],"summary":"End Recurring Invoice","description":"End a recurring invoice permanently.\n\nNo more invoices will be generated. This cannot be undone.","operationId":"end_recurring_invoice","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecurringInvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/recurring-invoices/{recurring_id}/generate":{"post":{"tags":["recurring-invoices"],"summary":"Generate Invoice From Recurring","description":"Manually generate an invoice from a recurring template.\n\nThe recurring invoice must be active.\nReturns the generated invoice.","operationId":"generate_invoice_from_recurring","security":[{"HTTPBearer":[]}],"parameters":[{"name":"recurring_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Recurring Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/":{"get":{"tags":["payments"],"summary":"List Payments","description":"List all payments for a company.\n\nSupports filtering by customer.","operationId":"list_payments_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by customer","title":"Customer Id"},"description":"Filter by customer"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentReceivedResponse"},"title":"Response List Payments Received"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["payments"],"summary":"Record Payment","description":"Record a customer payment.\n\nCreates journal entry: DR Cash/Bank, CR AR.\nPayment number is auto-generated (PMT-2025-0001, etc.).","operationId":"record_payment_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"ar_account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"AR account for journal entry","title":"Ar Account Id"},"description":"AR account for journal entry"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/{payment_id}":{"get":{"tags":["payments"],"summary":"Get Payment","description":"Get payment details by ID, including applications.","operationId":"get_payment_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/{payment_id}/apply":{"post":{"tags":["payments"],"summary":"Apply Payment","description":"Apply payment to an invoice.\n\nReduces payment's unapplied_amount and invoice's amount_due.","operationId":"apply_payment_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyPaymentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/{payment_id}/auto-apply":{"post":{"tags":["payments"],"summary":"Auto Apply Payment","description":"Automatically apply payment to oldest open invoices.\n\nApplies to invoices ordered by due_date (oldest first).","operationId":"auto_apply_payment_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/{payment_id}/applications/{application_id}":{"delete":{"tags":["payments"],"summary":"Unapply Payment","description":"Remove a payment application.\n\nRestores payment's unapplied_amount and invoice's amount_due.","operationId":"unapply_payment_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}},{"name":"application_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Application Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments/{payment_id}/void":{"post":{"tags":["payments"],"summary":"Void Payment","description":"Void a payment.\n\nCreates reversing journal entry.\nOnly unapplied payments can be voided.","operationId":"void_payment_received","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Void Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vendors/":{"get":{"tags":["vendors"],"summary":"List Vendors","description":"List all vendors for a company.\n\nSupports filtering by active status and search by name/email/number.","operationId":"list_vendors","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter to active vendors only","default":false,"title":"Active Only"},"description":"Filter to active vendors only"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name, email, or number","title":"Search"},"description":"Search by name, email, or number"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VendorResponse"},"title":"Response List Vendors"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["vendors"],"summary":"Create Vendor","description":"Create a new vendor.\n\nVendor numbers are auto-generated (VEND-0001, VEND-0002, etc.).","operationId":"create_vendor","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vendors/{vendor_id}":{"get":{"tags":["vendors"],"summary":"Get Vendor","description":"Get vendor details by ID.","operationId":"get_vendor","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["vendors"],"summary":"Update Vendor","description":"Update a vendor.\n\nAll fields are optional - only provided fields are updated.","operationId":"update_vendor","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vendors/{vendor_id}/deactivate":{"post":{"tags":["vendors"],"summary":"Deactivate Vendor","description":"Deactivate a vendor (soft delete).\n\nCannot deactivate vendors with open bills.","operationId":"deactivate_vendor","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vendors/{vendor_id}/activate":{"post":{"tags":["vendors"],"summary":"Activate Vendor","description":"Reactivate a deactivated vendor.","operationId":"activate_vendor","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vendors/{vendor_id}/balance":{"get":{"tags":["vendors"],"summary":"Get Vendor Balance","description":"Get vendor balance information.\n\nReturns current balance and count of open bills.","operationId":"get_vendor_balance","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorBalance"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vendors/{vendor_id}/tax-profile":{"get":{"tags":["vendors"],"summary":"Get Vendor Tax Profile","description":"Get vendor's tax profile information.\n\nReturns W-9 status, 1099 eligibility, and masked tax ID.\nTax IDs are never returned in full - only masked format (***-**-6789).","operationId":"get_vendor_tax_profile","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorTaxProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["vendors"],"summary":"Update Vendor Tax Profile","description":"Update vendor's tax profile information.\n\nTax IDs are encrypted before storage. All fields are optional -\nonly provided fields are updated.","operationId":"update_vendor_tax_profile","security":[{"HTTPBearer":[]}],"parameters":[{"name":"vendor_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vendor Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorTaxProfileUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorTaxProfileResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bills/":{"get":{"tags":["bills"],"summary":"List Bills","description":"List all bills for a company.\n\nSupports filtering by status and vendor.","operationId":"list_bills","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"vendor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by vendor","title":"Vendor Id"},"description":"Filter by vendor"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BillResponse"},"title":"Response List Bills"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["bills"],"summary":"Create Bill","description":"Create a new bill.\n\nBill numbers are auto-generated (BILL-2026-0001, etc.).\nBill is created in 'draft' status.","operationId":"create_bill","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bills/{bill_id}":{"get":{"tags":["bills"],"summary":"Get Bill","description":"Get bill details by ID, including line items.","operationId":"get_bill","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bill_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bill Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["bills"],"summary":"Update Bill","description":"Update a draft bill.\n\nOnly draft bills can be updated. Approved bills cannot be modified.","operationId":"update_bill","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bill_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bill Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bills/{bill_id}/approve":{"post":{"tags":["bills"],"summary":"Approve Bill","description":"Approve a bill.\n\nCreates journal entry: DR Expense accounts, CR AP.\nStatus changes from 'draft' to 'approved'.","operationId":"approve_bill","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bill_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bill Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillApprove"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bills/{bill_id}/void":{"post":{"tags":["bills"],"summary":"Void Bill","description":"Void a bill.\n\nCreates reversing journal entry for approved bills.\nOnly approved bills with no payments can be voided.","operationId":"void_bill","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bill_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bill Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillVoid"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/":{"get":{"tags":["purchase-orders"],"summary":"List Purchase Orders","description":"List all purchase orders for a company.\n\nSupports filtering by status and vendor.","operationId":"list_purchase_orders","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"vendor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by vendor","title":"Vendor Id"},"description":"Filter by vendor"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PurchaseOrderResponse"},"title":"Response List Purchase Orders"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["purchase-orders"],"summary":"Create Purchase Order","description":"Create a new purchase order.\n\nPO numbers are auto-generated (PO-2026-0001, etc.).\nPO is created in 'draft' status.","operationId":"create_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}":{"get":{"tags":["purchase-orders"],"summary":"Get Purchase Order","description":"Get purchase order details by ID, including line items.","operationId":"get_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["purchase-orders"],"summary":"Update Purchase Order","description":"Update a draft purchase order.\n\nOnly draft POs can be updated. Approved POs cannot be modified.","operationId":"update_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}/submit":{"post":{"tags":["purchase-orders"],"summary":"Submit Purchase Order","description":"Submit a draft PO for approval.\n\nStatus changes from 'draft' to 'submitted'.","operationId":"submit_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}/approve":{"post":{"tags":["purchase-orders"],"summary":"Approve Purchase Order","description":"Approve a submitted PO.\n\nStatus changes from 'submitted' to 'approved'.\nApproved POs are ready for goods receiving.","operationId":"approve_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}/reject":{"post":{"tags":["purchase-orders"],"summary":"Reject Purchase Order","description":"Reject a submitted PO back to draft.\n\nStatus changes from 'submitted' back to 'draft'.","operationId":"reject_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderReject"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}/cancel":{"post":{"tags":["purchase-orders"],"summary":"Cancel Purchase Order","description":"Cancel a draft or submitted PO.\n\nOnly draft and submitted POs can be cancelled.\nApproved POs cannot be cancelled.","operationId":"cancel_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}/receive":{"post":{"tags":["purchase-orders"],"summary":"Receive Items","description":"Receive items against a PO.\n\nRecords received quantities for specified line items.\nStatus changes based on received quantities:\n- 'approved' -> 'partial_received' (some items received)\n- 'approved' or 'partial_received' -> 'received' (all items received)","operationId":"receive_purchase_order_items","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiveItemsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/purchase-orders/{po_id}/close":{"post":{"tags":["purchase-orders"],"summary":"Close Purchase Order","description":"Close a received or partial_received PO.\n\nOnly POs that have received goods can be closed.","operationId":"close_purchase_order","security":[{"HTTPBearer":[]}],"parameters":[{"name":"po_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Po Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PurchaseOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments-made/":{"get":{"tags":["payments-made"],"summary":"List Payments Made","description":"List all payments made for a company.\n\nSupports filtering by vendor.","operationId":"list_payments_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"vendor_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by vendor","title":"Vendor Id"},"description":"Filter by vendor"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PaymentMadeResponse"},"title":"Response List Payments Made"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["payments-made"],"summary":"Record Payment Made","description":"Record a vendor payment.\n\nCreates journal entry: DR AP, CR Cash/Bank.\nPayment number is auto-generated (PAY-2026-0001, etc.).","operationId":"record_payment_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"ap_account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"AP account for journal entry","title":"Ap Account Id"},"description":"AP account for journal entry"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments-made/{payment_id}":{"get":{"tags":["payments-made"],"summary":"Get Payment Made","description":"Get payment details by ID, including applications.","operationId":"get_payment_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments-made/{payment_id}/apply":{"post":{"tags":["payments-made"],"summary":"Apply Payment To Bill","description":"Apply payment to a bill.\n\nReduces payment's unapplied_amount and bill's amount_due.","operationId":"apply_payment_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyBillPaymentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments-made/{payment_id}/auto-apply":{"post":{"tags":["payments-made"],"summary":"Auto Apply Payment","description":"Automatically apply payment to oldest open bills.\n\nApplies to bills ordered by due_date (oldest first).","operationId":"auto_apply_payment_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments-made/{payment_id}/applications/{application_id}":{"delete":{"tags":["payments-made"],"summary":"Unapply Payment","description":"Remove a payment application.\n\nRestores payment's unapplied_amount and bill's amount_due.","operationId":"unapply_payment_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}},{"name":"application_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Application Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments-made/{payment_id}/void":{"post":{"tags":["payments-made"],"summary":"Void Payment","description":"Void a payment.\n\nCreates reversing journal entry.\nOnly unapplied payments can be voided.","operationId":"void_payment_made","security":[{"HTTPBearer":[]}],"parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Payment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Void Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items":{"get":{"tags":["inventory"],"summary":"List Inventory Items","description":"List inventory items for a company.","operationId":"list_inventory_items","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by category","title":"Category"},"description":"Filter by category"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","default":true,"title":"Is Active"},"description":"Filter by active status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["inventory"],"summary":"Create Inventory Item","description":"Create a new inventory item.","operationId":"create_inventory_item","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items/{item_id}":{"get":{"tags":["inventory"],"summary":"Get Inventory Item","description":"Get an inventory item by ID.","operationId":"get_inventory_item","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["inventory"],"summary":"Update Inventory Item","description":"Update an inventory item.","operationId":"update_inventory_item","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryItemResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items/{item_id}/receive":{"post":{"tags":["inventory"],"summary":"Receive Goods","description":"Receive goods into inventory.\n\nCreates a cost batch and updates item quantity.","operationId":"receive_inventory_goods","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiveGoodsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryCostBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items/{item_id}/issue":{"post":{"tags":["inventory"],"summary":"Issue Goods","description":"Issue goods from inventory.\n\nConsumes cost batches using the item's costing method (FIFO/LIFO/Average).\nReturns the COGS calculation.","operationId":"issue_inventory_goods","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueGoodsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueGoodsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items/{item_id}/adjust":{"post":{"tags":["inventory"],"summary":"Adjust Inventory","description":"Make an inventory adjustment.\n\nUse positive quantity for found stock, negative for shrinkage/loss.","operationId":"adjust_inventory","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdjustInventoryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items/{item_id}/transactions":{"get":{"tags":["inventory"],"summary":"Get Item Transactions","description":"Get transaction history for an inventory item.","operationId":"get_inventory_item_transactions","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InventoryTransactionResponse"},"title":"Response Get Inventory Item Transactions"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/items/{item_id}/batches":{"get":{"tags":["inventory"],"summary":"Get Item Cost Batches","description":"Get available cost batches for an inventory item.","operationId":"get_inventory_item_cost_batches","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InventoryCostBatchResponse"},"title":"Response Get Inventory Item Cost Batches"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/low-stock":{"get":{"tags":["inventory"],"summary":"Get Low Stock Items","description":"Get inventory items below reorder level.","operationId":"get_low_stock_items","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LowStockItemResponse"},"title":"Response Get Low Stock Items"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/inventory/valuation":{"get":{"tags":["inventory"],"summary":"Get Inventory Valuation","description":"Get total inventory valuation for a company.","operationId":"get_inventory_valuation","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InventoryValueResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/":{"post":{"tags":["Projects"],"summary":"Create Project","description":"Create a new project.","operationId":"create_project","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Projects"],"summary":"List Projects","description":"List projects for a company.","operationId":"list_projects","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID to filter by","title":"Company Id"},"description":"Company ID to filter by"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Customer ID to filter by","title":"Customer Id"},"description":"Customer ID to filter by"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Status to filter by","title":"Status"},"description":"Status to filter by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectResponse"},"title":"Response List Projects"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}":{"get":{"tags":["Projects"],"summary":"Get Project","description":"Get a project by ID.","operationId":"get_project","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Projects"],"summary":"Update Project","description":"Update a project.","operationId":"update_project","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/activate":{"post":{"tags":["Projects"],"summary":"Activate Project","description":"Activate a project.","operationId":"activate_project","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/hold":{"post":{"tags":["Projects"],"summary":"Hold Project","description":"Put a project on hold.","operationId":"hold_project","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/complete":{"post":{"tags":["Projects"],"summary":"Complete Project","description":"Complete a project.","operationId":"complete_project","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/cancel":{"post":{"tags":["Projects"],"summary":"Cancel Project","description":"Cancel a project.","operationId":"cancel_project","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/summary":{"get":{"tags":["Projects"],"summary":"Get Project Summary","description":"Get project summary with profitability metrics.\n\nReturns a project with calculated profitability:\n- profit: revenue - costs\n- profit_margin: profit as percentage of revenue\n- budget_consumed_amount: costs as percentage of budget\n- budget_consumed_hours: hours as percentage of budgeted hours","operationId":"get_project_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/summaries/":{"get":{"tags":["Projects"],"summary":"List Project Summaries","description":"List project summaries with profitability metrics.\n\nReturns projects with calculated profitability:\n- profit: revenue - costs\n- profit_margin: profit as percentage of revenue\n- budget_consumed_amount: costs as percentage of budget\n- budget_consumed_hours: hours as percentage of budgeted hours","operationId":"list_project_summaries","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID to filter by","title":"Company Id"},"description":"Company ID to filter by"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Status to filter by","title":"Status"},"description":"Status to filter by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectSummary"},"title":"Response List Project Summaries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/time-entries":{"post":{"tags":["Projects"],"summary":"Create Time Entry","description":"Create a time entry for a project.","operationId":"create_project_time_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__projects__time_entry__TimeEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__projects__time_entry__TimeEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Projects"],"summary":"List Time Entries","description":"List time entries for a project.","operationId":"list_project_time_entries","security":[{"HTTPBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Project Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__schemas__projects__time_entry__TimeEntryResponse"},"title":"Response List Project Time Entries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/time-entries/{entry_id}":{"get":{"tags":["Time Entries"],"summary":"Get Time Entry","description":"Get a time entry by ID.","operationId":"get_time_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__projects__time_entry__TimeEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Time Entries"],"summary":"Update Time Entry","description":"Update a time entry.","operationId":"update_time_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimeEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__projects__time_entry__TimeEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Time Entries"],"summary":"Delete Time Entry","description":"Delete a time entry.\n\nRequires admin or owner role.","operationId":"delete_time_entry","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Entry Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/":{"post":{"tags":["Budgets"],"summary":"Create Budget","description":"Create a new budget.","operationId":"create_budget","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Budgets"],"summary":"List Budgets","description":"List budgets for a company.","operationId":"list_budgets","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID to filter by","title":"Company Id"},"description":"Company ID to filter by"},{"name":"fiscal_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Fiscal year to filter by","title":"Fiscal Year"},"description":"Fiscal year to filter by"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Status to filter by","title":"Status"},"description":"Status to filter by"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BudgetResponse"},"title":"Response List Budgets"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}":{"get":{"tags":["Budgets"],"summary":"Get Budget","description":"Get a budget by ID.","operationId":"get_budget","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}},{"name":"include_lines","in":"query","required":false,"schema":{"type":"boolean","description":"Include budget lines","default":false,"title":"Include Lines"},"description":"Include budget lines"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/BudgetResponse"},{"$ref":"#/components/schemas/BudgetWithLinesResponse"}],"title":"Response Get Budget"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Budgets"],"summary":"Update Budget","description":"Update a budget.","operationId":"update_budget","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}/activate":{"post":{"tags":["Budgets"],"summary":"Activate Budget","description":"Activate a budget (move from draft to active).","operationId":"activate_budget","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}/lock":{"post":{"tags":["Budgets"],"summary":"Lock Budget","description":"Lock a budget to prevent modifications.","operationId":"lock_budget","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}/archive":{"post":{"tags":["Budgets"],"summary":"Archive Budget","description":"Archive a budget.","operationId":"archive_budget","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}/recalculate":{"post":{"tags":["Budgets"],"summary":"Recalculate Budget Totals","description":"Recalculate budget totals from budget lines.","operationId":"recalculate_budget_totals","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}/analysis":{"get":{"tags":["Budgets"],"summary":"Get Budget Vs Actual","description":"Get budget vs actual analysis.\n\nCompares budgeted amounts against actual journal entry amounts\nfor each account in the budget.\n\nReturns:\n    - budget_id: Budget UUID\n    - budget_name: Budget name\n    - fiscal_year: Fiscal year\n    - period_type: monthly, quarterly, or annual\n    - line_items: List of accounts with budget/actual/variance","operationId":"get_budget_vs_actual","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}},{"name":"by_period","in":"query","required":false,"schema":{"type":"boolean","description":"Include period-by-period breakdown","default":false,"title":"By Period"},"description":"Include period-by-period breakdown"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Budget Vs Actual"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budgets/{budget_id}/lines":{"post":{"tags":["Budgets"],"summary":"Add Budget Line","description":"Add a budget line to a budget.","operationId":"add_budget_line","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetLineCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetLineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Budgets"],"summary":"List Budget Lines","description":"List budget lines for a budget.","operationId":"list_budget_lines","security":[{"HTTPBearer":[]}],"parameters":[{"name":"budget_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Budget Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BudgetLineResponse"},"title":"Response List Budget Lines"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/budget-lines/{line_id}":{"patch":{"tags":["Budget Lines"],"summary":"Update Budget Line","description":"Update a budget line.","operationId":"update_budget_line","security":[{"HTTPBearer":[]}],"parameters":[{"name":"line_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Line Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetLineUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BudgetLineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Budget Lines"],"summary":"Delete Budget Line","description":"Delete a budget line.\n\nRequires admin or owner role.","operationId":"delete_budget_line","security":[{"HTTPBearer":[]}],"parameters":[{"name":"line_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Line Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/ar-aging":{"get":{"tags":["reports"],"summary":"Get Ar Aging Report","description":"Get AR Aging Report.\n\nShows customer balances bucketed by days overdue:\n- Current: 0-30 days\n- 31-60 days\n- 61-90 days\n- 90+ days\n\nReturns list of customers with balances in each bucket.\nOnly includes customers with open invoices (sent/viewed/partial/overdue status).","operationId":"get_ar_aging_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"as_of_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Report date","title":"As Of Date"},"description":"Report date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceAgingSummary"},"title":"Response Get Ar Aging Report"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/ap-aging":{"get":{"tags":["reports"],"summary":"Get Ap Aging Report","description":"Get AP Aging Report.\n\nShows vendor balances bucketed by days overdue:\n- Current: 0-30 days\n- 31-60 days\n- 61-90 days\n- 90+ days\n\nReturns list of vendors with balances in each bucket.\nOnly includes vendors with open bills (approved/partial status).","operationId":"get_ap_aging_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"as_of_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Report date","title":"As Of Date"},"description":"Report date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BillAgingSummary"},"title":"Response Get Ap Aging Report"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/trial-balance":{"get":{"tags":["reports"],"summary":"Get Trial Balance","description":"Generate Trial Balance Report.\n\nLists all accounts with debit/credit balances.\nTotal debits should equal total credits.","operationId":"get_trial_balance_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"as_of_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Report date","title":"As Of Date"},"description":"Report date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrialBalanceReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/balance-sheet":{"get":{"tags":["reports"],"summary":"Get Balance Sheet","description":"Generate Balance Sheet Report.\n\nPoint-in-time financial position: Assets = Liabilities + Equity","operationId":"get_balance_sheet_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"as_of_date","in":"query","required":false,"schema":{"type":"string","format":"date","description":"Report date","title":"As Of Date"},"description":"Report date"},{"name":"include_comparison","in":"query","required":false,"schema":{"type":"boolean","description":"Include prior period comparison","default":false,"title":"Include Comparison"},"description":"Include prior period comparison"},{"name":"comparison_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Comparison date (defaults to prior year)","title":"Comparison Date"},"description":"Comparison date (defaults to prior year)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BalanceSheetReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/profit-loss":{"get":{"tags":["reports"],"summary":"Get Profit Loss","description":"Generate Profit & Loss (Income Statement) Report.\n\nRevenue - Expenses = Net Income for the period.","operationId":"get_profit_loss_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period start date","title":"Period Start"},"description":"Period start date"},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period end date","title":"Period End"},"description":"Period end date"},{"name":"include_comparison","in":"query","required":false,"schema":{"type":"boolean","description":"Include prior period comparison","default":false,"title":"Include Comparison"},"description":"Include prior period comparison"},{"name":"comparison_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Comparison period start","title":"Comparison Start"},"description":"Comparison period start"},{"name":"comparison_end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Comparison period end","title":"Comparison End"},"description":"Comparison period end"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfitLossReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/cash-flow":{"get":{"tags":["reports"],"summary":"Get Cash Flow","description":"Generate Cash Flow Statement (Indirect Method).\n\nShows cash movements categorized by:\n- Operating Activities\n- Investing Activities\n- Financing Activities","operationId":"get_cash_flow_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period start date","title":"Period Start"},"description":"Period start date"},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period end date","title":"Period End"},"description":"Period end date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashFlowReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/tax-summary":{"get":{"tags":["reports"],"summary":"Get Tax Summary","description":"Generate Tax Summary Report.\n\nShows tax collected (from invoices) vs tax paid (on bills) grouped by tax rate.\nReturns net tax liability (positive = tax owed, negative = refund due).","operationId":"get_tax_summary_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period start date","title":"Period Start"},"description":"Period start date"},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period end date","title":"Period End"},"description":"Period end date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxReportSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/vat-return":{"get":{"tags":["reports"],"summary":"Get Vat Return","description":"Generate VAT Return Report (UK/EU Box 1-9 format).\n\nStandard VAT return boxes:\n- Box 1: VAT due on sales\n- Box 2: VAT due on acquisitions from EU\n- Box 3: Total VAT due (1 + 2)\n- Box 4: VAT reclaimed on purchases\n- Box 5: Net VAT (3 - 4)\n- Box 6: Total value of sales ex VAT\n- Box 7: Total value of purchases ex VAT\n- Box 8: Total value of supplies to EU ex VAT\n- Box 9: Total value of acquisitions from EU ex VAT","operationId":"get_vat_return_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","description":"VAT period start date","title":"Period Start"},"description":"VAT period start date"},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","description":"VAT period end date","title":"Period End"},"description":"VAT period end date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VATReturnReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/tax-transactions":{"get":{"tags":["reports"],"summary":"Get Tax Transactions","description":"Get detailed list of tax transactions.\n\nReturns individual invoice lines and bill lines with tax applied,\nincluding counterparty name and tax rate details.\n\nCan be filtered by specific tax rate ID.","operationId":"get_tax_transactions_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period start date","title":"Period Start"},"description":"Period start date"},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Period end date","title":"Period End"},"description":"Period end date"},{"name":"tax_rate_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by specific tax rate","title":"Tax Rate Id"},"description":"Filter by specific tax rate"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaxTransaction"},"title":"Response Get Tax Transactions Report"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/cash-flow-daily":{"get":{"tags":["dashboard"],"summary":"Get Cash Flow Daily","description":"Get daily cash balance for the last N days.\n\nReturns a list of data points with date and balance for charting.\nBalance is calculated from current bank account balances minus\ndaily transaction sums working backwards.","operationId":"get_dashboard_cash_flow_daily","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID to get cash flow for","title":"Company Id"},"description":"Company ID to get cash flow for"},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":7,"description":"Number of days to include","default":30,"title":"Days"},"description":"Number of days to include"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CashFlowDailyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/activity":{"get":{"tags":["dashboard"],"summary":"Get Recent Activity","description":"Get recent activity feed for the dashboard.\n\nAggregates activities from invoices, bills, and bank transactions:\n- Invoice sent/paid events\n- Bill due/paid events\n- Transaction categorization events\n\nReturns activities sorted by timestamp descending.","operationId":"get_dashboard_recent_activity","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID to get activity for","title":"Company Id"},"description":"Company ID to get activity for"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Maximum activities to return","default":10,"title":"Limit"},"description":"Maximum activities to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivityFeedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/portal/health":{"get":{"tags":["portal"],"summary":"Get Portal Health","description":"Get health metrics for all accessible client organizations.\n\nReturns health data for all organizations where the user has\nan accepted membership with owner, admin, or accountant role.\n\nHealth status is determined by:\n- Critical: >5 uncategorized transactions OR >3 overdue invoices\n- Warning: 1-5 uncategorized OR 1-3 overdue invoices\n- Healthy: 0 uncategorized AND 0 overdue invoices\n\nReturns:\n    PortalHealthResponse with clients list and aggregated totals","operationId":"get_portal_health","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalHealthResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/portal/queue":{"get":{"tags":["portal"],"summary":"Get Portal Queue","description":"Get exception queue items across all accessible organizations.\n\nReturns uncategorized or low-confidence transactions from all\norganizations where the user has portal access.\n\nItems are sorted by urgency:\n- Uncategorized items first (no confidence score)\n- Then by confidence ascending (lowest confidence = highest priority)\n- Then by date descending (newest first)\n\nQuery Parameters:\n    uncategorized_only: If true, only show uncategorized items\n    limit: Maximum items to return (1-200, default 50)\n    offset: Pagination offset (default 0)\n\nReturns:\n    CrossClientQueueResponse with items and total count","operationId":"get_portal_queue","security":[{"HTTPBearer":[]}],"parameters":[{"name":"uncategorized_only","in":"query","required":false,"schema":{"type":"boolean","description":"If true, only show uncategorized items","default":false,"title":"Uncategorized Only"},"description":"If true, only show uncategorized items"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum items to return (1-200)","default":50,"title":"Limit"},"description":"Maximum items to return (1-200)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Offset"},"description":"Pagination offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CrossClientQueueResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accountant/clients":{"get":{"tags":["accountant"],"summary":"Get Assigned Clients","description":"Get all clients assigned to the current accountant.\n\nReturns a list of client organizations the accountant has been\nassigned to manage, including access levels and last accessed times.\n\nReturns:\n    List of AccountantClientResponse with client details","operationId":"get_accountant_assigned_clients","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AccountantClientResponse"},"type":"array","title":"Response Get Accountant Assigned Clients"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/accountant/clients/{org_id}/switch":{"post":{"tags":["accountant"],"summary":"Switch Client Context","description":"Switch to a client organization context.\n\nUpdates the last_accessed_at timestamp for the client assignment\nand prepares the context for working with this client.\n\nArgs:\n    org_id: Organization UUID to switch to\n\nReturns:\n    Success message with organization ID\n\nRaises:\n    HTTP 403: If user is not assigned to this organization","operationId":"switch_accountant_client_context","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","title":"Org Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Switch Accountant Client Context"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accountant/clients/{org_id}/summary":{"get":{"tags":["accountant"],"summary":"Get Client Summary","description":"Get health summary for a specific client organization.\n\nReturns key health metrics including uncategorized transaction count,\noverdue invoices, and cash balance for the specified client.\n\nArgs:\n    org_id: Organization UUID to get summary for\n\nReturns:\n    AccountantClientSummary with health metrics\n\nRaises:\n    HTTP 403: If user is not assigned to this organization\n    HTTP 404: If organization not found","operationId":"get_accountant_client_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"string","title":"Org Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountantClientSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accountant/clients/invite":{"post":{"tags":["accountant"],"summary":"Invite Client","description":"Invite an accountant to manage your organization.\n\n**Requires admin or owner role in the organization.**\n\nCreates an assignment between the specified accountant user and the\ncaller's organization. The accountant will then be able to manage\nthe organization's books based on the assigned access level.\n\nArgs:\n    create_data: Assignment data (accountant_user_id, access_level, notes)\n\nReturns:\n    AccountantClientResponse with created assignment details\n\nRaises:\n    HTTP 403: If caller is not admin/owner of the organization\n    HTTP 404: If accountant user not found\n    HTTP 409: If accountant already assigned to this organization","operationId":"invite_accountant_client","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountantClientCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountantClientResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/accountant/bulk-categorize":{"post":{"tags":["accountant"],"summary":"Bulk Categorize","description":"Categorize multiple transactions across organizations.\n\nAllows accountants to categorize up to 100 transactions in a single\nrequest. Each transaction must include the org_id to support\ncross-client operations.\n\nThe accountant must have 'full' or 'limited' access level\n(not 'read_only') to the organizations being modified.\n\nArgs:\n    request: BulkCategorizeRequest with items to categorize\n\nReturns:\n    BulkCategorizeResponse with success/failure counts and results\n\nRaises:\n    HTTP 403: If user lacks write access to any organization\n    HTTP 400: If request validation fails","operationId":"bulk_categorize_transactions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCategorizeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCategorizeResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/accountant/time/start":{"post":{"tags":["accountant"],"summary":"Start Timer","description":"Start a timer for time tracking.\n\nCreates a new time entry with the current time as start_time.\nDuration will be calculated when the timer is stopped.\n\nArgs:\n    request: TimerStartRequest with client org and task type\n\nReturns:\n    TimeEntryResponse for the created entry (in-progress)\n\nRaises:\n    HTTP 403: If user is not assigned to the client organization","operationId":"start_accountant_timer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerStartRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__accountant__TimeEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/accountant/time/stop":{"post":{"tags":["accountant"],"summary":"Stop Timer","description":"Stop an active timer and calculate duration.\n\nStops the timer for the specified time entry, calculates the\nduration from start to now, and optionally updates the description.\n\nArgs:\n    request: TimerStopRequest with entry ID and optional description\n\nReturns:\n    TimeEntryResponse for the completed entry\n\nRaises:\n    HTTP 404: If time entry not found\n    HTTP 400: If timer already stopped","operationId":"stop_accountant_timer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimerStopRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__accountant__TimeEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/accountant/time/entry":{"post":{"tags":["accountant"],"summary":"Create Time Entry","description":"Create a manual time entry.\n\nCreates a time entry with a specified duration (not timer-based).\nUse this for logging time after the fact.\n\nArgs:\n    entry: TimeEntryCreate with duration and details\n\nReturns:\n    TimeEntryResponse for the created entry\n\nRaises:\n    HTTP 403: If user is not assigned to the client organization","operationId":"create_accountant_time_entry","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__accountant__TimeEntryCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__accountant__TimeEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/accountant/time":{"get":{"tags":["accountant"],"summary":"Get Time Entries","description":"Get time entries with optional filters.\n\nReturns time entries for the current accountant with optional\nfiltering by client, date range, and task type.\n\nQuery Parameters:\n    client_org_id: Filter by client organization\n    start_date: Filter entries on or after this date\n    end_date: Filter entries on or before this date\n    task_type: Filter by task type\n    limit: Maximum entries to return (1-200, default 50)\n    offset: Pagination offset (default 0)\n\nReturns:\n    List of TimeEntryResponse","operationId":"get_accountant_time_entries","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by client organization ID","title":"Client Org Id"},"description":"Filter by client organization ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter entries on or after this date","title":"Start Date"},"description":"Filter entries on or after this date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter entries on or before this date","title":"End Date"},"description":"Filter entries on or before this date"},{"name":"task_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TaskType"},{"type":"null"}],"description":"Filter by task type","title":"Task Type"},"description":"Filter by task type"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum entries to return (1-200)","default":50,"title":"Limit"},"description":"Maximum entries to return (1-200)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Offset"},"description":"Pagination offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__schemas__accountant__TimeEntryResponse"},"title":"Response Get Accountant Time Entries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/accountant/time/summary":{"get":{"tags":["accountant"],"summary":"Get Time Summary","description":"Get aggregated time summary by client.\n\nReturns total minutes, billable minutes, and amounts grouped\nby client organization for the specified date range.\n\nQuery Parameters:\n    start_date: Filter entries on or after this date\n    end_date: Filter entries on or before this date\n\nReturns:\n    List of TimeEntrySummary per client","operationId":"get_accountant_time_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter entries on or after this date","title":"Start Date"},"description":"Filter entries on or after this date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Filter entries on or before this date","title":"End Date"},"description":"Filter entries on or before this date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimeEntrySummary"},"title":"Response Get Accountant Time Summary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts/":{"get":{"tags":["banking"],"summary":"List Bank Accounts","description":"List all bank accounts for a company.\n\nReturns active bank accounts by default. Use include_inactive=true to include all.","operationId":"list_bank_accounts","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","description":"Include inactive accounts","default":false,"title":"Include Inactive"},"description":"Include inactive accounts"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BankAccountResponse"},"title":"Response List Bank Accounts"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["banking"],"summary":"Create Bank Account","description":"Create a new bank account linked to a GL cash/bank account.\n\nThe GL account must be an asset-type account (cash, bank, etc.).\nAccount names must be unique within a company.","operationId":"create_bank_account","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankAccountCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts/{bank_account_id}":{"get":{"tags":["banking"],"summary":"Get Bank Account","description":"Get a bank account by ID.","operationId":"get_bank_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bank Account Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["banking"],"summary":"Update Bank Account","description":"Update a bank account.\n\nOnly provided fields will be updated. Account name uniqueness is enforced.","operationId":"update_bank_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bank Account Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankAccountUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["banking"],"summary":"Delete Bank Account","description":"Deactivate a bank account (soft delete).\n\nCannot deactivate if there is an in-progress reconciliation.","operationId":"delete_bank_account","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bank Account Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts/{bank_account_id}/summary":{"get":{"tags":["banking"],"summary":"Get Bank Account Summary","description":"Get bank account summary with reconciliation status.\n\nIncludes balance information, transaction counts, and in-progress reconciliation.","operationId":"get_bank_account_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bank Account Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankAccountSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-accounts/{bank_account_id}/import":{"post":{"tags":["banking"],"summary":"Import Statement","description":"Import bank statement from CSV or QIF file.\n\nSupported formats:\n- Chase CSV\n- Bank of America CSV\n- Generic CSV (auto-detect columns)\n- QIF (Quicken Interchange Format)\n\nDuplicate transactions are automatically detected and skipped.","operationId":"import_bank_statement","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Bank Account Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_bank_statement"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatementImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/":{"get":{"tags":["banking"],"summary":"List Transactions","description":"List bank transactions for a bank account.\n\nCan filter by status: pending, matched, categorized, reconciled, excluded.","operationId":"list_bank_transactions","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Bank account ID","title":"Bank Account Id"},"description":"Bank account ID"},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BankTransactionResponse"},"title":"Response List Bank Transactions"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/{transaction_id}":{"get":{"tags":["banking"],"summary":"Get Transaction","description":"Get a bank transaction by ID.","operationId":"get_bank_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["banking"],"summary":"Update Transaction","description":"Update a bank transaction.\n\nPrimarily for editing payee, memo, or transaction_type.","operationId":"update_bank_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/{transaction_id}/suggestions":{"get":{"tags":["banking"],"summary":"Get Match Suggestions","description":"Get match suggestions for a bank transaction.\n\nReturns potential matches from PaymentReceived, PaymentMade, and JournalEntry.","operationId":"get_bank_transaction_match_suggestions","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MatchSuggestion"},"title":"Response Get Bank Transaction Match Suggestions"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/{transaction_id}/match":{"post":{"tags":["banking"],"summary":"Match Transaction","description":"Match a bank transaction to a payment or journal entry.\n\nmatch_type: \"payment_received\", \"payment_made\", or \"journal_entry\"","operationId":"match_bank_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionMatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/{transaction_id}/unmatch":{"post":{"tags":["banking"],"summary":"Unmatch Transaction","description":"Remove a transaction match.","operationId":"unmatch_bank_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/{transaction_id}/categorize":{"post":{"tags":["banking"],"summary":"Categorize Transaction","description":"Create a journal entry for an unmatched transaction.\n\nThis categorizes the transaction by creating a JE that debits/credits\nthe bank's GL account and the specified category account.","operationId":"categorize_bank_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionCategorize"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/{transaction_id}/exclude":{"post":{"tags":["banking"],"summary":"Exclude Transaction","description":"Exclude a transaction from reconciliation.\n\nUsed for duplicate imports, personal transactions, etc.","operationId":"exclude_bank_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bank-transactions/auto-match":{"post":{"tags":["banking"],"summary":"Auto Match Transactions","description":"Auto-match all pending transactions for a bank account.\n\nReturns statistics on how many transactions were matched.","operationId":"auto_match_bank_transactions","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Bank account ID","title":"Bank Account Id"},"description":"Bank account ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AutoMatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reconciliations/":{"get":{"tags":["banking"],"summary":"List Reconciliations","description":"List reconciliations for a bank account.","operationId":"list_reconciliations","security":[{"HTTPBearer":[]}],"parameters":[{"name":"bank_account_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Bank account ID","title":"Bank Account Id"},"description":"Bank account ID"},{"name":"include_void","in":"query","required":false,"schema":{"type":"boolean","description":"Include voided reconciliations","default":false,"title":"Include Void"},"description":"Include voided reconciliations"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReconciliationResponse"},"title":"Response List Reconciliations"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["banking"],"summary":"Start Reconciliation","description":"Start a new bank reconciliation.\n\nOnly one reconciliation can be in progress at a time per bank account.","operationId":"start_reconciliation","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reconciliations/{reconciliation_id}":{"get":{"tags":["banking"],"summary":"Get Reconciliation","description":"Get reconciliation with summary details.","operationId":"get_reconciliation","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reconciliation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reconciliation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reconciliations/{reconciliation_id}/clear/{transaction_id}":{"post":{"tags":["banking"],"summary":"Clear Transaction","description":"Mark a transaction as cleared for reconciliation.","operationId":"clear_reconciliation_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reconciliation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reconciliation Id"}},{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reconciliations/{reconciliation_id}/unclear/{transaction_id}":{"post":{"tags":["banking"],"summary":"Unclear Transaction","description":"Remove a transaction from reconciliation (unclear it).","operationId":"unclear_reconciliation_transaction","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reconciliation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reconciliation Id"}},{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transaction Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reconciliations/{reconciliation_id}/complete":{"post":{"tags":["banking"],"summary":"Complete Reconciliation","description":"Complete the reconciliation.\n\nCan only complete when the difference is $0.","operationId":"complete_reconciliation","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reconciliation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reconciliation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reconciliations/{reconciliation_id}/void":{"post":{"tags":["banking"],"summary":"Void Reconciliation","description":"Void (cancel) a reconciliation.\n\nUnlinks all cleared transactions and marks the reconciliation as void.","operationId":"void_reconciliation","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reconciliation_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Reconciliation Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/categorize/":{"post":{"tags":["ai-categorization"],"summary":"Categorize Single","description":"Classify a single transaction.","operationId":"categorize_single_api_v1_ai_categorize__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transaction_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID to classify","title":"Transaction Id"},"description":"Transaction ID to classify"},{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassificationResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/categorize/batch":{"post":{"tags":["ai-categorization"],"summary":"Categorize Batch","description":"Classify multiple transactions.","operationId":"categorize_batch_api_v1_ai_categorize_batch_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassificationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchClassificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/categorize/queue":{"get":{"tags":["ai-categorization"],"summary":"Get Review Queue","description":"Get transactions needing human review.","operationId":"get_review_queue_api_v1_ai_categorize_queue_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"confidence_max","in":"query","required":false,"schema":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"description":"Max confidence","default":0.95,"title":"Confidence Max"},"description":"Max confidence"},{"name":"confidence_min","in":"query","required":false,"schema":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"description":"Min confidence","title":"Confidence Min"},"description":"Min confidence"},{"name":"uncategorized_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only uncategorized items","default":false,"title":"Uncategorized Only"},"description":"Only uncategorized items"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Max items to return","default":50,"title":"Limit"},"description":"Max items to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReviewQueueItem"},"title":"Response Get Review Queue Api V1 Ai Categorize Queue Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/categorize/confirm":{"post":{"tags":["ai-categorization"],"summary":"Confirm Classification","description":"Confirm or correct a classification.","operationId":"confirm_classification_api_v1_ai_categorize_confirm_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmClassificationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/feedback/metrics":{"get":{"tags":["ai-feedback"],"summary":"Get Metrics","description":"Get categorization metrics for a company.\n\nReturns accuracy, correction rate, rule coverage, and other metrics\nfor the specified period.","operationId":"get_metrics_api_v1_ai_feedback_metrics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start of period","title":"Start Date"},"description":"Start of period"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End of period","title":"End Date"},"description":"End of period"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetricsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/feedback/suggestions":{"get":{"tags":["ai-feedback"],"summary":"Get Rule Suggestions","description":"Get rule suggestions based on correction patterns.\n\nReturns vendors that are consistently corrected to the same account,\nsuggesting they should become automatic rules.","operationId":"get_rule_suggestions_api_v1_ai_feedback_suggestions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"min_corrections","in":"query","required":false,"schema":{"type":"integer","maximum":10,"minimum":2,"description":"Min corrections needed","default":3,"title":"Min Corrections"},"description":"Min corrections needed"},{"name":"min_consistency","in":"query","required":false,"schema":{"type":"number","maximum":1.0,"minimum":0.5,"description":"Min consistency","default":0.9,"title":"Min Consistency"},"description":"Min consistency"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RuleSuggestionResponse"},"title":"Response Get Rule Suggestions Api V1 Ai Feedback Suggestions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/feedback/suggestions/approve":{"post":{"tags":["ai-feedback"],"summary":"Approve Suggestion","description":"Approve a rule suggestion and create the rule.\n\nCreates a categorization rule from the suggestion.\nReturns the action taken (created, updated, or skipped).","operationId":"approve_suggestion_api_v1_ai_feedback_suggestions_approve_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RuleApprovalRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RuleApprovalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/feedback/trend":{"get":{"tags":["ai-feedback"],"summary":"Get Accuracy Trend","description":"Get daily accuracy trend for a company.\n\nReturns accuracy rate per day for the specified number of days.","operationId":"get_accuracy_trend_api_v1_ai_feedback_trend_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":7,"description":"Number of days","default":30,"title":"Days"},"description":"Number of days"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccuracyTrendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/rules/":{"get":{"tags":["ai-rules"],"summary":"List Rules","description":"List categorization rules for a company.","operationId":"list_rules_api_v1_ai_rules__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"rule_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by rule type","title":"Rule Type"},"description":"Filter by rule type"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Max items to return","default":100,"title":"Limit"},"description":"Max items to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategorizationRuleResponse"},"title":"Response List Rules Api V1 Ai Rules  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["ai-rules"],"summary":"Create Rule","description":"Create a new categorization rule.","operationId":"create_rule_api_v1_ai_rules__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategorizationRuleCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategorizationRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/rules/{rule_id}":{"delete":{"tags":["ai-rules"],"summary":"Delete Rule","description":"Delete a categorization rule.","operationId":"delete_rule_api_v1_ai_rules__rule_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["ai-rules"],"summary":"Get Rule","description":"Get a specific categorization rule.","operationId":"get_rule_api_v1_ai_rules__rule_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rule_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rule Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategorizationRuleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/":{"get":{"tags":["currencies"],"summary":"List Currencies","description":"List all supported ISO 4217 currencies.\n\nPublic endpoint - no authentication required.\nReturns currency codes, names, symbols, and decimal places.","operationId":"list_currencies","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CurrencyInfo"},"type":"array","title":"Response List Currencies"}}}}}}},"/api/v1/currencies/convert":{"get":{"tags":["currencies"],"summary":"Convert Currency","description":"Convert an amount between currencies using organization's exchange rates.\n\nRequires authentication as it uses org-specific exchange rates.\n\nArgs:\n    from_currency: Source currency code (ISO 4217).\n    to_currency: Target currency code (ISO 4217).\n    amount: Amount to convert.\n\nReturns:\n    Conversion result with converted amount and rate used.","operationId":"convert_currency","security":[{"HTTPBearer":[]}],"parameters":[{"name":"from_currency","in":"query","required":true,"schema":{"type":"string","description":"Source currency code","title":"From Currency"},"description":"Source currency code"},{"name":"to_currency","in":"query","required":true,"schema":{"type":"string","description":"Target currency code","title":"To Currency"},"description":"Target currency code"},{"name":"amount","in":"query","required":true,"schema":{"anyOf":[{"type":"number"},{"type":"string"}],"description":"Amount to convert","title":"Amount"},"description":"Amount to convert"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversionResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/{code}":{"get":{"tags":["currencies"],"summary":"Get Currency","description":"Get details for a specific currency by ISO 4217 code.\n\nPublic endpoint - no authentication required.\n\nArgs:\n    code: ISO 4217 currency code (e.g., USD, EUR, GBP).\n\nReturns:\n    Currency information including name, symbol, and decimal places.\n\nRaises:\n    404: If currency code is not found.","operationId":"get_currency","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exchange-rates/":{"get":{"tags":["exchange-rates"],"summary":"List Exchange Rates","description":"List exchange rates for the organization.\n\nOptionally filter by currency pair.\n\nArgs:\n    from_currency: Filter by source currency (optional).\n    to_currency: Filter by target currency (optional).\n\nReturns:\n    List of exchange rates.","operationId":"list_exchange_rates","security":[{"HTTPBearer":[]}],"parameters":[{"name":"from_currency","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Currency"}},{"name":"to_currency","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Currency"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExchangeRateResponse"},"title":"Response List Exchange Rates"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["exchange-rates"],"summary":"Create Exchange Rate","description":"Create a new exchange rate.\n\nArgs:\n    data: Exchange rate creation data.\n\nReturns:\n    The created exchange rate.","operationId":"create_exchange_rate","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/exchange-rates/{rate_id}":{"get":{"tags":["exchange-rates"],"summary":"Get Exchange Rate","description":"Get a specific exchange rate by ID.\n\nArgs:\n    rate_id: The exchange rate ID.\n\nReturns:\n    The exchange rate.\n\nRaises:\n    404: If rate not found.","operationId":"get_exchange_rate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rate Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["exchange-rates"],"summary":"Update Exchange Rate","description":"Update an exchange rate.\n\nArgs:\n    rate_id: The exchange rate ID.\n    data: Update data.\n\nReturns:\n    The updated exchange rate.\n\nRaises:\n    404: If rate not found.","operationId":"update_exchange_rate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rate Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["exchange-rates"],"summary":"Delete Exchange Rate","description":"Delete an exchange rate.\n\nArgs:\n    rate_id: The exchange rate ID.\n\nRaises:\n    404: If rate not found.","operationId":"delete_exchange_rate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rate Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-rates/":{"get":{"tags":["tax-rates"],"summary":"List Tax Rates","description":"List tax rates for a company.\n\nArgs:\n    company_id: The company ID (required).\n    active_only: Only return active rates (default: True).\n    tax_type: Filter by tax type (optional).\n\nReturns:\n    List of tax rates.","operationId":"list_tax_rates","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Company ID","title":"Company Id"},"description":"Company ID"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Active Only"}},{"name":"tax_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaxRateResponse"},"title":"Response List Tax Rates"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tax-rates"],"summary":"Create Tax Rate","description":"Create a new tax rate.\n\nArgs:\n    data: Tax rate creation data.\n\nReturns:\n    The created tax rate.","operationId":"create_tax_rate","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxRateCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-rates/{rate_id}":{"get":{"tags":["tax-rates"],"summary":"Get Tax Rate","description":"Get a specific tax rate by ID.\n\nArgs:\n    rate_id: The tax rate ID.\n\nReturns:\n    The tax rate.\n\nRaises:\n    404: If rate not found.","operationId":"get_tax_rate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rate Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["tax-rates"],"summary":"Update Tax Rate","description":"Update a tax rate.\n\nArgs:\n    rate_id: The tax rate ID.\n    data: Update data.\n\nReturns:\n    The updated tax rate.\n\nRaises:\n    404: If rate not found.","operationId":"update_tax_rate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rate Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxRateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-rates/{rate_id}/deactivate":{"post":{"tags":["tax-rates"],"summary":"Deactivate Tax Rate","description":"Deactivate (soft delete) a tax rate.\n\nArgs:\n    rate_id: The tax rate ID.\n\nReturns:\n    The deactivated tax rate.\n\nRaises:\n    404: If rate not found.","operationId":"deactivate_tax_rate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"rate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Rate Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-rates/calculate":{"post":{"tags":["tax-rates"],"summary":"Calculate Tax","description":"Calculate tax for an amount with one or more tax rates.\n\nSupports compound taxes (applied after other taxes).\n\nArgs:\n    data: Calculation request with amount and tax rate IDs.\n\nReturns:\n    Tax calculation result with breakdown.","operationId":"calculate_tax","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxCalculationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxCalculationResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tax-forms/tax-years/":{"get":{"tags":["tax-years"],"summary":"List Tax Years","description":"List tax years for a company.\n\nArgs:\n    company_id: The company ID (required).\n    status_filter: Filter by status (optional).\n\nReturns:\n    List of tax years.","operationId":"list_tax_years","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TaxYearStatus"},{"type":"null"}],"title":"Status Filter"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaxYearResponse"},"title":"Response List Tax Years"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tax-years"],"summary":"Create Tax Year","description":"Create a new tax year.\n\nArgs:\n    data: Tax year creation data.\n\nReturns:\n    The created tax year.","operationId":"create_tax_year","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxYearCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxYearResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/tax-years/{tax_year_id}":{"get":{"tags":["tax-years"],"summary":"Get Tax Year","description":"Get a specific tax year by ID.\n\nArgs:\n    tax_year_id: The tax year ID.\n\nReturns:\n    The tax year.\n\nRaises:\n    404: If tax year not found.","operationId":"get_tax_year","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxYearResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["tax-years"],"summary":"Update Tax Year","description":"Update a tax year.\n\nArgs:\n    tax_year_id: The tax year ID.\n    data: Update data.\n\nReturns:\n    The updated tax year.\n\nRaises:\n    404: If tax year not found.","operationId":"update_tax_year","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxYearUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxYearResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/tax-years/{tax_year_id}/close":{"post":{"tags":["tax-years"],"summary":"Close Tax Year","description":"Close a tax year (mark as filed).\n\nArgs:\n    tax_year_id: The tax year ID.\n\nReturns:\n    The closed tax year.\n\nRaises:\n    404: If tax year not found.","operationId":"close_tax_year","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxYearResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/tax-years/{tax_year_id}/threshold":{"get":{"tags":["tax-years"],"summary":"Get Effective Threshold","description":"Get the effective 1099 threshold for a tax year.\n\nReturns the custom override if set, otherwise the legal default\nfor that year ($600 pre-2026, $2000 2026+).\n\nArgs:\n    tax_year_id: The tax year ID.\n\nReturns:\n    Threshold information.\n\nRaises:\n    404: If tax year not found.","operationId":"get_tax_year_effective_threshold","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ThresholdResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099/":{"get":{"tags":["form-1099"],"summary":"List Form 1099","description":"List Form 1099 records for a tax year.\n\nArgs:\n    tax_year_id: The tax year ID (required).\n    status_filter: Filter by status (optional).\n    form_type: Filter by form type (optional).\n\nReturns:\n    List of 1099 forms.","operationId":"list_form_1099","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Form1099Status"},{"type":"null"}],"title":"Status Filter"}},{"name":"form_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Form1099Type"},{"type":"null"}],"title":"Form Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Form1099Response"},"title":"Response List Form 1099"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099/eligible-vendors":{"get":{"tags":["form-1099"],"summary":"Get Eligible Vendors","description":"Get vendors eligible for 1099 reporting.\n\nReturns vendors with payments exceeding the threshold.","operationId":"get_form_1099_eligible_vendors","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"tax_year_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EligibleVendorInfo"},"title":"Response Get Form 1099 Eligible Vendors"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099/missing-tax-form":{"get":{"tags":["form-1099"],"summary":"Get Missing Tax Form Vendors","description":"Get vendors missing required tax forms.\n\nReturns tax-reportable vendors without tax form on file.\nWorks across jurisdictions (W-9 for US, VAT cert for EU, etc.).","operationId":"get_form_1099_missing_tax_form_vendors","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MissingTaxFormResponse"},"title":"Response Get Form 1099 Missing Tax Form Vendors"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099/{form_id}":{"get":{"tags":["form-1099"],"summary":"Get Form 1099","description":"Get a specific Form 1099 by ID.\n\nArgs:\n    form_id: The form ID.\n\nReturns:\n    The 1099 form.\n\nRaises:\n    404: If form not found.","operationId":"get_form_1099","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099/generate":{"post":{"tags":["form-1099"],"summary":"Generate Form 1099","description":"Generate a Form 1099 for a vendor.\n\nCalculates payments for the tax year and creates the form.","operationId":"generate_form_1099","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tax-forms/1099/{form_id}/void":{"post":{"tags":["form-1099"],"summary":"Void Form 1099","description":"Void a Form 1099.\n\nArgs:\n    form_id: The form ID.\n\nReturns:\n    The voided form.\n\nRaises:\n    404: If form not found.","operationId":"void_form_1099","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099/{form_id}/correct":{"post":{"tags":["form-1099"],"summary":"Create Corrected Form 1099","description":"Create a corrected Form 1099.\n\nArgs:\n    form_id: The original form ID to correct.\n    data: Correction data.\n\nReturns:\n    The corrected form.\n\nRaises:\n    404: If original form not found.","operationId":"create_corrected_form_1099","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CorrectionRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099k/":{"get":{"tags":["form-1099k"],"summary":"List Form 1099K","description":"List Form 1099-K records for a tax year.\n\nArgs:\n    tax_year_id: The tax year ID (required).\n    processor_name: Filter by processor name (optional).\n    status_filter: Filter by status (optional).\n\nReturns:\n    List of 1099-K forms.","operationId":"list_form_1099k","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}},{"name":"processor_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processor Name"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Form1099KStatus"},{"type":"null"}],"title":"Status Filter"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Form1099KResponse"},"title":"Response List Form 1099K"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["form-1099k"],"summary":"Create Form 1099K","description":"Create a new Form 1099-K record.\n\nArgs:\n    data: Form data.\n\nReturns:\n    The created 1099-K form.","operationId":"create_form_1099k","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateForm1099KRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099k/summary":{"get":{"tags":["form-1099k"],"summary":"Get Summary","description":"Get aggregated summary of 1099-K records for a tax year.\n\nReturns totals, threshold status, and per-processor breakdown.","operationId":"get_form_1099k_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099k/{form_id}":{"get":{"tags":["form-1099k"],"summary":"Get Form 1099K","description":"Get a specific Form 1099-K by ID.\n\nArgs:\n    form_id: The form ID.\n\nReturns:\n    The 1099-K form.\n\nRaises:\n    404: If form not found.","operationId":"get_form_1099k","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["form-1099k"],"summary":"Update Form 1099K","description":"Update a Form 1099-K record.\n\nArgs:\n    form_id: The form ID.\n    data: Update data.\n\nReturns:\n    The updated 1099-K form.","operationId":"update_form_1099k","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateForm1099KRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099k/import":{"post":{"tags":["form-1099k"],"summary":"Import Processor Data","description":"Import 1099-K data from a payment processor.\n\nAccepts raw processor data and creates a 1099-K record.\n\nArgs:\n    data: Import request with processor data.\n\nReturns:\n    The imported 1099-K form.","operationId":"import_form_1099k_processor_data","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportForm1099KRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tax-forms/1099k/{form_id}/review":{"post":{"tags":["form-1099k"],"summary":"Mark As Reviewed","description":"Mark a 1099-K record as reviewed.\n\nArgs:\n    form_id: The form ID.\n\nReturns:\n    The updated 1099-K form.","operationId":"review_form_1099k","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/1099k/{form_id}/file":{"post":{"tags":["form-1099k"],"summary":"Mark As Filed","description":"Mark a 1099-K record as filed.\n\nArgs:\n    form_id: The form ID.\n\nReturns:\n    The updated 1099-K form.","operationId":"file_form_1099k","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Form1099KResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/quarterly-estimates/":{"get":{"tags":["quarterly-estimates"],"summary":"List Estimates","description":"List quarterly estimates for a tax year.","operationId":"list_quarterly_estimates","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/QuarterlyEstimateStatus"},{"type":"null"}],"title":"Status Filter"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QuarterlyEstimateResponse"},"title":"Response List Quarterly Estimates"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/quarterly-estimates/summary":{"get":{"tags":["quarterly-estimates"],"summary":"Get Summary","description":"Get summary of quarterly estimates for a tax year.","operationId":"get_quarterly_estimates_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EstimateSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/quarterly-estimates/{estimate_id}":{"get":{"tags":["quarterly-estimates"],"summary":"Get Estimate","description":"Get a specific quarterly estimate.","operationId":"get_quarterly_estimate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"estimate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Estimate Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuarterlyEstimateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["quarterly-estimates"],"summary":"Update Estimate","description":"Update a quarterly estimate.","operationId":"update_quarterly_estimate","security":[{"HTTPBearer":[]}],"parameters":[{"name":"estimate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Estimate Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEstimateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuarterlyEstimateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/quarterly-estimates/calculate":{"post":{"tags":["quarterly-estimates"],"summary":"Create Estimate","description":"Create and calculate a quarterly estimate.","operationId":"create_quarterly_estimate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEstimateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuarterlyEstimateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tax-forms/quarterly-estimates/{estimate_id}/pay":{"post":{"tags":["quarterly-estimates"],"summary":"Record Payment","description":"Record a payment for a quarterly estimate.","operationId":"record_quarterly_estimate_payment","security":[{"HTTPBearer":[]}],"parameters":[{"name":"estimate_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Estimate Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordPaymentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuarterlyEstimateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/schedule-c/line-items":{"get":{"tags":["schedule-c"],"summary":"List Line Items","description":"List available Schedule C line items.\n\nReturns all IRS Schedule C expense line items (Lines 8-27).","operationId":"list_schedule_c_line_items","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/LineItemInfo"},"type":"array","title":"Response List Schedule C Line Items"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tax-forms/schedule-c/mappings/":{"get":{"tags":["schedule-c"],"summary":"List Mappings","description":"List Schedule C mappings for a company.\n\nArgs:\n    company_id: The company ID (required).\n    line_item: Filter by line item (optional).\n    active_only: Only return active mappings.\n\nReturns:\n    List of Schedule C mappings.","operationId":"list_schedule_c_mappings","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"line_item","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ScheduleCLineItem"},{"type":"null"}],"title":"Line Item"}},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Active Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MappingResponse"},"title":"Response List Schedule C Mappings"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["schedule-c"],"summary":"Create Mapping","description":"Create a new Schedule C mapping.\n\nMaps an expense account to an IRS Schedule C line item.","operationId":"create_schedule_c_mapping","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/schedule-c/unmapped-accounts":{"get":{"tags":["schedule-c"],"summary":"Get Unmapped Accounts","description":"Get expense accounts without Schedule C mappings.\n\nReturns expense accounts that haven't been mapped to Schedule C\nline items yet.","operationId":"get_schedule_c_unmapped_accounts","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UnmappedAccountInfo"},"title":"Response Get Schedule C Unmapped Accounts"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/schedule-c/mappings/{mapping_id}":{"get":{"tags":["schedule-c"],"summary":"Get Mapping","description":"Get a specific Schedule C mapping by ID.\n\nArgs:\n    mapping_id: The mapping ID.\n\nReturns:\n    The Schedule C mapping.\n\nRaises:\n    404: If mapping not found.","operationId":"get_schedule_c_mapping","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Mapping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["schedule-c"],"summary":"Update Mapping","description":"Update an existing Schedule C mapping.\n\nArgs:\n    mapping_id: The mapping ID.\n    data: Update data.\n\nReturns:\n    The updated mapping.\n\nRaises:\n    404: If mapping not found.","operationId":"update_schedule_c_mapping","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Mapping Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleCMappingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["schedule-c"],"summary":"Delete Mapping","description":"Delete a Schedule C mapping.\n\nArgs:\n    mapping_id: The mapping ID.\n\nRaises:\n    404: If mapping not found.","operationId":"delete_schedule_c_mapping","security":[{"HTTPBearer":[]}],"parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Mapping Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/state-sales-tax/summary":{"get":{"tags":["state-sales-tax"],"summary":"Get State Sales Tax Summary","description":"Get state-by-state sales tax summary for a period.\n\nReturns sales tax collected, aggregated by US state, for the specified\nperiod. Useful for multi-state sales tax filing.\n\nArgs:\n    company_id: The company ID.\n    period_start: Start of the reporting period.\n    period_end: End of the reporting period.\n\nReturns:\n    StateSalesTaxReport with per-state breakdowns.\n\nRaises:\n    403: If organization context is missing.\n    400: If period_end is before period_start.","operationId":"get_state_sales_tax_summary","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period Start"}},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StateSalesTaxReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/vat-returns/calculate":{"get":{"tags":["vat-returns"],"summary":"Calculate Vat Return","description":"Calculate UK VAT return data for a period.\n\nReturns VAT return data in HMRC MTD format (9 boxes) based on\ninvoices and bills for the specified period.\n\nArgs:\n    company_id: The company ID.\n    period_start: Start of the VAT period.\n    period_end: End of the VAT period.\n\nReturns:\n    UKVATReturnData with all 9 boxes calculated.\n\nRaises:\n    403: If organization context is missing.\n    400: If period_end is before period_start.","operationId":"calculate_vat_return","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period Start"}},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UKVATReturnData"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/vat-oss/report":{"get":{"tags":["vat-oss"],"summary":"Generate Oss Report","description":"Generate EU VAT OSS quarterly report.\n\nReturns VAT collected on cross-border B2C sales within the EU,\ngrouped by destination country and VAT rate.\n\nArgs:\n    company_id: The company ID.\n    quarter: Quarter in YYYY-QN format (e.g., 2025-Q1).\n    registration_country: Company's EU registration country (e.g., IE).\n\nReturns:\n    EUVATOSSReport with per-country VAT breakdown.\n\nRaises:\n    403: If organization context is missing.\n    400: If quarter format is invalid.","operationId":"generate_vat_oss_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"quarter","in":"query","required":true,"schema":{"type":"string","title":"Quarter"}},{"name":"registration_country","in":"query","required":true,"schema":{"type":"string","title":"Registration Country"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EUVATOSSReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/vat-oss/validate-vat":{"post":{"tags":["vat-oss"],"summary":"Validate Vat Number","description":"Validate EU VAT number via VIES.\n\nChecks if a VAT registration number is valid in the EU\nVIES (VAT Information Exchange System).\n\nArgs:\n    request: Validation request with country code and VAT number.\n\nReturns:\n    VIESValidationResponse with validation result and business details.\n\nRaises:\n    503: If VIES service is unavailable.","operationId":"validate_vat_number","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VIESValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VIESValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/tax-forms/bas/report":{"get":{"tags":["bas"],"summary":"Generate Bas Report","description":"Generate Australian BAS report for a period.\n\nAggregates GST from sales (invoices) and purchases (bills) following\nATO BAS form structure (G1-G11, 1A, 1B).\n\nArgs:\n    company_id: The company ID.\n    abn: Australian Business Number (11 digits).\n    period_start: Start of reporting period.\n    period_end: End of reporting period.\n    include_payg: Include PAYG withholding section.\n\nReturns:\n    AUBASReport with GST calculations.\n\nRaises:\n    403: If organization context is missing.\n    400: If ABN format is invalid.","operationId":"generate_bas_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"abn","in":"query","required":true,"schema":{"type":"string","title":"Abn"}},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period Start"}},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period End"}},{"name":"include_payg","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Payg"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AUBASReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/gst-hst/report":{"get":{"tags":["gst-hst"],"summary":"Generate Gst Hst Report","description":"Generate Canadian GST/HST report for a period.\n\nAggregates GST/HST collected from sales and Input Tax Credits\nfrom purchases following CRA GST34 form structure.\n\nArgs:\n    company_id: The company ID.\n    bn: Business Number (format: 123456789RT0001).\n    period_start: Start of reporting period.\n    period_end: End of reporting period.\n    include_provincial_breakdown: Include HST breakdown by province.\n\nReturns:\n    CAGSTHSTReport with GST34 line items.\n\nRaises:\n    403: If organization context is missing.\n    400: If Business Number format is invalid.","operationId":"generate_gst_hst_report","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"bn","in":"query","required":true,"schema":{"type":"string","title":"Bn"}},{"name":"period_start","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period Start"}},{"name":"period_end","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Period End"}},{"name":"include_provincial_breakdown","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Provincial Breakdown"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CAGSTHSTReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/exports/1099/{form_id}/pdf":{"get":{"tags":["tax-form-exports"],"summary":"Export single 1099 as PDF","description":"Export a single 1099 form as PDF.\n\nGenerates a PDF document for the specified 1099 form.\nThe form type (NEC or MISC) is determined automatically from the record.\n\nArgs:\n    form_id: UUID of the Form1099Record to export\n\nReturns:\n    PDF file response\n\nRaises:\n    HTTPException: 404 if form not found","operationId":"export_form_1099_pdf","security":[{"HTTPBearer":[]}],"parameters":[{"name":"form_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Form Id"}}],"responses":{"200":{"description":"PDF file of the 1099 form","content":{"application/pdf":{}}},"404":{"description":"Form not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/exports/1099/batch/{tax_year_id}/pdf":{"get":{"tags":["tax-form-exports"],"summary":"Export batch 1099 forms as PDF","description":"Export all 1099 forms for a tax year as a single PDF.\n\nGenerates a batch PDF document containing all 1099 forms\nof the specified type for the given tax year.\n\nArgs:\n    tax_year_id: UUID of the TaxYear\n    form_type: Type of 1099 forms to include (nec or misc)\n\nReturns:\n    PDF file response with all forms\n\nRaises:\n    HTTPException: 400 if no forms found, 404 if tax year not found","operationId":"export_batch_form_1099_pdf","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}},{"name":"form_type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/FormType"}}],"responses":{"200":{"description":"PDF file with all 1099 forms","content":{"application/pdf":{}}},"400":{"description":"No forms found or invalid type"},"404":{"description":"Tax year not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/exports/schedule-c/{company_id}/{year}/pdf":{"get":{"tags":["tax-form-exports"],"summary":"Export Schedule C summary as PDF","description":"Export Schedule C line item summary as PDF.\n\nGenerates a PDF document summarizing all Schedule C line items\nwith their amounts for the specified company and tax year.\n\nArgs:\n    company_id: UUID of the Company\n    year: Tax year (e.g., 2024)\n\nReturns:\n    PDF file response\n\nRaises:\n    HTTPException: 404 if company not found","operationId":"export_schedule_c_summary_pdf","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Company Id"}},{"name":"year","in":"path","required":true,"schema":{"type":"integer","title":"Year"}}],"responses":{"200":{"description":"PDF file of Schedule C summary","content":{"application/pdf":{}}},"404":{"description":"Company not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tax-forms/exports/1099/fire/{tax_year_id}":{"post":{"tags":["tax-form-exports"],"summary":"Export 1099 forms in IRS FIRE format","description":"Export 1099 forms in IRS FIRE format for electronic filing.\n\nGenerates an ASCII fixed-width file conforming to IRS Publication 1220\nspecifications for electronic filing of information returns.\n\nThe FIRE format includes:\n- T Record: Transmitter information\n- A Record: Payer information (one per company)\n- B Records: Payee information (one per 1099 form)\n- C Record: End of payer totals\n- F Record: End of transmission\n\nArgs:\n    tax_year_id: UUID of the TaxYear\n    data: Transmitter information required by IRS\n    form_type: Type of 1099 forms to include (default: nec)\n\nReturns:\n    FIRE format text file response\n\nRaises:\n    HTTPException: 400 if no forms found, 404 if tax year not found","operationId":"export_form_1099_fire_format","security":[{"HTTPBearer":[]}],"parameters":[{"name":"tax_year_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Tax Year Id"}},{"name":"form_type","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/FormType"}],"description":"Form type to export","default":"nec","title":"Form Type"},"description":"Form type to export"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FIREExportRequest"}}}},"responses":{"200":{"description":"FIRE format file for IRS electronic submission","content":{"text/plain":{}}},"400":{"description":"No forms found or invalid parameters"},"404":{"description":"Tax year not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/billing/plans":{"get":{"tags":["billing"],"summary":"List Plans","description":"List all available subscription plans.\n\nReturns:\n    List of subscription plans.","operationId":"list_billing_plans","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SubscriptionPlanResponse"},"type":"array","title":"Response List Billing Plans"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/subscription":{"get":{"tags":["billing"],"summary":"Get Subscription","description":"Get current organization's subscription.\n\nReturns:\n    Subscription details or null if none exists.","operationId":"get_billing_subscription","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/SubscriptionResponse"},{"type":"null"}],"title":"Response Get Billing Subscription"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/subscription/subscribe":{"post":{"tags":["billing"],"summary":"Subscribe","description":"Subscribe to a plan or change current plan.\n\nRequires admin or owner role.\n\nArgs:\n    data: Plan tier to subscribe to.\n\nReturns:\n    Updated subscription.","operationId":"subscribe_to_billing_plan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscribeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/subscription/change-plan":{"post":{"tags":["billing"],"summary":"Change Plan","description":"Change subscription to a different plan.\n\nRequires admin or owner role.\n\nArgs:\n    data: New plan tier.\n\nReturns:\n    Updated subscription.","operationId":"change_billing_plan","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePlanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/subscription/cancel":{"post":{"tags":["billing"],"summary":"Cancel Subscription","description":"Cancel current subscription.\n\nRequires admin or owner role.\n\nArgs:\n    data: Whether to cancel at period end or immediately.\n\nReturns:\n    Updated subscription.","operationId":"cancel_billing_subscription","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/subscription/reactivate":{"post":{"tags":["billing"],"summary":"Reactivate Subscription","description":"Reactivate a subscription scheduled for cancellation.\n\nRequires admin or owner role.\n\nReturns:\n    Updated subscription.","operationId":"reactivate_billing_subscription","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/usage":{"get":{"tags":["billing"],"summary":"Get Usage","description":"Get current usage summary for the organization.\n\nReturns:\n    Usage metrics for transactions, users, and companies.","operationId":"get_billing_usage","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageSummaryResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/billing/portal-session":{"post":{"tags":["billing"],"summary":"Create Portal Session","description":"Create a Stripe billing portal session.\n\nRequires admin or owner role.\n\nArgs:\n    data: Return URL after portal session.\n\nReturns:\n    URL to redirect user to billing portal.","operationId":"create_billing_portal_session","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalSessionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/webhooks/stripe":{"post":{"tags":["webhooks"],"summary":"Handle Stripe Webhook","description":"Handle Stripe webhook events.\n\nThis endpoint is called by Stripe when subscription events occur.\nNo JWT authentication - uses Stripe signature verification.\n\nHeaders Required:\n    Stripe-Signature: Webhook signature from Stripe\n\nReturns:\n    {\"status\": \"ok\"} on success\n\nRaises:\n    400: Invalid signature or payload","operationId":"handle_stripe_webhook","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Handle Stripe Webhook"}}}}}}},"/api/v1/integrations/quickbooks/connect":{"post":{"tags":["integrations"],"summary":"Initiate Connection","description":"Initiate QuickBooks OAuth2 connection.\n\nReturns an authorization URL to redirect the user to QuickBooks\nand a state parameter for CSRF protection.\n\nRequires admin role.","operationId":"initiate_connection_api_v1_integrations_quickbooks_connect_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksConnectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksConnectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/integrations/quickbooks/callback":{"post":{"tags":["integrations"],"summary":"Complete Connection","description":"Complete QuickBooks OAuth2 connection after callback.\n\nExchanges the authorization code for tokens and stores the connection.\n\nRequires admin role.","operationId":"complete_connection_api_v1_integrations_quickbooks_callback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksCallbackRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksConnectionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/integrations/quickbooks/status":{"get":{"tags":["integrations"],"summary":"Get Connection Status","description":"Get QuickBooks connection status for the organization.\n\nReturns whether a connection exists and its details.\n\nRequires admin role.","operationId":"get_connection_status_api_v1_integrations_quickbooks_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksStatusResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/integrations/quickbooks/disconnect":{"post":{"tags":["integrations"],"summary":"Disconnect","description":"Disconnect QuickBooks integration.\n\nRevokes tokens and removes the connection.\n\nRequires admin role.","operationId":"disconnect_api_v1_integrations_quickbooks_disconnect_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksDisconnectResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/integrations/quickbooks/refresh":{"post":{"tags":["integrations"],"summary":"Refresh Tokens","description":"Force refresh QuickBooks tokens.\n\nManually refreshes the access token using the refresh token.\n\nRequires admin role.","operationId":"refresh_tokens_api_v1_integrations_quickbooks_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuickBooksRefreshResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/file/upload":{"post":{"tags":["import"],"summary":"Upload File","description":"Upload a file for import preview.\n\nSupports:\n- IIF files (QuickBooks Desktop export)\n- CSV files (with entity_type parameter)\n\nReturns a preview of what will be imported, including any conflicts.","operationId":"upload_file_api_v1_import_file_upload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entity_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/EntityType"},{"type":"null"}],"description":"Entity type for CSV imports (required for CSV, ignored for IIF)","title":"Entity Type"},"description":"Entity type for CSV imports (required for CSV, ignored for IIF)"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_file_api_v1_import_file_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/file/{file_id}/execute":{"post":{"tags":["import"],"summary":"Execute Import","description":"Execute file import with user configuration.\n\nRequires a file_id from a previous upload call.","operationId":"execute_import_api_v1_import_file__file_id__execute_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"string","title":"File Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileImportConfig"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileImportResultSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/file/templates/{entity_type}":{"get":{"tags":["import"],"summary":"Download Template","description":"Download a CSV template for the specified entity type.\n\nTemplates include sample data showing the expected format.","operationId":"download_template_api_v1_import_file_templates__entity_type__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"entity_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/EntityType"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/file/templates":{"get":{"tags":["import"],"summary":"List Templates","description":"List available CSV templates.","operationId":"list_templates_api_v1_import_file_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response List Templates Api V1 Import File Templates Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/accounts/preview":{"get":{"tags":["import"],"summary":"Preview Import","description":"Preview Chart of Accounts import from QuickBooks.\n\nReturns a list of accounts with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_import_api_v1_import_quickbooks_accounts_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only include active accounts","default":false,"title":"Active Only"},"description":"Only include active accounts"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/accounts":{"post":{"tags":["import"],"summary":"Execute Import","description":"Execute Chart of Accounts import from QuickBooks.\n\nCreates accounts in Atlas based on QuickBooks data with user-specified\nmapping configuration.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_import_api_v1_import_quickbooks_accounts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/accounts/{job_id}":{"get":{"tags":["import"],"summary":"Get Import Status","description":"Get status of an import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_import_status_api_v1_import_quickbooks_accounts__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/bank-transactions/preview":{"get":{"tags":["import"],"summary":"Preview Bank Transaction Import","description":"Preview Bank Transaction (Purchase) import from QuickBooks.\n\nReturns a list of purchases/bank transactions with mapping suggestions\nand conflict detection. Use this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_bank_transaction_import_api_v1_import_quickbooks_bank_transactions_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date filter (YYYY-MM-DD)","title":"Start Date"},"description":"Start date filter (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date filter (YYYY-MM-DD)","title":"End Date"},"description":"End date filter (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankTransactionImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/bank-transactions":{"post":{"tags":["import"],"summary":"Execute Bank Transaction Import","description":"Execute Bank Transaction (Purchase) import from QuickBooks.\n\nCreates bank transactions in Atlas based on QuickBooks Purchase data\nwith user-specified mapping configuration.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_bank_transaction_import_api_v1_import_quickbooks_bank_transactions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteBankTransactionImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/bank-transactions/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Bank Transaction Import Status","description":"Get status of a bank transaction import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_bank_transaction_import_status_api_v1_import_quickbooks_bank_transactions_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/bills/preview":{"get":{"tags":["import"],"summary":"Preview Bill Import","description":"Preview Bill import from QuickBooks.\n\nReturns a list of bills with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_bill_import_api_v1_import_quickbooks_bills_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date filter (YYYY-MM-DD)","title":"Start Date"},"description":"Start date filter (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date filter (YYYY-MM-DD)","title":"End Date"},"description":"End date filter (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BillImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/bills":{"post":{"tags":["import"],"summary":"Execute Bill Import","description":"Execute Bill import from QuickBooks.\n\nCreates bills in Atlas based on QuickBooks data with user-specified\nmapping configuration.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_bill_import_api_v1_import_quickbooks_bills_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteBillImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/bills/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Bill Import Status","description":"Get status of a bill import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_bill_import_status_api_v1_import_quickbooks_bills_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/customers/preview":{"get":{"tags":["import"],"summary":"Preview Customer Import","description":"Preview Customer import from QuickBooks.\n\nReturns a list of customers with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_customer_import_api_v1_import_quickbooks_customers_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only include active customers","default":true,"title":"Active Only"},"description":"Only include active customers"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/customers":{"post":{"tags":["import"],"summary":"Execute Customer Import","description":"Execute Customer import from QuickBooks.\n\nCreates customers in Atlas based on QuickBooks data with user-specified\nmapping configuration.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_customer_import_api_v1_import_quickbooks_customers_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteCustomerImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/customers/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Customer Import Status","description":"Get status of a customer import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_customer_import_status_api_v1_import_quickbooks_customers_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/invoices/preview":{"get":{"tags":["import"],"summary":"Preview Invoice Import","description":"Preview Invoice import from QuickBooks.\n\nReturns a list of invoices with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_invoice_import_api_v1_import_quickbooks_invoices_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date filter (YYYY-MM-DD)","title":"Start Date"},"description":"Start date filter (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date filter (YYYY-MM-DD)","title":"End Date"},"description":"End date filter (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/invoices":{"post":{"tags":["import"],"summary":"Execute Invoice Import","description":"Execute Invoice import from QuickBooks.\n\nCreates invoices in Atlas based on QuickBooks data with user-specified\nmapping configuration.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_invoice_import_api_v1_import_quickbooks_invoices_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteInvoiceImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/invoices/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Invoice Import Status","description":"Get status of an invoice import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_invoice_import_status_api_v1_import_quickbooks_invoices_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/payments-made/preview":{"get":{"tags":["import"],"summary":"Preview Payment Made Import","description":"Preview Payment Made (AP/Bill Payment) import from QuickBooks.\n\nReturns a list of bill payments with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_payment_made_import_api_v1_import_quickbooks_payments_made_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date filter (YYYY-MM-DD)","title":"Start Date"},"description":"Start date filter (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date filter (YYYY-MM-DD)","title":"End Date"},"description":"End date filter (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentMadeImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/payments-made":{"post":{"tags":["import"],"summary":"Execute Payment Made Import","description":"Execute Payment Made (AP/Bill Payment) import from QuickBooks.\n\nCreates bill payments in Atlas based on QuickBooks data with user-specified\nmapping configuration. Also creates BillPaymentApplication records to link\npayments to bills.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_payment_made_import_api_v1_import_quickbooks_payments_made_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutePaymentMadeImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/payments-made/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Payment Made Import Status","description":"Get status of a payment made import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_payment_made_import_status_api_v1_import_quickbooks_payments_made_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/payments-received/preview":{"get":{"tags":["import"],"summary":"Preview Payment Received Import","description":"Preview Payment Received (AR) import from QuickBooks.\n\nReturns a list of customer payments with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_payment_received_import_api_v1_import_quickbooks_payments_received_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date filter (YYYY-MM-DD)","title":"Start Date"},"description":"Start date filter (YYYY-MM-DD)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date filter (YYYY-MM-DD)","title":"End Date"},"description":"End date filter (YYYY-MM-DD)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentReceivedImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/payments-received":{"post":{"tags":["import"],"summary":"Execute Payment Received Import","description":"Execute Payment Received (AR) import from QuickBooks.\n\nCreates customer payments in Atlas based on QuickBooks data with user-specified\nmapping configuration. Also creates PaymentApplication records to link payments\nto invoices.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_payment_received_import_api_v1_import_quickbooks_payments_received_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutePaymentReceivedImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/payments-received/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Payment Received Import Status","description":"Get status of a payment received import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_payment_received_import_status_api_v1_import_quickbooks_payments_received_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/vendors/preview":{"get":{"tags":["import"],"summary":"Preview Vendor Import","description":"Preview Vendor import from QuickBooks.\n\nReturns a list of vendors with mapping suggestions and conflict detection.\nUse this to review the import before executing.\n\nRequires admin role and active QuickBooks connection.","operationId":"preview_vendor_import_api_v1_import_quickbooks_vendors_preview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"company_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Target company ID","title":"Company Id"},"description":"Target company ID"},{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only include active vendors","default":true,"title":"Active Only"},"description":"Only include active vendors"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorImportPreview"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/import/quickbooks/vendors":{"post":{"tags":["import"],"summary":"Execute Vendor Import","description":"Execute Vendor import from QuickBooks.\n\nCreates vendors in Atlas based on QuickBooks data with user-specified\nmapping configuration.\n\nRequires admin role and active QuickBooks connection.","operationId":"execute_vendor_import_api_v1_import_quickbooks_vendors_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteVendorImportRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/import/quickbooks/vendors/status/{job_id}":{"get":{"tags":["import"],"summary":"Get Vendor Import Status","description":"Get status of a vendor import job.\n\nReturns the current status, counts, and any errors for the job.\n\nRequires admin role.","operationId":"get_vendor_import_status_api_v1_import_quickbooks_vendors_status__job_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AUBASReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"abn":{"type":"string","maxLength":11,"minLength":11,"title":"Abn","description":"Australian Business Number"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"due_date":{"type":"string","format":"date","title":"Due Date"},"filing_frequency":{"$ref":"#/components/schemas/BASFilingFrequency"},"g1_total_sales":{"type":"string","title":"G1 Total Sales","description":"G1: Total sales and income"},"g2_export_sales":{"type":"string","title":"G2 Export Sales","description":"G2: Export sales (GST-free)"},"g3_other_gst_free_sales":{"type":"string","title":"G3 Other Gst Free Sales","description":"G3: Other GST-free sales"},"g9_taxable_sales":{"type":"string","title":"G9 Taxable Sales","description":"G9: Total taxable sales (G1 - G2 - G3)"},"g10_capital_purchases":{"type":"string","title":"G10 Capital Purchases","description":"G10: Capital acquisitions"},"g11_non_capital_purchases":{"type":"string","title":"G11 Non Capital Purchases","description":"G11: Non-capital acquisitions"},"gst_on_sales":{"type":"string","title":"Gst On Sales","description":"1A: GST on sales"},"gst_on_purchases":{"type":"string","title":"Gst On Purchases","description":"1B: GST on purchases"},"gst_net_amount":{"type":"string","title":"Gst Net Amount","description":"Net GST (positive=payable, negative=refund)"},"payg_withholding":{"anyOf":[{"$ref":"#/components/schemas/PAYGWithholdingSection"},{"type":"null"}]},"generated_at":{"type":"string","format":"date-time","title":"Generated At"}},"type":"object","required":["company_id","abn","period_start","period_end","due_date","filing_frequency","g1_total_sales","g2_export_sales","g3_other_gst_free_sales","g9_taxable_sales","g10_capital_purchases","g11_non_capital_purchases","gst_on_sales","gst_on_purchases","gst_net_amount","generated_at"],"title":"AUBASReport","description":"Australian Business Activity Statement report.\n\nLabels match the official ATO BAS form structure.\nGST rate in Australia is 10%."},"AccessLevel":{"type":"string","enum":["full","read_only","limited"],"title":"AccessLevel","description":"Access level for accountant-client relationship.\n\n- full: Complete access including write operations\n- read_only: View-only access to all data\n- limited: Restricted access (e.g., categorization only)"},"AccountCreate":{"properties":{"account_number":{"type":"string","maxLength":20,"minLength":1,"title":"Account Number","examples":["1000","1100"]},"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","examples":["Cash","Accounts Receivable"]},"account_type":{"type":"string","pattern":"^(asset|liability|equity|revenue|expense)$","title":"Account Type","examples":["asset"]},"normal_balance":{"type":"string","pattern":"^(debit|credit)$","title":"Normal Balance","examples":["debit"]},"account_subtype":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Account Subtype","examples":["current_asset","fixed_asset"]},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id","description":"Parent account ID for hierarchy"},"is_system":{"type":"boolean","title":"Is System","description":"System accounts cannot be deleted","default":false}},"type":"object","required":["account_number","name","account_type","normal_balance"],"title":"AccountCreate","description":"Schema for creating a new account."},"AccountHierarchy":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"account_number":{"type":"string","title":"Account Number"},"name":{"type":"string","title":"Name"},"account_type":{"type":"string","title":"Account Type"},"normal_balance":{"type":"string","title":"Normal Balance"},"current_balance":{"type":"string","title":"Current Balance"},"children":{"items":{"$ref":"#/components/schemas/AccountHierarchy"},"type":"array","title":"Children","default":[]}},"type":"object","required":["id","account_number","name","account_type","normal_balance","current_balance"],"title":"AccountHierarchy","description":"Schema for hierarchical account tree."},"AccountImportPreview":{"properties":{"total_accounts":{"type":"integer","title":"Total Accounts","description":"Total accounts from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Accounts ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Accounts with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Accounts already in Atlas"},"accounts":{"items":{"$ref":"#/components/schemas/QBOAccountPreview"},"type":"array","title":"Accounts","description":"Individual account previews"}},"type":"object","required":["total_accounts","importable","conflicts","already_imported","accounts"],"title":"AccountImportPreview","description":"Full import preview response.\n\nContains summary counts and the list of account previews."},"AccountResponse":{"properties":{"account_number":{"type":"string","maxLength":20,"minLength":1,"title":"Account Number","examples":["1000","1100"]},"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","examples":["Cash","Accounts Receivable"]},"account_type":{"type":"string","pattern":"^(asset|liability|equity|revenue|expense)$","title":"Account Type","examples":["asset"]},"normal_balance":{"type":"string","pattern":"^(debit|credit)$","title":"Normal Balance","examples":["debit"]},"account_subtype":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Account Subtype","examples":["current_asset","fixed_asset"]},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"parent_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Parent Id"},"is_active":{"type":"boolean","title":"Is Active"},"is_system":{"type":"boolean","title":"Is System"},"current_balance":{"type":"string","title":"Current Balance"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["account_number","name","account_type","normal_balance","id","company_id","parent_id","is_active","is_system","current_balance","created_at","updated_at"],"title":"AccountResponse","description":"Schema for account API response."},"AccountUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"account_subtype":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Account Subtype"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"AccountUpdate","description":"Schema for updating an account (partial update)."},"AccountantClientCreate":{"properties":{"accountant_user_id":{"type":"string","format":"uuid","title":"Accountant User Id","description":"User ID of the accountant to grant access to"},"access_level":{"allOf":[{"$ref":"#/components/schemas/AccessLevel"}],"default":"full"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["accountant_user_id"],"title":"AccountantClientCreate","description":"Request to create an accountant-client assignment.\n\nCalled by org admin to invite an accountant to manage their organization.\nThe accountant_user_id is the user being granted access."},"AccountantClientResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"accountant_user_id":{"type":"string","format":"uuid","title":"Accountant User Id"},"client_org_id":{"type":"string","format":"uuid","title":"Client Org Id"},"client_org_name":{"type":"string","title":"Client Org Name"},"access_level":{"$ref":"#/components/schemas/AccessLevel"},"assigned_at":{"type":"string","format":"date-time","title":"Assigned At"},"assigned_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Assigned By"},"last_accessed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Accessed At"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["id","accountant_user_id","client_org_id","client_org_name","access_level","assigned_at","assigned_by","last_accessed_at","notes"],"title":"AccountantClientResponse","description":"Response for accountant-client relationship."},"AccountantClientSummary":{"properties":{"client_org_id":{"type":"string","format":"uuid","title":"Client Org Id"},"client_org_name":{"type":"string","title":"Client Org Name"},"access_level":{"$ref":"#/components/schemas/AccessLevel"},"uncategorized_count":{"type":"integer","minimum":0.0,"title":"Uncategorized Count"},"overdue_invoices_count":{"type":"integer","minimum":0.0,"title":"Overdue Invoices Count"},"cash_balance":{"type":"string","title":"Cash Balance"},"last_accessed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Accessed At"}},"type":"object","required":["client_org_id","client_org_name","access_level","uncategorized_count","overdue_invoices_count","cash_balance","last_accessed_at"],"title":"AccountantClientSummary","description":"Summary view of an assigned client for the portal list.\n\nContains key health metrics for quick overview."},"AccuracyTrendPoint":{"properties":{"trend_date":{"type":"string","format":"date","title":"Trend Date","description":"Date of the data point"},"accuracy":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Accuracy","description":"Accuracy rate for this date"},"total":{"type":"integer","minimum":0.0,"title":"Total","description":"Total categorizations on this date"}},"type":"object","required":["trend_date","accuracy","total"],"title":"AccuracyTrendPoint","description":"Single data point in accuracy trend.\n\nRepresents accuracy for a specific date."},"AccuracyTrendResponse":{"properties":{"trend":{"items":{"$ref":"#/components/schemas/AccuracyTrendPoint"},"type":"array","title":"Trend","description":"List of daily accuracy points"}},"type":"object","title":"AccuracyTrendResponse","description":"Daily accuracy trend over a period.\n\nShows how accuracy changes over time."},"ActivityFeedResponse":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"activities":{"items":{"$ref":"#/components/schemas/ActivityItem"},"type":"array","title":"Activities"}},"type":"object","required":["company_id"],"title":"ActivityFeedResponse","description":"Response for activity feed endpoint."},"ActivityItem":{"properties":{"id":{"type":"string","title":"Id"},"type":{"$ref":"#/components/schemas/ActivityType"},"description":{"type":"string","title":"Description"},"amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Amount"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"entity_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Entity Id"}},"type":"object","required":["id","type","description","timestamp"],"title":"ActivityItem","description":"Single activity item in the feed."},"ActivityType":{"type":"string","enum":["invoice_paid","invoice_sent","bill_due","bill_paid","transaction_categorized"],"title":"ActivityType","description":"Types of activities shown in the dashboard feed."},"AdjustInventoryRequest":{"properties":{"quantity_adjustment":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Quantity Adjustment","description":"Positive (found more) or negative (loss)"},"adjustment_date":{"type":"string","format":"date","title":"Adjustment Date","description":"Date of adjustment"},"reason":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Reason","description":"Reason for adjustment"},"unit_cost":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Unit Cost","description":"Optional cost for the adjustment"}},"type":"object","required":["quantity_adjustment","adjustment_date"],"title":"AdjustInventoryRequest","description":"Schema for inventory adjustment (count correction)."},"ApplyBillPaymentRequest":{"properties":{"bill_id":{"type":"string","format":"uuid","title":"Bill Id"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount"}},"type":"object","required":["bill_id","amount"],"title":"ApplyBillPaymentRequest","description":"Schema for applying payment to a bill."},"ApplyPaymentRequest":{"properties":{"invoice_id":{"type":"string","format":"uuid","title":"Invoice Id"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount"}},"type":"object","required":["invoice_id","amount"],"title":"ApplyPaymentRequest","description":"Schema for applying payment to an invoice."},"AutoMatchResponse":{"properties":{"total_pending":{"type":"integer","title":"Total Pending","description":"Total pending transactions checked"},"auto_matched":{"type":"integer","title":"Auto Matched","description":"Number of transactions auto-matched"},"match_rate":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Match Rate","description":"Percentage of transactions matched"}},"type":"object","required":["total_pending","auto_matched","match_rate"],"title":"AutoMatchResponse","description":"Response for auto-match batch operation."},"BASFilingFrequency":{"type":"string","enum":["monthly","quarterly","annually"],"title":"BASFilingFrequency","description":"BAS filing frequency options."},"BalanceSheetCategory":{"properties":{"name":{"type":"string","title":"Name"},"sections":{"items":{"$ref":"#/components/schemas/BalanceSheetSection"},"type":"array","title":"Sections"},"total":{"type":"string","title":"Total"}},"type":"object","required":["name","sections","total"],"title":"BalanceSheetCategory","description":"Major category (Assets, Liabilities, Equity)."},"BalanceSheetLineItem":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"account_number":{"type":"string","title":"Account Number"},"account_name":{"type":"string","title":"Account Name"},"balance":{"type":"string","title":"Balance"},"indent_level":{"type":"integer","title":"Indent Level","description":"Indentation for hierarchy","default":0}},"type":"object","required":["account_id","account_number","account_name","balance"],"title":"BalanceSheetLineItem","description":"Single account line item in balance sheet."},"BalanceSheetReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"type":"string","title":"Company Name"},"as_of_date":{"type":"string","format":"date","title":"As Of Date"},"generated_at":{"type":"string","title":"Generated At","description":"ISO 8601 timestamp"},"assets":{"$ref":"#/components/schemas/BalanceSheetCategory"},"liabilities":{"$ref":"#/components/schemas/BalanceSheetCategory"},"equity":{"$ref":"#/components/schemas/BalanceSheetCategory"},"total_assets":{"type":"string","title":"Total Assets"},"total_liabilities_and_equity":{"type":"string","title":"Total Liabilities And Equity"},"is_balanced":{"type":"boolean","title":"Is Balanced","description":"True if Assets = Liabilities + Equity"},"comparison_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Comparison Date"},"comparison_assets":{"anyOf":[{"$ref":"#/components/schemas/BalanceSheetCategory"},{"type":"null"}]},"comparison_liabilities":{"anyOf":[{"$ref":"#/components/schemas/BalanceSheetCategory"},{"type":"null"}]},"comparison_equity":{"anyOf":[{"$ref":"#/components/schemas/BalanceSheetCategory"},{"type":"null"}]}},"type":"object","required":["company_id","company_name","as_of_date","generated_at","assets","liabilities","equity","total_assets","total_liabilities_and_equity","is_balanced"],"title":"BalanceSheetReport","description":"Complete balance sheet report.\n\nThe fundamental accounting equation: Assets = Liabilities + Equity"},"BalanceSheetSection":{"properties":{"name":{"type":"string","title":"Name"},"items":{"items":{"$ref":"#/components/schemas/BalanceSheetLineItem"},"type":"array","title":"Items"},"subtotal":{"type":"string","title":"Subtotal"}},"type":"object","required":["name","items","subtotal"],"title":"BalanceSheetSection","description":"Section within a category (e.g., Current Assets, Fixed Assets)."},"BankAccountCreate":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"gl_account_id":{"type":"string","format":"uuid","title":"Gl Account Id","description":"GL cash/bank account to link"},"account_name":{"type":"string","maxLength":200,"minLength":1,"title":"Account Name"},"bank_name":{"type":"string","maxLength":200,"minLength":1,"title":"Bank Name"},"account_number_last4":{"type":"string","maxLength":4,"minLength":4,"title":"Account Number Last4"},"account_type":{"type":"string","title":"Account Type","description":"checking, savings, credit_card, money_market, other"},"currency":{"type":"string","maxLength":3,"minLength":3,"title":"Currency","default":"USD"},"opening_balance":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Opening Balance","description":"Initial balance","default":"0"}},"type":"object","required":["company_id","gl_account_id","account_name","bank_name","account_number_last4","account_type"],"title":"BankAccountCreate","description":"Schema for creating a bank account."},"BankAccountResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"gl_account_id":{"type":"string","format":"uuid","title":"Gl Account Id"},"account_name":{"type":"string","title":"Account Name"},"bank_name":{"type":"string","title":"Bank Name"},"account_number_last4":{"type":"string","title":"Account Number Last4"},"account_type":{"type":"string","title":"Account Type"},"currency":{"type":"string","title":"Currency"},"current_balance":{"type":"string","title":"Current Balance"},"reconciled_balance":{"type":"string","title":"Reconciled Balance"},"last_reconciled_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Reconciled Date"},"last_statement_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Statement Date"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","company_id","gl_account_id","account_name","bank_name","account_number_last4","account_type","currency","current_balance","reconciled_balance","last_reconciled_date","last_statement_date","is_active"],"title":"BankAccountResponse","description":"Schema for bank account response."},"BankAccountSummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"account_name":{"type":"string","title":"Account Name"},"bank_name":{"type":"string","title":"Bank Name"},"current_balance":{"type":"string","title":"Current Balance"},"reconciled_balance":{"type":"string","title":"Reconciled Balance"},"unreconciled_balance":{"type":"string","title":"Unreconciled Balance"},"last_reconciled_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Reconciled Date"},"pending_transactions_count":{"type":"integer","title":"Pending Transactions Count"},"unmatched_transactions_count":{"type":"integer","title":"Unmatched Transactions Count"},"in_progress_reconciliation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"In Progress Reconciliation Id"}},"type":"object","required":["id","account_name","bank_name","current_balance","reconciled_balance","unreconciled_balance","last_reconciled_date","pending_transactions_count","unmatched_transactions_count","in_progress_reconciliation_id"],"title":"BankAccountSummary","description":"Schema for bank account summary with reconciliation status."},"BankAccountUpdate":{"properties":{"account_name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Account Name"},"bank_name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Bank Name"},"account_number_last4":{"anyOf":[{"type":"string","maxLength":4,"minLength":4},{"type":"null"}],"title":"Account Number Last4"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"BankAccountUpdate","description":"Schema for updating a bank account."},"BankTransactionCategorize":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Expense/income account for categorization"},"description":{"type":"string","minLength":1,"title":"Description","description":"Description for the journal entry"},"memo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Memo","description":"Optional memo"}},"type":"object","required":["account_id","description"],"title":"BankTransactionCategorize","description":"Schema for categorizing an unmatched bank transaction (creates journal entry)."},"BankTransactionImportPreview":{"properties":{"total_transactions":{"type":"integer","title":"Total Transactions","description":"Total transactions from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Transactions ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Transactions with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Transactions already in Atlas"},"missing_bank_accounts":{"type":"integer","title":"Missing Bank Accounts","description":"Transactions with unmapped bank accounts"},"transactions":{"items":{"$ref":"#/components/schemas/QBOBankTransactionPreview"},"type":"array","title":"Transactions","description":"Individual transaction previews"},"unmapped_bank_accounts":{"items":{"type":"object"},"type":"array","title":"Unmapped Bank Accounts","description":"List of QBO bank accounts not in Atlas (qbo_id, name)"}},"type":"object","required":["total_transactions","importable","conflicts","already_imported","missing_bank_accounts","transactions"],"title":"BankTransactionImportPreview","description":"Full bank transaction import preview response.\n\nContains summary counts and the list of transaction previews,\nplus list of unmapped bank accounts."},"BankTransactionMatch":{"properties":{"match_type":{"type":"string","title":"Match Type","description":"payment_received, payment_made, or journal_entry"},"match_id":{"type":"string","format":"uuid","title":"Match Id","description":"ID of the payment or journal entry to match"}},"type":"object","required":["match_type","match_id"],"title":"BankTransactionMatch","description":"Schema for matching a bank transaction to a payment or journal entry."},"BankTransactionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"bank_account_id":{"type":"string","format":"uuid","title":"Bank Account Id"},"transaction_date":{"type":"string","format":"date","title":"Transaction Date"},"post_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Post Date"},"amount":{"type":"string","title":"Amount"},"description":{"type":"string","title":"Description"},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"transaction_type":{"type":"string","title":"Transaction Type"},"payee":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payee"},"memo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Memo"},"status":{"type":"string","title":"Status"},"match_confidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Match Confidence"},"import_batch_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Import Batch Id"},"import_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Import Source"},"imported_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Imported At"},"matched_payment_received_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Matched Payment Received Id"},"matched_payment_made_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Matched Payment Made Id"},"matched_journal_entry_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Matched Journal Entry Id"},"created_journal_entry_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Created Journal Entry Id"},"reconciliation_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Reconciliation Id"},"is_deposit":{"type":"boolean","title":"Is Deposit"},"is_withdrawal":{"type":"boolean","title":"Is Withdrawal"},"is_matched":{"type":"boolean","title":"Is Matched"},"absolute_amount":{"type":"string","title":"Absolute Amount"}},"type":"object","required":["id","bank_account_id","transaction_date","post_date","amount","description","reference_number","transaction_type","payee","memo","status","match_confidence","import_batch_id","import_source","imported_at","matched_payment_received_id","matched_payment_made_id","matched_journal_entry_id","created_journal_entry_id","reconciliation_id","is_deposit","is_withdrawal","is_matched","absolute_amount"],"title":"BankTransactionResponse","description":"Schema for bank transaction response."},"BankTransactionUpdate":{"properties":{"payee":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Payee"},"memo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Memo"},"transaction_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Type","description":"debit or credit"}},"type":"object","title":"BankTransactionUpdate","description":"Schema for updating a bank transaction."},"BatchClassificationResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/ClassificationResult"},"type":"array","title":"Results","description":"Classification results for each transaction"},"total":{"type":"integer","minimum":0.0,"title":"Total","description":"Total transactions processed"},"auto_categorized":{"type":"integer","minimum":0.0,"title":"Auto Categorized","description":"Transactions auto-categorized (confidence > 0.95)"},"needs_review":{"type":"integer","minimum":0.0,"title":"Needs Review","description":"Transactions needing review (confidence 0.50-0.95)"},"failed":{"type":"integer","minimum":0.0,"title":"Failed","description":"Transactions that failed classification (confidence < 0.50)"}},"type":"object","required":["results","total","auto_categorized","needs_review","failed"],"title":"BatchClassificationResponse","description":"Response for batch classification."},"BillAgingSummary":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"vendor_name":{"type":"string","title":"Vendor Name"},"current":{"type":"string","title":"Current","default":"0"},"days_1_30":{"type":"string","title":"Days 1 30","default":"0"},"days_31_60":{"type":"string","title":"Days 31 60","default":"0"},"days_61_90":{"type":"string","title":"Days 61 90","default":"0"},"days_over_90":{"type":"string","title":"Days Over 90","default":"0"},"total":{"type":"string","title":"Total","default":"0"}},"type":"object","required":["vendor_id","vendor_name"],"title":"BillAgingSummary","description":"Schema for AP aging summary."},"BillApprove":{"properties":{"ap_account_id":{"type":"string","format":"uuid","title":"Ap Account Id","description":"Accounts Payable control account"}},"type":"object","required":["ap_account_id"],"title":"BillApprove","description":"Schema for approving a bill."},"BillCreate":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"bill_date":{"type":"string","format":"date","title":"Bill Date"},"vendor_bill_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Vendor Bill Number"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"lines":{"items":{"$ref":"#/components/schemas/BillLineCreate"},"type":"array","minItems":1,"title":"Lines"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["vendor_id","bill_date","lines"],"title":"BillCreate","description":"Schema for creating a bill."},"BillImportPreview":{"properties":{"total_bills":{"type":"integer","title":"Total Bills","description":"Total bills from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Bills ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Bills with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Bills already in Atlas"},"missing_vendors":{"type":"integer","title":"Missing Vendors","description":"Bills with unmapped vendors"},"missing_accounts":{"type":"integer","title":"Missing Accounts","description":"Bills with unmapped accounts"},"bills":{"items":{"$ref":"#/components/schemas/QBOBillPreview"},"type":"array","title":"Bills","description":"Individual bill previews"},"unmapped_vendors":{"items":{"type":"object"},"type":"array","title":"Unmapped Vendors","description":"List of QBO vendors not in Atlas (qbo_id, name)"},"unmapped_accounts":{"items":{"type":"object"},"type":"array","title":"Unmapped Accounts","description":"List of QBO accounts not in Atlas (qbo_id, name)"}},"type":"object","required":["total_bills","importable","conflicts","already_imported","missing_vendors","missing_accounts","bills"],"title":"BillImportPreview","description":"Full bill import preview response.\n\nContains summary counts and the list of bill previews,\nplus lists of unmapped dependencies."},"BillLineCreate":{"properties":{"description":{"type":"string","minLength":1,"title":"Description"},"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity","default":"1"},"unit_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Unit Price"},"expense_account_id":{"type":"string","format":"uuid","title":"Expense Account Id"},"tax_rate":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Tax Rate","default":"0"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id","description":"Reference to TaxRate record"}},"type":"object","required":["description","unit_price","expense_account_id"],"title":"BillLineCreate","description":"Schema for creating a bill line.\n\nTax can be specified either by:\n- tax_rate_id: Reference to a TaxRate record (preferred)\n- tax_rate: Direct percentage value (for backward compatibility)\n\nIf tax_rate_id is provided, the rate is looked up from TaxRate\nand frozen in the line item for historical accuracy."},"BillLinePreview":{"properties":{"qbo_line_id":{"type":"string","title":"Qbo Line Id","description":"QuickBooks line ID"},"line_num":{"type":"integer","title":"Line Num","description":"Line number in the bill"},"description":{"type":"string","title":"Description","description":"Line item description"},"quantity":{"type":"string","title":"Quantity","description":"Quantity"},"unit_price":{"type":"string","title":"Unit Price","description":"Unit price"},"amount":{"type":"string","title":"Amount","description":"Line amount (qty * unit_price)"},"qbo_account_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Account Id","description":"QuickBooks account ID"},"qbo_account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Account Name","description":"QuickBooks account name"},"atlas_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Account Id","description":"Mapped Atlas account ID"},"account_mapped":{"type":"boolean","title":"Account Mapped","description":"Whether account is mapped in Atlas","default":false}},"type":"object","required":["qbo_line_id","line_num","description","quantity","unit_price","amount"],"title":"BillLinePreview","description":"Single QBO bill line with mapping preview.\n\nContains both the original QuickBooks line data and the mapped\nAtlas values, plus account mapping status."},"BillLineResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"line_number":{"type":"integer","title":"Line Number"},"description":{"type":"string","title":"Description"},"quantity":{"type":"string","title":"Quantity"},"unit_price":{"type":"string","title":"Unit Price"},"amount":{"type":"string","title":"Amount"},"expense_account_id":{"type":"string","format":"uuid","title":"Expense Account Id"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id"},"tax_rate":{"type":"string","title":"Tax Rate"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["id","line_number","description","quantity","unit_price","amount","expense_account_id","tax_rate_id","tax_rate","tax_amount"],"title":"BillLineResponse","description":"Schema for bill line response."},"BillPaymentApplicationCreate":{"properties":{"bill_id":{"type":"string","format":"uuid","title":"Bill Id"},"amount_applied":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount Applied"}},"type":"object","required":["bill_id","amount_applied"],"title":"BillPaymentApplicationCreate","description":"Schema for applying payment to bill."},"BillPaymentApplicationResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"bill_id":{"type":"string","format":"uuid","title":"Bill Id"},"bill_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bill Number"},"amount_applied":{"type":"string","title":"Amount Applied"},"applied_date":{"type":"string","format":"date","title":"Applied Date"}},"type":"object","required":["id","bill_id","amount_applied","applied_date"],"title":"BillPaymentApplicationResponse","description":"Schema for bill payment application response."},"BillPaymentLinePreview":{"properties":{"qbo_bill_id":{"type":"string","title":"Qbo Bill Id","description":"QuickBooks bill ID this payment applies to"},"qbo_bill_number":{"type":"string","title":"Qbo Bill Number","description":"QuickBooks bill number"},"amount_applied":{"type":"string","title":"Amount Applied","description":"Amount applied to this bill"},"atlas_bill_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Bill Id","description":"Mapped Atlas bill ID"},"bill_mapped":{"type":"boolean","title":"Bill Mapped","description":"Whether bill is mapped in Atlas","default":false}},"type":"object","required":["qbo_bill_id","qbo_bill_number","amount_applied"],"title":"BillPaymentLinePreview","description":"Single QBO bill payment application line with mapping preview.\n\nRepresents a single bill to which this payment is applied,\nincluding both the original QuickBooks data and the mapped Atlas values."},"BillResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"bill_number":{"type":"string","title":"Bill Number"},"vendor_bill_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendor Bill Number"},"bill_date":{"type":"string","format":"date","title":"Bill Date"},"due_date":{"type":"string","format":"date","title":"Due Date"},"subtotal":{"type":"string","title":"Subtotal"},"tax_amount":{"type":"string","title":"Tax Amount"},"total_amount":{"type":"string","title":"Total Amount"},"amount_paid":{"type":"string","title":"Amount Paid"},"amount_due":{"type":"string","title":"Amount Due"},"status":{"type":"string","title":"Status"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"approved_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Approved By"},"journal_entry_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Journal Entry Id"},"lines":{"items":{"$ref":"#/components/schemas/BillLineResponse"},"type":"array","title":"Lines","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","vendor_id","bill_number","vendor_bill_number","bill_date","due_date","subtotal","tax_amount","total_amount","amount_paid","amount_due","status","notes","approved_at","approved_by","journal_entry_id","created_at","updated_at"],"title":"BillResponse","description":"Schema for bill response."},"BillUpdate":{"properties":{"bill_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Bill Date"},"vendor_bill_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Vendor Bill Number"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"lines":{"anyOf":[{"items":{"$ref":"#/components/schemas/BillLineCreate"},"type":"array"},{"type":"null"}],"title":"Lines"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"BillUpdate","description":"Schema for updating a draft bill."},"BillVoid":{"properties":{"reason":{"type":"string","maxLength":500,"minLength":1,"title":"Reason"}},"type":"object","required":["reason"],"title":"BillVoid","description":"Schema for voiding a bill."},"BillingAddress":{"properties":{"line1":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Line1"},"line2":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Line2"},"city":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"City"},"state":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"State"},"country":{"type":"string","maxLength":100,"title":"Country","default":"US"},"postal_code":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Postal Code"}},"type":"object","title":"BillingAddress","description":"Embedded billing address schema."},"Body_import_bank_statement":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"CSV or QIF statement file"},"file_format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Format","description":"File format: csv, qif, or auto-detect"}},"type":"object","required":["file"],"title":"Body_import_bank_statement"},"Body_upload_file_api_v1_import_file_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"IIF or CSV file to import"}},"type":"object","required":["file"],"title":"Body_upload_file_api_v1_import_file_upload_post"},"BudgetCreate":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"fiscal_year":{"type":"integer","maximum":2100.0,"minimum":2000.0,"title":"Fiscal Year"},"period_type":{"type":"string","enum":["monthly","quarterly","annual"],"title":"Period Type","default":"monthly"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["company_id","name","fiscal_year","start_date","end_date"],"title":"BudgetCreate","description":"Schema for creating a new budget."},"BudgetLineCreate":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"period_amounts":{"additionalProperties":{"anyOf":[{"type":"number"},{"type":"string"}]},"type":"object","title":"Period Amounts","description":"Period amounts keyed by period number (1-12)"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["account_id"],"title":"BudgetLineCreate","description":"Schema for creating a budget line."},"BudgetLineResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"budget_id":{"type":"string","format":"uuid","title":"Budget Id"},"account_id":{"type":"string","format":"uuid","title":"Account Id"},"period_1_amount":{"type":"string","title":"Period 1 Amount"},"period_2_amount":{"type":"string","title":"Period 2 Amount"},"period_3_amount":{"type":"string","title":"Period 3 Amount"},"period_4_amount":{"type":"string","title":"Period 4 Amount"},"period_5_amount":{"type":"string","title":"Period 5 Amount"},"period_6_amount":{"type":"string","title":"Period 6 Amount"},"period_7_amount":{"type":"string","title":"Period 7 Amount"},"period_8_amount":{"type":"string","title":"Period 8 Amount"},"period_9_amount":{"type":"string","title":"Period 9 Amount"},"period_10_amount":{"type":"string","title":"Period 10 Amount"},"period_11_amount":{"type":"string","title":"Period 11 Amount"},"period_12_amount":{"type":"string","title":"Period 12 Amount"},"total_amount":{"type":"string","title":"Total Amount"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","org_id","budget_id","account_id","period_1_amount","period_2_amount","period_3_amount","period_4_amount","period_5_amount","period_6_amount","period_7_amount","period_8_amount","period_9_amount","period_10_amount","period_11_amount","period_12_amount","total_amount","notes","created_at","updated_at"],"title":"BudgetLineResponse","description":"Full budget line response schema."},"BudgetLineUpdate":{"properties":{"period_amounts":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"number"},{"type":"string"}]},"type":"object"},{"type":"null"}],"title":"Period Amounts","description":"Period amounts keyed by period number (1-12)"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"BudgetLineUpdate","description":"Schema for updating a budget line."},"BudgetResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"name":{"type":"string","title":"Name"},"fiscal_year":{"type":"integer","title":"Fiscal Year"},"period_type":{"type":"string","title":"Period Type"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"},"status":{"type":"string","title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_revenue_budget":{"type":"string","title":"Total Revenue Budget"},"total_expense_budget":{"type":"string","title":"Total Expense Budget"},"net_budget":{"type":"string","title":"Net Budget"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","org_id","company_id","name","fiscal_year","period_type","start_date","end_date","status","description","total_revenue_budget","total_expense_budget","net_budget","is_active","created_at","updated_at"],"title":"BudgetResponse","description":"Full budget response schema."},"BudgetUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"}},"type":"object","title":"BudgetUpdate","description":"Schema for updating a budget."},"BudgetWithLinesResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"name":{"type":"string","title":"Name"},"fiscal_year":{"type":"integer","title":"Fiscal Year"},"period_type":{"type":"string","title":"Period Type"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"type":"string","format":"date","title":"End Date"},"status":{"type":"string","title":"Status"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"total_revenue_budget":{"type":"string","title":"Total Revenue Budget"},"total_expense_budget":{"type":"string","title":"Total Expense Budget"},"net_budget":{"type":"string","title":"Net Budget"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"lines":{"items":{"$ref":"#/components/schemas/BudgetLineResponse"},"type":"array","title":"Lines","default":[]}},"type":"object","required":["id","org_id","company_id","name","fiscal_year","period_type","start_date","end_date","status","description","total_revenue_budget","total_expense_budget","net_budget","is_active","created_at","updated_at"],"title":"BudgetWithLinesResponse","description":"Budget response including all budget lines."},"BulkCategorizeItem":{"properties":{"transaction_id":{"type":"string","format":"uuid","title":"Transaction Id"},"account_id":{"type":"string","format":"uuid","title":"Account Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"}},"type":"object","required":["transaction_id","account_id","org_id"],"title":"BulkCategorizeItem","description":"Single item in a bulk categorization request.\n\nThe org_id is required to support cross-organization bulk operations\nand to set the correct RLS context for each transaction."},"BulkCategorizeRequest":{"properties":{"items":{"items":{"$ref":"#/components/schemas/BulkCategorizeItem"},"type":"array","maxItems":100,"minItems":1,"title":"Items"}},"type":"object","required":["items"],"title":"BulkCategorizeRequest","description":"Request to categorize multiple transactions at once.\n\nLimited to 100 items per request to prevent abuse and\nensure reasonable response times."},"BulkCategorizeResponse":{"properties":{"total":{"type":"integer","minimum":0.0,"title":"Total"},"succeeded":{"type":"integer","minimum":0.0,"title":"Succeeded"},"failed":{"type":"integer","minimum":0.0,"title":"Failed"},"results":{"items":{"$ref":"#/components/schemas/BulkCategorizeResultItem"},"type":"array","title":"Results"}},"type":"object","required":["total","succeeded","failed","results"],"title":"BulkCategorizeResponse","description":"Response from bulk categorization operation."},"BulkCategorizeResultItem":{"properties":{"transaction_id":{"type":"string","format":"uuid","title":"Transaction Id"},"success":{"type":"boolean","title":"Success"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["transaction_id","success"],"title":"BulkCategorizeResultItem","description":"Result for a single item in bulk categorization."},"BusinessType":{"type":"string","enum":["sole_proprietor","llc","llc_single_member","llc_partnership","llc_s_corp","llc_c_corp","s_corp","c_corp","partnership","trust","estate","non_profit","government","other"],"title":"BusinessType","description":"Business/entity classifications for tax reporting.\n\nDifferent entity types have different reporting requirements:\n- Sole proprietors, LLCs (single-member), partnerships: Generally reportable\n- C-Corps, S-Corps: Generally exempt from certain reporting\n- LLCs taxed as corps: Follow corp rules"},"CAGSTHSTReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"bn":{"type":"string","maxLength":15,"minLength":15,"title":"Bn","description":"Business Number (e.g., 123456789RT0001)"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"due_date":{"type":"string","format":"date","title":"Due Date"},"filing_frequency":{"$ref":"#/components/schemas/GSTFilingFrequency"},"line_101_sales":{"type":"string","title":"Line 101 Sales","description":"Line 101: Total sales and revenue"},"line_103_gst_hst_collected":{"type":"string","title":"Line 103 Gst Hst Collected","description":"Line 103: GST/HST collected"},"line_104_adjustments":{"type":"string","title":"Line 104 Adjustments","description":"Line 104: Adjustments"},"line_105_total_gst_hst":{"type":"string","title":"Line 105 Total Gst Hst","description":"Line 105: Total GST/HST"},"line_106_itc_claimed":{"type":"string","title":"Line 106 Itc Claimed","description":"Line 106: Input Tax Credits"},"line_107_itc_adjustments":{"type":"string","title":"Line 107 Itc Adjustments","description":"Line 107: ITC adjustments"},"line_108_total_itc":{"type":"string","title":"Line 108 Total Itc","description":"Line 108: Total ITCs"},"line_109_net_tax":{"type":"string","title":"Line 109 Net Tax","description":"Line 109: Net tax (positive=payable, negative=refund)"},"provincial_breakdown":{"items":{"$ref":"#/components/schemas/ProvincialTaxBreakdown"},"type":"array","title":"Provincial Breakdown"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"}},"type":"object","required":["company_id","bn","period_start","period_end","due_date","filing_frequency","line_101_sales","line_103_gst_hst_collected","line_104_adjustments","line_105_total_gst_hst","line_106_itc_claimed","line_107_itc_adjustments","line_108_total_itc","line_109_net_tax","generated_at"],"title":"CAGSTHSTReport","description":"Canadian GST/HST Return (GST34 form).\n\nLine items match the official CRA GST34 form structure."},"CSVColumnMapping":{"properties":{"source_column":{"type":"string","title":"Source Column","description":"Column name in CSV file"},"target_field":{"type":"string","title":"Target Field","description":"Target field in Atlas"},"is_mapped":{"type":"boolean","title":"Is Mapped","description":"Whether this column is mapped","default":true}},"type":"object","required":["source_column","target_field"],"title":"CSVColumnMapping","description":"Column mapping for CSV import."},"CSVImportPreviewSchema":{"properties":{"file_name":{"type":"string","title":"File Name","description":"Original file name"},"entity_type":{"allOf":[{"$ref":"#/components/schemas/EntityType"}],"description":"Entity type being imported"},"total_rows":{"type":"integer","title":"Total Rows","description":"Total data rows in file"},"valid_rows":{"type":"integer","title":"Valid Rows","description":"Rows that passed validation"},"skipped_rows":{"type":"integer","title":"Skipped Rows","description":"Empty rows skipped"},"headers":{"items":{"type":"string"},"type":"array","title":"Headers","description":"Column headers from CSV"},"suggested_mappings":{"items":{"$ref":"#/components/schemas/CSVColumnMapping"},"type":"array","title":"Suggested Mappings","description":"Auto-detected column mappings"},"errors":{"items":{"$ref":"#/components/schemas/CSVParseErrorSchema"},"type":"array","title":"Errors"},"has_errors":{"type":"boolean","title":"Has Errors","description":"Whether there are parsing errors"},"preview_data":{"items":{"type":"object"},"type":"array","title":"Preview Data","description":"First 5 parsed rows for preview"}},"type":"object","required":["file_name","entity_type","total_rows","valid_rows","skipped_rows","headers","has_errors"],"title":"CSVImportPreviewSchema","description":"CSV file import preview."},"CSVParseErrorSchema":{"properties":{"row_number":{"type":"integer","title":"Row Number","description":"Row number (1-indexed, header is row 1)"},"column":{"type":"string","title":"Column","description":"Column name"},"value":{"type":"string","title":"Value","description":"Value that caused error"},"message":{"type":"string","title":"Message","description":"Error message"}},"type":"object","required":["row_number","column","value","message"],"title":"CSVParseErrorSchema","description":"Error from parsing a CSV row."},"CancelRequest":{"properties":{"at_period_end":{"type":"boolean","title":"At Period End","description":"If True, cancel at end of billing period. If False, cancel immediately.","default":true}},"type":"object","title":"CancelRequest","description":"Request to cancel subscription."},"CashFlowActivity":{"properties":{"name":{"type":"string","title":"Name"},"sections":{"items":{"$ref":"#/components/schemas/CashFlowSection"},"type":"array","title":"Sections"},"net_cash":{"type":"string","title":"Net Cash","description":"Net cash from this activity"}},"type":"object","required":["name","sections","net_cash"],"title":"CashFlowActivity","description":"Activity category (Operating, Investing, Financing)."},"CashFlowDailyPoint":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"balance":{"type":"string","title":"Balance"}},"type":"object","required":["date","balance"],"title":"CashFlowDailyPoint","description":"Single data point for daily cash balance."},"CashFlowDailyResponse":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"data_points":{"items":{"$ref":"#/components/schemas/CashFlowDailyPoint"},"type":"array","title":"Data Points"}},"type":"object","required":["company_id","period_start","period_end"],"title":"CashFlowDailyResponse","description":"Response for daily cash flow endpoint."},"CashFlowLineItem":{"properties":{"description":{"type":"string","title":"Description"},"amount":{"type":"string","title":"Amount"},"account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Account Id","description":"Related account if applicable"}},"type":"object","required":["description","amount"],"title":"CashFlowLineItem","description":"Single line item in cash flow statement."},"CashFlowReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"type":"string","title":"Company Name"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"generated_at":{"type":"string","title":"Generated At","description":"ISO 8601 timestamp"},"operating_activities":{"$ref":"#/components/schemas/CashFlowActivity"},"investing_activities":{"$ref":"#/components/schemas/CashFlowActivity"},"financing_activities":{"$ref":"#/components/schemas/CashFlowActivity"},"net_change_in_cash":{"type":"string","title":"Net Change In Cash","description":"Sum of all activity net cash"},"beginning_cash":{"type":"string","title":"Beginning Cash","description":"Cash at period start"},"ending_cash":{"type":"string","title":"Ending Cash","description":"Cash at period end"}},"type":"object","required":["company_id","company_name","period_start","period_end","generated_at","operating_activities","investing_activities","financing_activities","net_change_in_cash","beginning_cash","ending_cash"],"title":"CashFlowReport","description":"Complete Cash Flow Statement (Indirect Method).\n\nShows cash movements categorized by:\n- Operating Activities (starts with net income)\n- Investing Activities (asset purchases/sales)\n- Financing Activities (debt, equity, dividends)"},"CashFlowSection":{"properties":{"name":{"type":"string","title":"Name"},"items":{"items":{"$ref":"#/components/schemas/CashFlowLineItem"},"type":"array","title":"Items"},"subtotal":{"type":"string","title":"Subtotal"}},"type":"object","required":["name","items","subtotal"],"title":"CashFlowSection","description":"Section within an activity (e.g., adjustments, working capital changes)."},"CategorizationRuleCreate":{"properties":{"rule_type":{"type":"string","title":"Rule Type","description":"Type of rule: vendor_exact, vendor_fuzzy, keyword, pattern"},"match_value":{"type":"string","minLength":1,"title":"Match Value","description":"Value to match against (vendor name, keyword, or regex pattern)"},"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Account ID to categorize matching transactions to"},"confidence":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"string"}],"title":"Confidence","description":"Confidence score for matches (0.0-1.0)","default":"0.95"}},"type":"object","required":["rule_type","match_value","account_id"],"title":"CategorizationRuleCreate","description":"Schema for creating a categorization rule."},"CategorizationRuleResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"rule_type":{"type":"string","title":"Rule Type"},"match_value":{"type":"string","title":"Match Value"},"account_id":{"type":"string","format":"uuid","title":"Account Id"},"confidence":{"type":"string","title":"Confidence"},"usage_count":{"type":"integer","title":"Usage Count"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","rule_type","match_value","account_id","confidence","usage_count","last_used_at","created_at","updated_at"],"title":"CategorizationRuleResponse","description":"Schema for returning a categorization rule."},"ChangePlanRequest":{"properties":{"new_tier":{"type":"string","enum":["starter","professional","enterprise"],"title":"New Tier","description":"The new plan tier to switch to"}},"type":"object","required":["new_tier"],"title":"ChangePlanRequest","description":"Request to change subscription plan."},"ClassificationRequest":{"properties":{"transaction_ids":{"items":{"type":"string","format":"uuid"},"type":"array","minItems":1,"title":"Transaction Ids","description":"List of transaction IDs to classify"}},"type":"object","required":["transaction_ids"],"title":"ClassificationRequest","description":"Request to classify transaction(s)."},"ClassificationResult":{"properties":{"transaction_id":{"type":"string","format":"uuid","title":"Transaction Id","description":"ID of the classified transaction"},"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Suggested account ID"},"account_name":{"type":"string","title":"Account Name","description":"Name of the suggested account"},"confidence":{"type":"string","title":"Confidence","description":"Confidence score (0.0-1.0)"},"method":{"type":"string","title":"Method","description":"Classification method: rule, pattern, llm, manual"},"reasoning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reasoning","description":"Explanation for the classification (optional)"}},"type":"object","required":["transaction_id","account_id","account_name","confidence","method"],"title":"ClassificationResult","description":"Result of classifying a single transaction."},"ClientHealth":{"properties":{"org_id":{"type":"string","format":"uuid","title":"Org Id"},"org_name":{"type":"string","title":"Org Name"},"status":{"$ref":"#/components/schemas/ClientHealthStatus"},"uncategorized_count":{"type":"integer","minimum":0.0,"title":"Uncategorized Count"},"overdue_invoices_count":{"type":"integer","minimum":0.0,"title":"Overdue Invoices Count"},"overdue_invoices_amount":{"type":"string","title":"Overdue Invoices Amount"},"bills_due_soon_count":{"type":"integer","minimum":0.0,"title":"Bills Due Soon Count"},"bills_due_soon_amount":{"type":"string","title":"Bills Due Soon Amount"},"cash_balance":{"type":"string","title":"Cash Balance"},"ar_total":{"type":"string","title":"Ar Total"},"ap_total":{"type":"string","title":"Ap Total"},"net_income":{"type":"string","title":"Net Income"},"last_activity_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Activity At"},"user_role":{"type":"string","title":"User Role"}},"type":"object","required":["org_id","org_name","status","uncategorized_count","overdue_invoices_count","overdue_invoices_amount","bills_due_soon_count","bills_due_soon_amount","cash_balance","ar_total","ap_total","net_income","last_activity_at","user_role"],"title":"ClientHealth","description":"Health metrics for a single client organization.\n\nContains action item counts, financial metrics, and metadata\nfor display in the multi-client portal dashboard."},"ClientHealthStatus":{"type":"string","enum":["healthy","warning","critical"],"title":"ClientHealthStatus","description":"Health status indicator for a client organization.\n\n- healthy: No action items (0 uncategorized AND 0 overdue)\n- warning: Few action items (1-5 uncategorized OR 1-3 overdue)\n- critical: Many action items (>5 uncategorized OR >3 overdue)"},"CompanyCreate":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"base_currency":{"type":"string","maxLength":3,"minLength":3,"title":"Base Currency","description":"ISO 4217 currency code","default":"USD"},"accounting_method":{"type":"string","pattern":"^(accrual|cash)$","title":"Accounting Method","default":"accrual"},"address_street1":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address Street1"},"address_street2":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address Street2"},"address_city":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Address City"},"address_state":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Address State","description":"2-letter state code"},"address_zip":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Address Zip"},"address_country":{"type":"string","maxLength":2,"title":"Address Country","description":"2-letter country code","default":"US"},"fiscal_year_start_date":{"type":"string","format":"date","title":"Fiscal Year Start Date","description":"Fiscal year start date (e.g., 2024-01-01)"}},"type":"object","required":["name","fiscal_year_start_date"],"title":"CompanyCreate","description":"Company creation schema."},"CompanyResponse":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"base_currency":{"type":"string","maxLength":3,"minLength":3,"title":"Base Currency","description":"ISO 4217 currency code","default":"USD"},"accounting_method":{"type":"string","pattern":"^(accrual|cash)$","title":"Accounting Method","default":"accrual"},"address_street1":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address Street1"},"address_street2":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address Street2"},"address_city":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Address City"},"address_state":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Address State","description":"2-letter state code"},"address_zip":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Address Zip"},"address_country":{"type":"string","maxLength":2,"title":"Address Country","description":"2-letter country code","default":"US"},"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"fiscal_year_start_date":{"type":"string","format":"date","title":"Fiscal Year Start Date"},"fiscal_year":{"type":"integer","title":"Fiscal Year"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"tax_id_masked":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Id Masked","description":"Masked tax ID (e.g., ***-**-1234)"},"tax_id_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Id Type"},"has_tax_id":{"type":"boolean","title":"Has Tax Id","description":"Whether tax ID is configured","default":false}},"type":"object","required":["name","id","org_id","fiscal_year_start_date","fiscal_year","created_at","updated_at"],"title":"CompanyResponse","description":"Company response schema."},"CompanyUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"base_currency":{"anyOf":[{"type":"string","maxLength":3,"minLength":3},{"type":"null"}],"title":"Base Currency"},"fiscal_year_start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fiscal Year Start Date"},"accounting_method":{"anyOf":[{"type":"string","pattern":"^(accrual|cash)$"},{"type":"null"}],"title":"Accounting Method"},"tax_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Id","description":"EIN or SSN (will be encrypted)"},"tax_id_type":{"anyOf":[{"type":"string","pattern":"^(EIN|SSN|ITIN)$"},{"type":"null"}],"title":"Tax Id Type"},"address_street1":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address Street1"},"address_street2":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Address Street2"},"address_city":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Address City"},"address_state":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Address State"},"address_zip":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Address Zip"},"address_country":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Address Country"}},"type":"object","title":"CompanyUpdate","description":"Company update schema (partial updates allowed)."},"ConfirmClassificationRequest":{"properties":{"transaction_id":{"type":"string","format":"uuid","title":"Transaction Id","description":"Transaction ID to confirm"},"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Confirmed/corrected account ID"}},"type":"object","required":["transaction_id","account_id"],"title":"ConfirmClassificationRequest","description":"Request to confirm or correct a classification."},"ConversionResult":{"properties":{"from_currency":{"type":"string","title":"From Currency"},"to_currency":{"type":"string","title":"To Currency"},"from_amount":{"type":"string","title":"From Amount"},"to_amount":{"type":"string","title":"To Amount"},"rate":{"type":"string","title":"Rate"},"rate_date":{"type":"string","format":"date","title":"Rate Date"},"rate_source":{"type":"string","title":"Rate Source"}},"type":"object","required":["from_currency","to_currency","from_amount","to_amount","rate","rate_date","rate_source"],"title":"ConversionResult","description":"Schema for currency conversion result."},"CorrectionRequest":{"properties":{"box_1_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 1 Amount"},"box_2_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 2 Amount"},"box_3_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 3 Amount"},"box_4_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 4 Amount"},"box_5_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 5 Amount"},"box_6_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 6 Amount"},"box_7_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 7 Amount"}},"type":"object","title":"CorrectionRequest","description":"Request for creating a corrected 1099."},"CreateEstimateRequest":{"properties":{"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"quarter":{"type":"integer","title":"Quarter"},"estimated_income":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Estimated Income","default":"0"},"prior_year_tax":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Prior Year Tax"},"prior_year_agi":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Prior Year Agi"}},"type":"object","required":["tax_year_id","quarter"],"title":"CreateEstimateRequest","description":"Request for creating a quarterly estimate."},"CreateForm1099KRequest":{"properties":{"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"processor_name":{"type":"string","title":"Processor Name"},"box_1a_gross_amount":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Box 1A Gross Amount","default":"0"},"box_1b_card_not_present":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Box 1B Card Not Present","default":"0"},"box_2_merchant_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box 2 Merchant Category"},"box_3_transaction_count":{"type":"integer","title":"Box 3 Transaction Count","default":0},"box_4_federal_withheld":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Box 4 Federal Withheld","default":"0"},"monthly_amounts":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Monthly Amounts"},"state_info":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"State Info"}},"type":"object","required":["tax_year_id","processor_name"],"title":"CreateForm1099KRequest","description":"Request for creating a 1099-K record."},"CrossClientQueueItem":{"properties":{"org_id":{"type":"string","format":"uuid","title":"Org Id"},"org_name":{"type":"string","title":"Org Name"},"transaction_id":{"type":"string","format":"uuid","title":"Transaction Id"},"transaction_date":{"type":"string","title":"Transaction Date"},"description":{"type":"string","title":"Description"},"amount":{"type":"string","title":"Amount"},"vendor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendor"},"suggested_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Suggested Account Id"},"suggested_account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggested Account Name"},"confidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Confidence"}},"type":"object","required":["org_id","org_name","transaction_id","transaction_date","description","amount","vendor","suggested_account_id","suggested_account_name","confidence"],"title":"CrossClientQueueItem","description":"A single item in the cross-client exception queue.\n\nRepresents an uncategorized or low-confidence transaction\nfrom any of the user's client organizations."},"CrossClientQueueResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CrossClientQueueItem"},"type":"array","title":"Items"},"total":{"type":"integer","minimum":0.0,"title":"Total"}},"type":"object","required":["items","total"],"title":"CrossClientQueueResponse","description":"Response containing exception queue items across all clients.\n\nSupports pagination with total count for UI display."},"CurrencyInfo":{"properties":{"code":{"type":"string","maxLength":3,"minLength":3,"title":"Code","description":"ISO 4217 3-letter currency code"},"name":{"type":"string","title":"Name","description":"Full currency name"},"symbol":{"type":"string","title":"Symbol","description":"Currency symbol"},"decimal_places":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Decimal Places","description":"Number of decimal places"}},"type":"object","required":["code","name","symbol","decimal_places"],"title":"CurrencyInfo","description":"Information about a single currency."},"CustomerBalance":{"properties":{"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"customer_number":{"type":"string","title":"Customer Number"},"display_name":{"type":"string","title":"Display Name"},"current_balance":{"type":"string","title":"Current Balance"},"open_invoices_count":{"type":"integer","title":"Open Invoices Count"},"total_open_amount":{"type":"string","title":"Total Open Amount"}},"type":"object","required":["customer_id","customer_number","display_name","current_balance","open_invoices_count","total_open_amount"],"title":"CustomerBalance","description":"Schema for customer balance response."},"CustomerCreate":{"properties":{"display_name":{"type":"string","maxLength":200,"minLength":1,"title":"Display Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"currency":{"type":"string","maxLength":3,"minLength":3,"title":"Currency","default":"USD"},"payment_terms":{"type":"string","pattern":"^(due_on_receipt|net_15|net_30|net_60|net_90)$","title":"Payment Terms","default":"net_30"},"credit_limit":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Credit Limit","default":"0"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"billing_address":{"anyOf":[{"$ref":"#/components/schemas/BillingAddress"},{"type":"null"}]}},"type":"object","required":["display_name"],"title":"CustomerCreate","description":"Schema for creating a customer."},"CustomerImportPreview":{"properties":{"total_customers":{"type":"integer","title":"Total Customers","description":"Total customers from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Customers ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Customers with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Customers already in Atlas"},"customers":{"items":{"$ref":"#/components/schemas/QBOCustomerPreview"},"type":"array","title":"Customers","description":"Individual customer previews"}},"type":"object","required":["total_customers","importable","conflicts","already_imported","customers"],"title":"CustomerImportPreview","description":"Full customer import preview response.\n\nContains summary counts and the list of customer previews."},"CustomerResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"customer_number":{"type":"string","title":"Customer Number"},"display_name":{"type":"string","title":"Display Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"billing_address_line1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing Address Line1"},"billing_address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing Address Line2"},"billing_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing City"},"billing_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing State"},"billing_country":{"type":"string","title":"Billing Country"},"billing_postal_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing Postal Code"},"currency":{"type":"string","title":"Currency"},"payment_terms":{"type":"string","title":"Payment Terms"},"credit_limit":{"type":"string","title":"Credit Limit"},"current_balance":{"type":"string","title":"Current Balance"},"is_active":{"type":"boolean","title":"Is Active"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","customer_number","display_name","email","phone","billing_address_line1","billing_address_line2","billing_city","billing_state","billing_country","billing_postal_code","currency","payment_terms","credit_limit","current_balance","is_active","notes","created_at","updated_at"],"title":"CustomerResponse","description":"Schema for customer response."},"CustomerUpdate":{"properties":{"display_name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Display Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"billing_address":{"anyOf":[{"$ref":"#/components/schemas/BillingAddress"},{"type":"null"}]},"currency":{"anyOf":[{"type":"string","maxLength":3,"minLength":3},{"type":"null"}],"title":"Currency"},"payment_terms":{"anyOf":[{"type":"string","pattern":"^(due_on_receipt|net_15|net_30|net_60|net_90)$"},{"type":"null"}],"title":"Payment Terms"},"credit_limit":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Credit Limit"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"CustomerUpdate","description":"Schema for updating a customer."},"DueForGenerationResponse":{"properties":{"recurring_invoices":{"items":{"$ref":"#/components/schemas/RecurringInvoiceSummary"},"type":"array","title":"Recurring Invoices"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["recurring_invoices","count"],"title":"DueForGenerationResponse","description":"Schema for recurring invoices due for generation."},"EUVATOSSLine":{"properties":{"country_code":{"type":"string","maxLength":2,"minLength":2,"title":"Country Code","description":"Destination country"},"country_name":{"type":"string","title":"Country Name"},"vat_rate":{"type":"string","title":"Vat Rate","description":"VAT rate applied"},"rate_type":{"type":"string","title":"Rate Type","description":"standard, reduced, zero","default":"standard"},"taxable_amount":{"type":"string","title":"Taxable Amount","description":"Total taxable amount"},"vat_amount":{"type":"string","title":"Vat Amount","description":"VAT amount due"},"transaction_count":{"type":"integer","title":"Transaction Count","description":"Number of transactions","default":0}},"type":"object","required":["country_code","country_name","vat_rate","taxable_amount","vat_amount"],"title":"EUVATOSSLine","description":"Per-country VAT OSS line for quarterly report.\n\nEach line represents VAT collected on B2C sales to a specific\nEU member state, grouped by VAT rate."},"EUVATOSSReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"quarter":{"type":"string","title":"Quarter","description":"Quarter in YYYY-QN format (e.g., 2025-Q1)"},"registration_country":{"type":"string","maxLength":2,"minLength":2,"title":"Registration Country"},"registration_vat_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registration Vat Number"},"lines":{"items":{"$ref":"#/components/schemas/EUVATOSSLine"},"type":"array","title":"Lines"},"total_taxable":{"type":"string","title":"Total Taxable"},"total_vat_due":{"type":"string","title":"Total Vat Due"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"}},"type":"object","required":["company_id","quarter","registration_country","total_taxable","total_vat_due","generated_at"],"title":"EUVATOSSReport","description":"EU VAT OSS quarterly report.\n\nThe One-Stop-Shop allows businesses to report VAT on B2C\ncross-border sales to all EU countries through a single\ndeclaration in their country of registration."},"EligibleVendorInfo":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"vendor_name":{"type":"string","title":"Vendor Name"},"total_payments":{"type":"string","title":"Total Payments"},"tax_form_complete":{"type":"boolean","title":"Tax Form Complete"},"form_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Form Type"}},"type":"object","required":["vendor_id","vendor_name","total_payments","tax_form_complete","form_type"],"title":"EligibleVendorInfo","description":"Vendor eligible for tax reporting."},"EntityType":{"type":"string","enum":["invoices","bills","customers","vendors","accounts","journal_entries"],"title":"EntityType","description":"Entity types that can be imported."},"EstimateSummaryResponse":{"properties":{"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"total_estimated_income":{"type":"string","title":"Total Estimated Income"},"total_estimated_se_tax":{"type":"string","title":"Total Estimated Se Tax"},"total_estimated_income_tax":{"type":"string","title":"Total Estimated Income Tax"},"total_estimated_tax":{"type":"string","title":"Total Estimated Tax"},"total_amount_due":{"type":"string","title":"Total Amount Due"},"total_amount_paid":{"type":"string","title":"Total Amount Paid"},"total_remaining":{"type":"string","title":"Total Remaining"},"quarters_paid":{"type":"integer","title":"Quarters Paid"},"quarters_overdue":{"type":"integer","title":"Quarters Overdue"},"quarters_pending":{"type":"integer","title":"Quarters Pending"}},"type":"object","required":["tax_year_id","total_estimated_income","total_estimated_se_tax","total_estimated_income_tax","total_estimated_tax","total_amount_due","total_amount_paid","total_remaining","quarters_paid","quarters_overdue","quarters_pending"],"title":"EstimateSummaryResponse","description":"Summary response for quarterly estimates."},"ExchangeRateCreate":{"properties":{"from_currency":{"type":"string","maxLength":3,"minLength":3,"title":"From Currency","description":"Source currency ISO 4217 code"},"to_currency":{"type":"string","maxLength":3,"minLength":3,"title":"To Currency","description":"Target currency ISO 4217 code"},"rate":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Rate","description":"Exchange rate (how many to_currency for 1 from_currency)"},"effective_date":{"type":"string","format":"date","title":"Effective Date","description":"Date this rate is effective"},"source":{"type":"string","enum":["manual","api"],"title":"Source","description":"Source of the rate (manual entry or API)","default":"manual"},"provider":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Provider","description":"API provider name if source is 'api'"}},"type":"object","required":["from_currency","to_currency","rate","effective_date"],"title":"ExchangeRateCreate","description":"Schema for creating a new exchange rate."},"ExchangeRateResponse":{"properties":{"from_currency":{"type":"string","maxLength":3,"minLength":3,"title":"From Currency","description":"Source currency ISO 4217 code"},"to_currency":{"type":"string","maxLength":3,"minLength":3,"title":"To Currency","description":"Target currency ISO 4217 code"},"rate":{"type":"string","title":"Rate","description":"Exchange rate (how many to_currency for 1 from_currency)"},"effective_date":{"type":"string","format":"date","title":"Effective Date","description":"Date this rate is effective"},"id":{"type":"string","format":"uuid","title":"Id"},"source":{"type":"string","title":"Source"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["from_currency","to_currency","rate","effective_date","id","source","provider","created_at","updated_at"],"title":"ExchangeRateResponse","description":"Schema for exchange rate API responses."},"ExchangeRateUpdate":{"properties":{"rate":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Rate","description":"New exchange rate"},"effective_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Effective Date","description":"New effective date"},"source":{"anyOf":[{"type":"string","enum":["manual","api"]},{"type":"null"}],"title":"Source","description":"Source of the rate"},"provider":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Provider","description":"API provider name"}},"type":"object","title":"ExchangeRateUpdate","description":"Schema for updating an exchange rate."},"ExecuteBankTransactionImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"transaction_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Transaction Actions","default":{}},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},"type":"object","required":["company_id"],"title":"ExecuteBankTransactionImportRequest","description":"Request body for execute bank transaction import endpoint."},"ExecuteBillImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"bill_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Bill Actions","default":{}},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},"type":"object","required":["company_id"],"title":"ExecuteBillImportRequest","description":"Request body for execute bill import endpoint."},"ExecuteCustomerImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"customer_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Customer Actions","default":{}},"active_only":{"type":"boolean","title":"Active Only","default":true}},"type":"object","required":["company_id"],"title":"ExecuteCustomerImportRequest","description":"Request body for execute customer import endpoint."},"ExecuteImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"account_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Account Actions","default":{}},"rename_numbers":{"additionalProperties":{"type":"string"},"type":"object","title":"Rename Numbers","default":{}},"active_only":{"type":"boolean","title":"Active Only","default":true}},"type":"object","required":["company_id"],"title":"ExecuteImportRequest","description":"Request body for execute import endpoint."},"ExecuteInvoiceImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"invoice_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Invoice Actions","default":{}},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},"type":"object","required":["company_id"],"title":"ExecuteInvoiceImportRequest","description":"Request body for execute invoice import endpoint."},"ExecutePaymentMadeImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"payment_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Payment Actions","default":{}},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},"type":"object","required":["company_id"],"title":"ExecutePaymentMadeImportRequest","description":"Request body for execute payment made import endpoint."},"ExecutePaymentReceivedImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"payment_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Payment Actions","default":{}},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},"type":"object","required":["company_id"],"title":"ExecutePaymentReceivedImportRequest","description":"Request body for execute payment received import endpoint."},"ExecuteVendorImportRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"vendor_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Vendor Actions","default":{}},"active_only":{"type":"boolean","title":"Active Only","default":true}},"type":"object","required":["company_id"],"title":"ExecuteVendorImportRequest","description":"Request body for execute vendor import endpoint."},"FIREExportRequest":{"properties":{"transmitter_tin":{"type":"string","title":"Transmitter Tin"},"transmitter_control_code":{"type":"string","title":"Transmitter Control Code"},"transmitter_name":{"type":"string","title":"Transmitter Name"},"transmitter_address":{"type":"string","title":"Transmitter Address"},"transmitter_city":{"type":"string","title":"Transmitter City"},"transmitter_state":{"type":"string","title":"Transmitter State"},"transmitter_zip":{"type":"string","title":"Transmitter Zip"},"contact_name":{"type":"string","title":"Contact Name"},"contact_phone":{"type":"string","title":"Contact Phone"},"contact_email":{"type":"string","title":"Contact Email"}},"type":"object","required":["transmitter_tin","transmitter_control_code","transmitter_name","transmitter_address","transmitter_city","transmitter_state","transmitter_zip","contact_name","contact_phone","contact_email"],"title":"FIREExportRequest","description":"Request parameters for FIRE format export."},"FileImportConfig":{"properties":{"create_missing_customers":{"type":"boolean","title":"Create Missing Customers","description":"Auto-create unmatched customers","default":false},"create_missing_vendors":{"type":"boolean","title":"Create Missing Vendors","description":"Auto-create unmatched vendors","default":false},"skip_unmatched":{"type":"boolean","title":"Skip Unmatched","description":"Skip transactions with unmatched entities","default":true},"column_mappings":{"items":{"$ref":"#/components/schemas/CSVColumnMapping"},"type":"array","title":"Column Mappings","description":"Custom column mappings (overrides auto-detected)"},"entity_actions":{"additionalProperties":{"type":"string"},"type":"object","title":"Entity Actions","description":"Per-entity action overrides (entity_key -> action)"}},"type":"object","title":"FileImportConfig","description":"Configuration for executing file import."},"FileImportResultSchema":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether import succeeded"},"file_name":{"type":"string","title":"File Name","description":"Original file name"},"total_processed":{"type":"integer","title":"Total Processed","description":"Total entities processed","default":0},"imported":{"type":"integer","title":"Imported","description":"Successfully imported","default":0},"skipped":{"type":"integer","title":"Skipped","description":"Skipped (by user choice or conflict)","default":0},"failed":{"type":"integer","title":"Failed","description":"Failed to import","default":0},"created_customers":{"type":"integer","title":"Created Customers","description":"Customers auto-created","default":0},"created_vendors":{"type":"integer","title":"Created Vendors","description":"Vendors auto-created","default":0},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","description":"Error messages"},"job_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Job Id","description":"Import job ID for status tracking"}},"type":"object","required":["success","file_name"],"title":"FileImportResultSchema","description":"Result of file import execution."},"FileType":{"type":"string","enum":["iif","csv"],"title":"FileType","description":"Supported file types for import."},"FileUploadResponse":{"properties":{"file_id":{"type":"string","title":"File Id","description":"Temporary file ID for import execution"},"file_type":{"allOf":[{"$ref":"#/components/schemas/FileType"}],"description":"Detected file type"},"file_name":{"type":"string","title":"File Name","description":"Original file name"},"iif_preview":{"anyOf":[{"$ref":"#/components/schemas/IIFImportPreviewSchema"},{"type":"null"}],"description":"IIF preview if applicable"},"csv_preview":{"anyOf":[{"$ref":"#/components/schemas/CSVImportPreviewSchema"},{"type":"null"}],"description":"CSV preview if applicable"}},"type":"object","required":["file_id","file_type","file_name"],"title":"FileUploadResponse","description":"Response from file upload."},"Form1099KResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"processor_name":{"type":"string","title":"Processor Name"},"processor_tin_masked":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Processor Tin Masked"},"status":{"type":"string","title":"Status"},"box_1a_gross_amount":{"type":"string","title":"Box 1A Gross Amount"},"box_1b_card_not_present":{"type":"string","title":"Box 1B Card Not Present"},"box_2_merchant_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box 2 Merchant Category"},"box_3_transaction_count":{"type":"integer","title":"Box 3 Transaction Count"},"box_4_federal_withheld":{"type":"string","title":"Box 4 Federal Withheld"},"monthly_amounts":{"type":"object","title":"Monthly Amounts"},"state_info":{"items":{"type":"object"},"type":"array","title":"State Info"},"meets_threshold":{"type":"boolean","title":"Meets Threshold"},"monthly_total":{"type":"string","title":"Monthly Total"}},"type":"object","required":["id","company_id","tax_year_id","processor_name","status","box_1a_gross_amount","box_1b_card_not_present","box_2_merchant_category","box_3_transaction_count","box_4_federal_withheld","monthly_amounts","state_info","meets_threshold","monthly_total"],"title":"Form1099KResponse","description":"Response model for 1099-K records."},"Form1099KStatus":{"type":"string","enum":["draft","imported","reviewed","filed"],"title":"Form1099KStatus","description":"Status of a 1099-K record."},"Form1099KSummaryResponse":{"properties":{"total_records":{"type":"integer","title":"Total Records"},"total_gross_amount":{"type":"string","title":"Total Gross Amount"},"total_transaction_count":{"type":"integer","title":"Total Transaction Count"},"total_federal_withheld":{"type":"string","title":"Total Federal Withheld"},"meets_federal_threshold":{"type":"boolean","title":"Meets Federal Threshold"},"status_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Status Counts"},"processor_totals":{"additionalProperties":{"type":"string"},"type":"object","title":"Processor Totals"}},"type":"object","required":["total_records","total_gross_amount","total_transaction_count","total_federal_withheld","meets_federal_threshold","status_counts","processor_totals"],"title":"Form1099KSummaryResponse","description":"Summary response for 1099-K records."},"Form1099Response":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"form_type":{"type":"string","title":"Form Type"},"status":{"type":"string","title":"Status"},"recipient_name":{"type":"string","title":"Recipient Name"},"recipient_address":{"type":"object","title":"Recipient Address"},"recipient_tin_masked":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recipient Tin Masked"},"box_1_amount":{"type":"string","title":"Box 1 Amount"},"box_2_amount":{"type":"string","title":"Box 2 Amount","default":"0"},"box_3_amount":{"type":"string","title":"Box 3 Amount","default":"0"},"box_4_amount":{"type":"string","title":"Box 4 Amount","default":"0"},"box_5_amount":{"type":"string","title":"Box 5 Amount","default":"0"},"box_6_amount":{"type":"string","title":"Box 6 Amount","default":"0"},"box_7_amount":{"type":"string","title":"Box 7 Amount","default":"0"},"total_amount":{"type":"string","title":"Total Amount"},"correction_of_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Correction Of Id"}},"type":"object","required":["id","company_id","tax_year_id","vendor_id","form_type","status","recipient_name","recipient_address","box_1_amount","total_amount"],"title":"Form1099Response","description":"Simplified response for 1099 forms."},"Form1099Status":{"type":"string","enum":["draft","generated","filed","voided","corrected"],"title":"Form1099Status","description":"Status of a 1099 form in the filing workflow."},"Form1099Type":{"type":"string","enum":["nec","misc"],"title":"Form1099Type","description":"Type of 1099 form."},"FormType":{"type":"string","enum":["nec","misc"],"title":"FormType","description":"Valid 1099 form types for export."},"GSTFilingFrequency":{"type":"string","enum":["monthly","quarterly","annually"],"title":"GSTFilingFrequency","description":"GST/HST filing frequency options."},"GenerateRequest":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"form_type":{"allOf":[{"$ref":"#/components/schemas/Form1099Type"}],"default":"nec"},"box_1_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 1 Amount"},"box_2_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 2 Amount"},"box_3_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 3 Amount"},"box_4_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 4 Amount"},"box_5_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 5 Amount"},"box_6_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 6 Amount"},"box_7_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 7 Amount"}},"type":"object","required":["vendor_id","tax_year_id"],"title":"GenerateRequest","description":"Request for generating a 1099 form."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IIFEntityPreviewSchema":{"properties":{"iif_name":{"type":"string","title":"Iif Name","description":"Name from IIF file"},"iif_type":{"type":"string","title":"Iif Type","description":"Transaction type (INVOICE, BILL, etc.)"},"iif_date":{"type":"string","format":"date","title":"Iif Date","description":"Transaction date"},"iif_amount":{"type":"string","title":"Iif Amount","description":"Transaction amount"},"iif_doc_number":{"type":"string","title":"Iif Doc Number","description":"Document number","default":""},"iif_account":{"type":"string","title":"Iif Account","description":"Account name from IIF","default":""},"line_count":{"type":"integer","title":"Line Count","description":"Number of line items","default":0},"matched_entity_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Matched Entity Id","description":"Matched Atlas entity ID"},"matched_entity_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Matched Entity Name","description":"Matched entity display name"},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Conflict type: 'unmatched_customer', 'unmatched_vendor', 'unmatched_account'"},"suggested_action":{"type":"string","title":"Suggested Action","description":"Suggested action: 'import', 'skip', 'create_missing'","default":"import"}},"type":"object","required":["iif_name","iif_type","iif_date","iif_amount"],"title":"IIFEntityPreviewSchema","description":"Preview of a single entity from IIF file."},"IIFImportPreviewSchema":{"properties":{"file_name":{"type":"string","title":"File Name","description":"Original file name"},"total_transactions":{"type":"integer","title":"Total Transactions","description":"Total transactions in file"},"invoices":{"items":{"$ref":"#/components/schemas/IIFEntityPreviewSchema"},"type":"array","title":"Invoices"},"bills":{"items":{"$ref":"#/components/schemas/IIFEntityPreviewSchema"},"type":"array","title":"Bills"},"journal_entries":{"items":{"$ref":"#/components/schemas/IIFEntityPreviewSchema"},"type":"array","title":"Journal Entries"},"payments":{"items":{"$ref":"#/components/schemas/IIFEntityPreviewSchema"},"type":"array","title":"Payments"},"other":{"items":{"$ref":"#/components/schemas/IIFEntityPreviewSchema"},"type":"array","title":"Other"},"unmatched_customers":{"items":{"type":"string"},"type":"array","title":"Unmatched Customers"},"unmatched_vendors":{"items":{"type":"string"},"type":"array","title":"Unmatched Vendors"},"unmatched_accounts":{"items":{"type":"string"},"type":"array","title":"Unmatched Accounts"},"has_conflicts":{"type":"boolean","title":"Has Conflicts","description":"Whether there are any conflicts"},"importable_count":{"type":"integer","title":"Importable Count","description":"Transactions ready to import"}},"type":"object","required":["file_name","total_transactions","has_conflicts","importable_count"],"title":"IIFImportPreviewSchema","description":"Full IIF file import preview."},"ImportForm1099KRequest":{"properties":{"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"processor_name":{"type":"string","title":"Processor Name"},"processor_data":{"type":"object","title":"Processor Data"}},"type":"object","required":["tax_year_id","processor_name","processor_data"],"title":"ImportForm1099KRequest","description":"Request for importing processor data."},"ImportJobResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","description":"Import job ID"},"import_type":{"type":"string","title":"Import Type","description":"Type of import (accounts)"},"status":{"type":"string","title":"Status","description":"Job status: pending, in_progress, completed, failed"},"total_records":{"type":"integer","title":"Total Records","description":"Total records to import"},"imported_records":{"type":"integer","title":"Imported Records","description":"Successfully imported records"},"skipped_records":{"type":"integer","title":"Skipped Records","description":"Skipped records"},"error_records":{"type":"integer","title":"Error Records","description":"Records with errors"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"Import start time"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"Import completion time"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if failed"},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","description":"List of individual errors"}},"type":"object","required":["id","import_type","status","total_records","imported_records","skipped_records","error_records"],"title":"ImportJobResponse","description":"Import job status response.\n\nProvides status and progress information for an import job."},"InventoryCostBatchResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"inventory_item_id":{"type":"string","format":"uuid","title":"Inventory Item Id"},"receipt_date":{"type":"string","format":"date","title":"Receipt Date"},"receipt_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receipt Reference"},"batch_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Number"},"quantity_received":{"type":"string","title":"Quantity Received"},"quantity_remaining":{"type":"string","title":"Quantity Remaining"},"unit_cost":{"type":"string","title":"Unit Cost"},"total_cost":{"type":"string","title":"Total Cost"},"remaining_value":{"type":"string","title":"Remaining Value"},"is_available":{"type":"boolean","title":"Is Available"},"is_fully_consumed":{"type":"boolean","title":"Is Fully Consumed"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","inventory_item_id","receipt_date","receipt_reference","batch_number","quantity_received","quantity_remaining","unit_cost","total_cost","remaining_value","is_available","is_fully_consumed","created_at"],"title":"InventoryCostBatchResponse","description":"Schema for cost batch response."},"InventoryItemCreate":{"properties":{"sku":{"type":"string","maxLength":50,"minLength":1,"title":"Sku","description":"Stock Keeping Unit"},"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Category"},"unit_of_measure":{"type":"string","maxLength":20,"title":"Unit Of Measure","default":"each"},"inventory_account_id":{"type":"string","format":"uuid","title":"Inventory Account Id","description":"GL account for inventory balance"},"cogs_account_id":{"type":"string","format":"uuid","title":"Cogs Account Id","description":"GL account for Cost of Goods Sold"},"costing_method":{"type":"string","enum":["fifo","lifo","average"],"title":"Costing Method","description":"Inventory costing method","default":"fifo"},"reorder_level":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Reorder Level","description":"Alert when stock falls below this","default":"0"},"reorder_quantity":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Reorder Quantity","description":"Suggested quantity to reorder","default":"0"}},"type":"object","required":["sku","name","inventory_account_id","cogs_account_id"],"title":"InventoryItemCreate","description":"Schema for creating an inventory item."},"InventoryItemListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/InventoryItemResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"InventoryItemListResponse","description":"Schema for list of inventory items."},"InventoryItemResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"sku":{"type":"string","title":"Sku"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"unit_of_measure":{"type":"string","title":"Unit Of Measure"},"costing_method":{"type":"string","title":"Costing Method"},"inventory_account_id":{"type":"string","format":"uuid","title":"Inventory Account Id"},"cogs_account_id":{"type":"string","format":"uuid","title":"Cogs Account Id"},"quantity_on_hand":{"type":"string","title":"Quantity On Hand"},"quantity_reserved":{"type":"string","title":"Quantity Reserved"},"quantity_available":{"type":"string","title":"Quantity Available"},"reorder_level":{"type":"string","title":"Reorder Level"},"reorder_quantity":{"type":"string","title":"Reorder Quantity"},"is_active":{"type":"boolean","title":"Is Active"},"is_tracked":{"type":"boolean","title":"Is Tracked"},"is_below_reorder_level":{"type":"boolean","title":"Is Below Reorder Level"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","sku","name","description","category","unit_of_measure","costing_method","inventory_account_id","cogs_account_id","quantity_on_hand","quantity_reserved","quantity_available","reorder_level","reorder_quantity","is_active","is_tracked","is_below_reorder_level","created_at","updated_at"],"title":"InventoryItemResponse","description":"Schema for inventory item response."},"InventoryItemUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Category"},"unit_of_measure":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Unit Of Measure"},"reorder_level":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Reorder Level"},"reorder_quantity":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Reorder Quantity"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"InventoryItemUpdate","description":"Schema for updating an inventory item."},"InventoryTransactionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"inventory_item_id":{"type":"string","format":"uuid","title":"Inventory Item Id"},"transaction_type":{"type":"string","title":"Transaction Type"},"source_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Type"},"source_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Id"},"document_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Number"},"transaction_date":{"type":"string","format":"date","title":"Transaction Date"},"quantity":{"type":"string","title":"Quantity"},"quantity_before":{"type":"string","title":"Quantity Before"},"quantity_after":{"type":"string","title":"Quantity After"},"unit_cost":{"type":"string","title":"Unit Cost"},"total_amount":{"type":"string","title":"Total Amount"},"cost_batch_details":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Cost Batch Details"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"is_inbound":{"type":"boolean","title":"Is Inbound"},"is_outbound":{"type":"boolean","title":"Is Outbound"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","inventory_item_id","transaction_type","source_type","source_id","document_number","transaction_date","quantity","quantity_before","quantity_after","unit_cost","total_amount","cost_batch_details","notes","is_inbound","is_outbound","created_at"],"title":"InventoryTransactionResponse","description":"Schema for inventory transaction response."},"InventoryValueResponse":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"total_quantity":{"type":"string","title":"Total Quantity"},"total_value":{"type":"string","title":"Total Value"},"as_of_date":{"type":"string","format":"date","title":"As Of Date"}},"type":"object","required":["company_id","total_quantity","total_value","as_of_date"],"title":"InventoryValueResponse","description":"Schema for inventory valuation summary."},"InvoiceAgingSummary":{"properties":{"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"customer_name":{"type":"string","title":"Customer Name"},"current":{"type":"string","title":"Current","default":"0"},"days_1_30":{"type":"string","title":"Days 1 30","default":"0"},"days_31_60":{"type":"string","title":"Days 31 60","default":"0"},"days_61_90":{"type":"string","title":"Days 61 90","default":"0"},"days_over_90":{"type":"string","title":"Days Over 90","default":"0"},"total":{"type":"string","title":"Total","default":"0"}},"type":"object","required":["customer_id","customer_name"],"title":"InvoiceAgingSummary","description":"Schema for AR aging summary."},"InvoiceCreate":{"properties":{"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"invoice_date":{"type":"string","format":"date","title":"Invoice Date"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"lines":{"items":{"$ref":"#/components/schemas/InvoiceLineCreate"},"type":"array","minItems":1,"title":"Lines"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"}},"type":"object","required":["customer_id","invoice_date","lines"],"title":"InvoiceCreate","description":"Schema for creating an invoice."},"InvoiceImportPreview":{"properties":{"total_invoices":{"type":"integer","title":"Total Invoices","description":"Total invoices from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Invoices ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Invoices with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Invoices already in Atlas"},"missing_customers":{"type":"integer","title":"Missing Customers","description":"Invoices with unmapped customers"},"missing_accounts":{"type":"integer","title":"Missing Accounts","description":"Invoices with unmapped accounts"},"invoices":{"items":{"$ref":"#/components/schemas/QBOInvoicePreview"},"type":"array","title":"Invoices","description":"Individual invoice previews"},"unmapped_customers":{"items":{"type":"object"},"type":"array","title":"Unmapped Customers","description":"List of QBO customers not in Atlas (qbo_id, name)"},"unmapped_accounts":{"items":{"type":"object"},"type":"array","title":"Unmapped Accounts","description":"List of QBO accounts not in Atlas (qbo_id, name)"}},"type":"object","required":["total_invoices","importable","conflicts","already_imported","missing_customers","missing_accounts","invoices"],"title":"InvoiceImportPreview","description":"Full invoice import preview response.\n\nContains summary counts and the list of invoice previews,\nplus lists of unmapped dependencies."},"InvoiceLineCreate":{"properties":{"description":{"type":"string","minLength":1,"title":"Description"},"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity","default":"1"},"unit_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Unit Price"},"revenue_account_id":{"type":"string","format":"uuid","title":"Revenue Account Id"},"tax_rate":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Tax Rate","default":"0"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id","description":"Reference to TaxRate record"}},"type":"object","required":["description","unit_price","revenue_account_id"],"title":"InvoiceLineCreate","description":"Schema for creating an invoice line.\n\nTax can be specified either by:\n- tax_rate_id: Reference to a TaxRate record (preferred)\n- tax_rate: Direct percentage value (for backward compatibility)\n\nIf tax_rate_id is provided, the rate is looked up from TaxRate\nand frozen in the line item for historical accuracy."},"InvoiceLinePreview":{"properties":{"qbo_line_id":{"type":"string","title":"Qbo Line Id","description":"QuickBooks line ID"},"line_num":{"type":"integer","title":"Line Num","description":"Line number in the invoice"},"description":{"type":"string","title":"Description","description":"Line item description"},"quantity":{"type":"string","title":"Quantity","description":"Quantity"},"unit_price":{"type":"string","title":"Unit Price","description":"Unit price"},"amount":{"type":"string","title":"Amount","description":"Line amount (qty * unit_price)"},"qbo_account_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Account Id","description":"QuickBooks account ID"},"qbo_account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Account Name","description":"QuickBooks account name"},"atlas_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Account Id","description":"Mapped Atlas account ID"},"account_mapped":{"type":"boolean","title":"Account Mapped","description":"Whether account is mapped in Atlas","default":false}},"type":"object","required":["qbo_line_id","line_num","description","quantity","unit_price","amount"],"title":"InvoiceLinePreview","description":"Single QBO invoice line with mapping preview.\n\nContains both the original QuickBooks line data and the mapped\nAtlas values, plus account mapping status."},"InvoiceLineResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"line_number":{"type":"integer","title":"Line Number"},"description":{"type":"string","title":"Description"},"quantity":{"type":"string","title":"Quantity"},"unit_price":{"type":"string","title":"Unit Price"},"amount":{"type":"string","title":"Amount"},"revenue_account_id":{"type":"string","format":"uuid","title":"Revenue Account Id"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id"},"tax_rate":{"type":"string","title":"Tax Rate"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["id","line_number","description","quantity","unit_price","amount","revenue_account_id","tax_rate_id","tax_rate","tax_amount"],"title":"InvoiceLineResponse","description":"Schema for invoice line response."},"InvoiceResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"invoice_number":{"type":"string","title":"Invoice Number"},"invoice_date":{"type":"string","format":"date","title":"Invoice Date"},"due_date":{"type":"string","format":"date","title":"Due Date"},"subtotal":{"type":"string","title":"Subtotal"},"tax_amount":{"type":"string","title":"Tax Amount"},"total_amount":{"type":"string","title":"Total Amount"},"amount_paid":{"type":"string","title":"Amount Paid"},"amount_due":{"type":"string","title":"Amount Due"},"status":{"type":"string","title":"Status"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"},"sent_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sent At"},"viewed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Viewed At"},"journal_entry_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Journal Entry Id"},"lines":{"items":{"$ref":"#/components/schemas/InvoiceLineResponse"},"type":"array","title":"Lines","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","customer_id","invoice_number","invoice_date","due_date","subtotal","tax_amount","total_amount","amount_paid","amount_due","status","notes","terms","sent_at","viewed_at","journal_entry_id","created_at","updated_at"],"title":"InvoiceResponse","description":"Schema for invoice response."},"InvoiceUpdate":{"properties":{"invoice_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Invoice Date"},"due_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Due Date"},"lines":{"anyOf":[{"items":{"$ref":"#/components/schemas/InvoiceLineCreate"},"type":"array"},{"type":"null"}],"title":"Lines"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"}},"type":"object","title":"InvoiceUpdate","description":"Schema for updating a draft invoice."},"InvoiceVoid":{"properties":{"reason":{"type":"string","maxLength":500,"minLength":1,"title":"Reason"}},"type":"object","required":["reason"],"title":"InvoiceVoid","description":"Schema for voiding an invoice."},"IssueGoodsRequest":{"properties":{"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity","description":"Quantity to issue"},"issue_date":{"type":"string","format":"date","title":"Issue Date","description":"Date of issue"},"source_type":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Source Type","description":"Source document type (invoice, manual, etc.)"},"source_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Id","description":"Source document ID"},"document_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Document Number","description":"Human-readable document reference"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"}},"type":"object","required":["quantity","issue_date"],"title":"IssueGoodsRequest","description":"Schema for issuing goods from inventory."},"IssueGoodsResponse":{"properties":{"total_cost":{"type":"string","title":"Total Cost","description":"Total COGS for this issue"},"allocations":{"items":{"type":"object"},"type":"array","title":"Allocations","description":"Cost batch allocations (batch_id, quantity, unit_cost, total_cost)"},"transaction":{"$ref":"#/components/schemas/InventoryTransactionResponse"}},"type":"object","required":["total_cost","allocations","transaction"],"title":"IssueGoodsResponse","description":"Schema for issue goods response with COGS calculation."},"JournalEntryCorrection":{"properties":{"reason":{"type":"string","maxLength":500,"minLength":1,"title":"Reason","description":"Reason for correction"},"lines":{"items":{"$ref":"#/components/schemas/JournalEntryLineCreate"},"type":"array","minItems":2,"title":"Lines","description":"Corrected lines (must balance)"}},"type":"object","required":["reason","lines"],"title":"JournalEntryCorrection","description":"Schema for correcting a journal entry."},"JournalEntryCreate":{"properties":{"entry_date":{"type":"string","format":"date","title":"Entry Date","description":"Transaction date"},"description":{"type":"string","maxLength":500,"minLength":1,"title":"Description"},"entry_type":{"type":"string","pattern":"^(manual|invoice|bill|payment|adjustment|closing)$","title":"Entry Type","default":"manual"},"source_type":{"anyOf":[{"type":"string","pattern":"^(invoice|bill|bank_feed|manual)$"},{"type":"null"}],"title":"Source Type"},"source_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Id","description":"Link to source document"},"lines":{"items":{"$ref":"#/components/schemas/JournalEntryLineCreate"},"type":"array","minItems":2,"title":"Lines","description":"At least 2 lines required (debit and credit)"}},"type":"object","required":["entry_date","description","lines"],"title":"JournalEntryCreate","description":"Schema for creating a journal entry."},"JournalEntryLineCreate":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Account to debit/credit"},"entry_type":{"type":"string","pattern":"^(debit|credit)$","title":"Entry Type","examples":["debit"]},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","examples":["1000.00"]},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"currency":{"type":"string","maxLength":3,"minLength":3,"title":"Currency","default":"USD"},"exchange_rate":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Exchange Rate","default":"1.0"}},"type":"object","required":["account_id","entry_type","amount"],"title":"JournalEntryLineCreate","description":"Schema for creating a journal entry line."},"JournalEntryLineResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"account_id":{"type":"string","format":"uuid","title":"Account Id"},"line_number":{"type":"integer","title":"Line Number"},"entry_type":{"type":"string","title":"Entry Type"},"amount":{"type":"string","title":"Amount"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"currency":{"type":"string","title":"Currency"},"exchange_rate":{"type":"string","title":"Exchange Rate"},"base_amount":{"type":"string","title":"Base Amount"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","account_id","line_number","entry_type","amount","description","currency","exchange_rate","base_amount","created_at"],"title":"JournalEntryLineResponse","description":"Schema for journal entry line response."},"JournalEntryListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/JournalEntrySummary"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"has_more":{"type":"boolean","title":"Has More"}},"type":"object","required":["items","total","page","page_size","has_more"],"title":"JournalEntryListResponse","description":"Schema for paginated journal entry list."},"JournalEntryResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"entry_number":{"type":"string","title":"Entry Number"},"entry_date":{"type":"string","format":"date","title":"Entry Date"},"posting_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Posting Date"},"entry_type":{"type":"string","title":"Entry Type"},"source_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Type"},"source_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Source Id"},"description":{"type":"string","title":"Description"},"status":{"type":"string","title":"Status"},"posted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Posted At"},"posted_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Posted By"},"voided_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Voided At"},"voided_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Voided By"},"void_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Void Reason"},"version":{"type":"integer","title":"Version"},"superseded_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Superseded By"},"corrects_entry":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Corrects Entry"},"lines":{"items":{"$ref":"#/components/schemas/JournalEntryLineResponse"},"type":"array","title":"Lines","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","entry_number","entry_date","posting_date","entry_type","source_type","source_id","description","status","posted_at","posted_by","voided_at","voided_by","void_reason","version","superseded_by","corrects_entry","created_at","updated_at"],"title":"JournalEntryResponse","description":"Schema for journal entry response."},"JournalEntrySummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"entry_number":{"type":"string","title":"Entry Number"},"entry_date":{"type":"string","format":"date","title":"Entry Date"},"entry_type":{"type":"string","title":"Entry Type"},"description":{"type":"string","title":"Description"},"status":{"type":"string","title":"Status"},"total_amount":{"type":"string","title":"Total Amount"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","entry_number","entry_date","entry_type","description","status","total_amount","created_at"],"title":"JournalEntrySummary","description":"Lightweight journal entry summary for list views."},"JournalEntryUpdate":{"properties":{"entry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Entry Date"},"description":{"anyOf":[{"type":"string","maxLength":500,"minLength":1},{"type":"null"}],"title":"Description"},"lines":{"anyOf":[{"items":{"$ref":"#/components/schemas/JournalEntryLineCreate"},"type":"array"},{"type":"null"}],"title":"Lines"}},"type":"object","title":"JournalEntryUpdate","description":"Schema for updating a draft journal entry."},"JournalEntryVoid":{"properties":{"reason":{"type":"string","maxLength":500,"minLength":1,"title":"Reason","description":"Reason for voiding"}},"type":"object","required":["reason"],"title":"JournalEntryVoid","description":"Schema for voiding a journal entry."},"LineItemInfo":{"properties":{"value":{"type":"string","title":"Value"},"label":{"type":"string","title":"Label"}},"type":"object","required":["value","label"],"title":"LineItemInfo","description":"Schedule C line item information."},"LoginRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"User email address"},"password":{"type":"string","title":"Password","description":"User password"}},"type":"object","required":["email","password"],"title":"LoginRequest","description":"Login request schema."},"LoginResponse":{"properties":{"user":{"$ref":"#/components/schemas/UserResponse"},"organizations":{"items":{"$ref":"#/components/schemas/OrganizationSummary"},"type":"array","title":"Organizations"},"tokens":{"$ref":"#/components/schemas/TokenResponse"}},"type":"object","required":["user","organizations","tokens"],"title":"LoginResponse","description":"Login response with user info and tokens."},"LowStockItemResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"sku":{"type":"string","title":"Sku"},"name":{"type":"string","title":"Name"},"quantity_on_hand":{"type":"string","title":"Quantity On Hand"},"reorder_level":{"type":"string","title":"Reorder Level"},"reorder_quantity":{"type":"string","title":"Reorder Quantity"},"shortage":{"type":"string","title":"Shortage","description":"How much below reorder level"}},"type":"object","required":["id","sku","name","quantity_on_hand","reorder_level","reorder_quantity","shortage"],"title":"LowStockItemResponse","description":"Schema for low stock item alert."},"MappingCreateRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"account_id":{"type":"string","format":"uuid","title":"Account Id"},"line_item":{"$ref":"#/components/schemas/ScheduleCLineItem"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["company_id","account_id","line_item"],"title":"MappingCreateRequest","description":"Request for creating a Schedule C mapping."},"MappingResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"account_id":{"type":"string","format":"uuid","title":"Account Id"},"line_item":{"type":"string","title":"Line Item"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","required":["id","company_id","account_id","line_item","is_active"],"title":"MappingResponse","description":"Simplified response for Schedule C mappings."},"MatchSuggestion":{"properties":{"match_type":{"type":"string","title":"Match Type"},"match_id":{"type":"string","format":"uuid","title":"Match Id"},"match_date":{"type":"string","format":"date","title":"Match Date"},"match_amount":{"type":"string","title":"Match Amount"},"match_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Match Reference"},"match_description":{"type":"string","title":"Match Description"},"confidence_score":{"type":"string","title":"Confidence Score"},"score_breakdown":{"additionalProperties":{"type":"string"},"type":"object","title":"Score Breakdown","description":"Breakdown of score components (amount, date, reference, description)"}},"type":"object","required":["match_type","match_id","match_date","match_amount","match_reference","match_description","confidence_score"],"title":"MatchSuggestion","description":"Schema for a match suggestion."},"MetricsResponse":{"properties":{"accuracy_rate":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Accuracy Rate","description":"Correct predictions / Total (0.0-1.0)"},"correction_rate":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Correction Rate","description":"User corrections / Total (0.0-1.0)"},"rule_coverage":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Rule Coverage","description":"Rule-matched / Total (0.0-1.0)"},"llm_coverage":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Llm Coverage","description":"LLM-matched / Total (0.0-1.0)"},"avg_confidence":{"type":"string","title":"Avg Confidence","description":"Average confidence score"},"total_categorized":{"type":"integer","minimum":0.0,"title":"Total Categorized","description":"Total auto-categorized transactions"},"total_corrections":{"type":"integer","minimum":0.0,"title":"Total Corrections","description":"Total user corrections"},"rules_generated":{"type":"integer","minimum":0.0,"title":"Rules Generated","description":"Rules created from feedback"},"period_start":{"type":"string","format":"date-time","title":"Period Start","description":"Start of metrics period"},"period_end":{"type":"string","format":"date-time","title":"Period End","description":"End of metrics period"}},"type":"object","required":["accuracy_rate","correction_rate","rule_coverage","llm_coverage","avg_confidence","total_categorized","total_corrections","rules_generated","period_start","period_end"],"title":"MetricsResponse","description":"Categorization metrics for a company.\n\nProvides insight into AI categorization performance."},"MissingTaxFormResponse":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"vendor_name":{"type":"string","title":"Vendor Name"},"is_tax_reportable":{"type":"boolean","title":"Is Tax Reportable"}},"type":"object","required":["vendor_id","vendor_name","is_tax_reportable"],"title":"MissingTaxFormResponse","description":"Vendor missing required tax form (W-9, VAT cert, etc.)."},"OrganizationResponse":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"id":{"type":"string","format":"uuid","title":"Id"},"subscription_tier":{"type":"string","title":"Subscription Tier"},"subscription_status":{"type":"string","title":"Subscription Status"},"stripe_customer_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stripe Customer Id"},"max_users":{"type":"integer","title":"Max Users"},"max_companies":{"type":"integer","title":"Max Companies"},"fiscal_year_start_month":{"type":"integer","title":"Fiscal Year Start Month"},"is_active":{"type":"boolean","title":"Is Active"},"is_trial":{"type":"boolean","title":"Is Trial"},"is_subscribed":{"type":"boolean","title":"Is Subscribed"},"can_add_user":{"type":"boolean","title":"Can Add User"},"can_add_company":{"type":"boolean","title":"Can Add Company"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","id","subscription_tier","subscription_status","stripe_customer_id","max_users","max_companies","fiscal_year_start_month","is_active","is_trial","is_subscribed","can_add_user","can_add_company","created_at","updated_at"],"title":"OrganizationResponse","description":"Organization response schema."},"OrganizationSummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"subscription_tier":{"type":"string","title":"Subscription Tier"},"subscription_status":{"type":"string","title":"Subscription Status"},"is_trial":{"type":"boolean","title":"Is Trial"},"is_subscribed":{"type":"boolean","title":"Is Subscribed"}},"type":"object","required":["id","name","subscription_tier","subscription_status","is_trial","is_subscribed"],"title":"OrganizationSummary","description":"Organization summary for auth responses."},"OrganizationUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"fiscal_year_start_month":{"anyOf":[{"type":"integer","maximum":12.0,"minimum":1.0},{"type":"null"}],"title":"Fiscal Year Start Month"},"subscription_tier":{"anyOf":[{"type":"string","pattern":"^(starter|professional|enterprise)$"},{"type":"null"}],"title":"Subscription Tier"},"max_users":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Max Users"},"max_companies":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Max Companies"}},"type":"object","title":"OrganizationUpdate","description":"Organization update schema (partial updates allowed)."},"OrganizationUserInvite":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address of user to invite"},"role":{"type":"string","pattern":"^(owner|admin|accountant|bookkeeper|viewer)$","title":"Role"},"company_access":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Company Access","description":"Company IDs user can access (empty = all)"}},"type":"object","required":["email","role"],"title":"OrganizationUserInvite","description":"Invite user to organization."},"OrganizationUserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"role":{"type":"string","title":"Role"},"invitation_status":{"type":"string","title":"Invitation Status"},"invited_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Invited At"},"accepted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Accepted At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","org_id","user_id","role","invitation_status","invited_at","accepted_at","created_at","updated_at"],"title":"OrganizationUserResponse","description":"Organization user membership response."},"OrganizationUserUpdate":{"properties":{"role":{"anyOf":[{"type":"string","pattern":"^(owner|admin|accountant|bookkeeper|viewer)$"},{"type":"null"}],"title":"Role"},"company_access":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Company Access"}},"type":"object","title":"OrganizationUserUpdate","description":"Update organization user schema (partial updates allowed).\n\nNote: company_access=None means \"no change\", not \"grant full access\".\nThe endpoint handles this by excluding None values from the update."},"OrganizationUserWithUserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"user_email":{"type":"string","title":"User Email"},"user_first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User First Name"},"user_last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Last Name"},"role":{"type":"string","title":"Role"},"invitation_status":{"type":"string","title":"Invitation Status"},"invited_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Invited At"},"accepted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Accepted At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","org_id","user_id","user_email","user_first_name","user_last_name","role","invitation_status","invited_at","accepted_at","created_at","updated_at"],"title":"OrganizationUserWithUserResponse","description":"Organization user membership with user details."},"PAYGWithholdingSection":{"properties":{"w1_gross_payments":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"W1 Gross Payments","description":"W1: Total gross payments subject to withholding"},"w2_withheld":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"W2 Withheld","description":"W2: Amount withheld from payments"}},"type":"object","title":"PAYGWithholdingSection","description":"PAYG (Pay As You Go) withholding section of BAS.\n\nReports tax withheld from employee wages."},"PaymentApplicationCreate":{"properties":{"invoice_id":{"type":"string","format":"uuid","title":"Invoice Id"},"amount_applied":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount Applied"}},"type":"object","required":["invoice_id","amount_applied"],"title":"PaymentApplicationCreate","description":"Schema for applying payment to invoice."},"PaymentApplicationResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"invoice_id":{"type":"string","format":"uuid","title":"Invoice Id"},"invoice_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Invoice Number"},"amount_applied":{"type":"string","title":"Amount Applied"},"applied_date":{"type":"string","format":"date","title":"Applied Date"}},"type":"object","required":["id","invoice_id","amount_applied","applied_date"],"title":"PaymentApplicationResponse","description":"Schema for payment application response."},"PaymentLinePreview":{"properties":{"qbo_invoice_id":{"type":"string","title":"Qbo Invoice Id","description":"QuickBooks invoice ID this payment applies to"},"qbo_invoice_number":{"type":"string","title":"Qbo Invoice Number","description":"QuickBooks invoice number"},"amount_applied":{"type":"string","title":"Amount Applied","description":"Amount applied to this invoice"},"atlas_invoice_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Invoice Id","description":"Mapped Atlas invoice ID"},"invoice_mapped":{"type":"boolean","title":"Invoice Mapped","description":"Whether invoice is mapped in Atlas","default":false}},"type":"object","required":["qbo_invoice_id","qbo_invoice_number","amount_applied"],"title":"PaymentLinePreview","description":"Single QBO payment application line with mapping preview.\n\nRepresents a single invoice to which this payment is applied,\nincluding both the original QuickBooks data and the mapped Atlas values."},"PaymentMadeCreate":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount"},"payment_method":{"type":"string","pattern":"^(cash|check|credit_card|ach|wire|other)$","title":"Payment Method"},"payment_account_id":{"type":"string","format":"uuid","title":"Payment Account Id"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"applications":{"anyOf":[{"items":{"$ref":"#/components/schemas/BillPaymentApplicationCreate"},"type":"array"},{"type":"null"}],"title":"Applications"}},"type":"object","required":["vendor_id","payment_date","amount","payment_method","payment_account_id"],"title":"PaymentMadeCreate","description":"Schema for creating a payment made."},"PaymentMadeImportPreview":{"properties":{"total_payments":{"type":"integer","title":"Total Payments","description":"Total payments from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Payments ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Payments with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Payments already in Atlas"},"missing_vendors":{"type":"integer","title":"Missing Vendors","description":"Payments with unmapped vendors"},"missing_bills":{"type":"integer","title":"Missing Bills","description":"Payments with unmapped bills"},"missing_payment_accounts":{"type":"integer","title":"Missing Payment Accounts","description":"Payments with unmapped payment accounts"},"payments":{"items":{"$ref":"#/components/schemas/QBOPaymentMadePreview"},"type":"array","title":"Payments","description":"Individual payment previews"},"unmapped_vendors":{"items":{"type":"object"},"type":"array","title":"Unmapped Vendors","description":"List of QBO vendors not in Atlas (qbo_id, name)"},"unmapped_bills":{"items":{"type":"object"},"type":"array","title":"Unmapped Bills","description":"List of QBO bills not in Atlas (qbo_id, number)"},"unmapped_payment_accounts":{"items":{"type":"object"},"type":"array","title":"Unmapped Payment Accounts","description":"List of QBO payment accounts not in Atlas (qbo_id, name)"}},"type":"object","required":["total_payments","importable","conflicts","already_imported","missing_vendors","missing_bills","missing_payment_accounts","payments"],"title":"PaymentMadeImportPreview","description":"Full payment made import preview response.\n\nContains summary counts and the list of payment previews,\nplus lists of unmapped dependencies."},"PaymentMadeResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"payment_number":{"type":"string","title":"Payment Number"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"amount":{"type":"string","title":"Amount"},"unapplied_amount":{"type":"string","title":"Unapplied Amount"},"payment_method":{"type":"string","title":"Payment Method"},"payment_account_id":{"type":"string","format":"uuid","title":"Payment Account Id"},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"journal_entry_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Journal Entry Id"},"applications":{"items":{"$ref":"#/components/schemas/BillPaymentApplicationResponse"},"type":"array","title":"Applications","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","vendor_id","payment_number","payment_date","amount","unapplied_amount","payment_method","payment_account_id","reference_number","notes","journal_entry_id","created_at","updated_at"],"title":"PaymentMadeResponse","description":"Schema for payment made response."},"PaymentReceivedCreate":{"properties":{"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount"},"payment_method":{"type":"string","pattern":"^(cash|check|credit_card|ach|wire|stripe|other)$","title":"Payment Method"},"deposit_account_id":{"type":"string","format":"uuid","title":"Deposit Account Id"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"applications":{"anyOf":[{"items":{"$ref":"#/components/schemas/PaymentApplicationCreate"},"type":"array"},{"type":"null"}],"title":"Applications"}},"type":"object","required":["customer_id","payment_date","amount","payment_method","deposit_account_id"],"title":"PaymentReceivedCreate","description":"Schema for creating a payment received."},"PaymentReceivedImportPreview":{"properties":{"total_payments":{"type":"integer","title":"Total Payments","description":"Total payments from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Payments ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Payments with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Payments already in Atlas"},"missing_customers":{"type":"integer","title":"Missing Customers","description":"Payments with unmapped customers"},"missing_invoices":{"type":"integer","title":"Missing Invoices","description":"Payments with unmapped invoices"},"missing_deposit_accounts":{"type":"integer","title":"Missing Deposit Accounts","description":"Payments with unmapped deposit accounts"},"payments":{"items":{"$ref":"#/components/schemas/QBOPaymentReceivedPreview"},"type":"array","title":"Payments","description":"Individual payment previews"},"unmapped_customers":{"items":{"type":"object"},"type":"array","title":"Unmapped Customers","description":"List of QBO customers not in Atlas (qbo_id, name)"},"unmapped_invoices":{"items":{"type":"object"},"type":"array","title":"Unmapped Invoices","description":"List of QBO invoices not in Atlas (qbo_id, number)"},"unmapped_deposit_accounts":{"items":{"type":"object"},"type":"array","title":"Unmapped Deposit Accounts","description":"List of QBO deposit accounts not in Atlas (qbo_id, name)"}},"type":"object","required":["total_payments","importable","conflicts","already_imported","missing_customers","missing_invoices","missing_deposit_accounts","payments"],"title":"PaymentReceivedImportPreview","description":"Full payment received import preview response.\n\nContains summary counts and the list of payment previews,\nplus lists of unmapped dependencies."},"PaymentReceivedResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"payment_number":{"type":"string","title":"Payment Number"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"amount":{"type":"string","title":"Amount"},"unapplied_amount":{"type":"string","title":"Unapplied Amount"},"payment_method":{"type":"string","title":"Payment Method"},"deposit_account_id":{"type":"string","format":"uuid","title":"Deposit Account Id"},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"journal_entry_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Journal Entry Id"},"applications":{"items":{"$ref":"#/components/schemas/PaymentApplicationResponse"},"type":"array","title":"Applications","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","customer_id","payment_number","payment_date","amount","unapplied_amount","payment_method","deposit_account_id","reference_number","notes","journal_entry_id","created_at","updated_at"],"title":"PaymentReceivedResponse","description":"Schema for payment received response."},"PortalHealthResponse":{"properties":{"clients":{"items":{"$ref":"#/components/schemas/ClientHealth"},"type":"array","title":"Clients"},"total_uncategorized":{"type":"integer","minimum":0.0,"title":"Total Uncategorized"},"total_overdue_invoices":{"type":"integer","minimum":0.0,"title":"Total Overdue Invoices"},"total_bills_due_soon":{"type":"integer","minimum":0.0,"title":"Total Bills Due Soon"}},"type":"object","required":["clients","total_uncategorized","total_overdue_invoices","total_bills_due_soon"],"title":"PortalHealthResponse","description":"Response containing health data for all user's client organizations.\n\nAggregates health metrics across all organizations where the user\nhas accountant, admin, or owner role."},"PortalSessionRequest":{"properties":{"return_url":{"type":"string","minLength":1,"title":"Return Url","description":"URL to redirect to after the billing portal session"}},"type":"object","required":["return_url"],"title":"PortalSessionRequest","description":"Request for Stripe billing portal session."},"PortalSessionResponse":{"properties":{"url":{"type":"string","title":"Url","description":"URL to Stripe billing portal"}},"type":"object","required":["url"],"title":"PortalSessionResponse","description":"Stripe billing portal session response."},"ProfitLossCategory":{"properties":{"name":{"type":"string","title":"Name"},"sections":{"items":{"$ref":"#/components/schemas/ProfitLossSection"},"type":"array","title":"Sections"},"total":{"type":"string","title":"Total"}},"type":"object","required":["name","sections","total"],"title":"ProfitLossCategory","description":"Major category (Revenue, Cost of Goods Sold, Operating Expenses)."},"ProfitLossLineItem":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"account_number":{"type":"string","title":"Account Number"},"account_name":{"type":"string","title":"Account Name"},"amount":{"type":"string","title":"Amount"},"indent_level":{"type":"integer","title":"Indent Level","description":"Indentation for hierarchy","default":0}},"type":"object","required":["account_id","account_number","account_name","amount"],"title":"ProfitLossLineItem","description":"Single account line item in P&L report."},"ProfitLossReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"type":"string","title":"Company Name"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"generated_at":{"type":"string","title":"Generated At","description":"ISO 8601 timestamp"},"revenue":{"$ref":"#/components/schemas/ProfitLossCategory"},"cost_of_goods_sold":{"anyOf":[{"$ref":"#/components/schemas/ProfitLossCategory"},{"type":"null"}],"description":"COGS if applicable"},"gross_profit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Gross Profit","description":"Revenue - COGS (if COGS exists)"},"operating_expenses":{"$ref":"#/components/schemas/ProfitLossCategory"},"operating_income":{"type":"string","title":"Operating Income","description":"Gross Profit (or Revenue) - Operating Expenses"},"other_income_expense":{"anyOf":[{"$ref":"#/components/schemas/ProfitLossCategory"},{"type":"null"}],"description":"Non-operating income/expenses"},"net_income":{"type":"string","title":"Net Income","description":"Final bottom line"},"comparison_period_start":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Comparison Period Start"},"comparison_period_end":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Comparison Period End"},"comparison_revenue":{"anyOf":[{"$ref":"#/components/schemas/ProfitLossCategory"},{"type":"null"}]},"comparison_expenses":{"anyOf":[{"$ref":"#/components/schemas/ProfitLossCategory"},{"type":"null"}]},"comparison_net_income":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comparison Net Income"}},"type":"object","required":["company_id","company_name","period_start","period_end","generated_at","revenue","operating_expenses","operating_income","net_income"],"title":"ProfitLossReport","description":"Complete Profit & Loss (Income Statement) report.\n\nNet Income = Total Revenue - Total Expenses"},"ProfitLossSection":{"properties":{"name":{"type":"string","title":"Name"},"items":{"items":{"$ref":"#/components/schemas/ProfitLossLineItem"},"type":"array","title":"Items"},"subtotal":{"type":"string","title":"Subtotal"}},"type":"object","required":["name","items","subtotal"],"title":"ProfitLossSection","description":"Section within a category (e.g., Sales Revenue, Operating Expenses)."},"ProjectCreate":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"project_code":{"type":"string","maxLength":50,"minLength":1,"title":"Project Code"},"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id"},"budget_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Budget Amount"},"budget_hours":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Budget Hours"},"hourly_rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Hourly Rate"},"billing_method":{"type":"string","enum":["fixed_price","time_materials","milestone"],"title":"Billing Method","default":"time_materials"},"start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"}},"type":"object","required":["company_id","project_code","name"],"title":"ProjectCreate","description":"Schema for creating a new project."},"ProjectResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id"},"project_code":{"type":"string","title":"Project Code"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"type":"string","title":"Status"},"billing_method":{"type":"string","title":"Billing Method"},"budget_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Amount"},"budget_hours":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Hours"},"hourly_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hourly Rate"},"start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"},"actual_end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Actual End Date"},"total_costs":{"type":"string","title":"Total Costs"},"total_revenue":{"type":"string","title":"Total Revenue"},"total_hours":{"type":"string","title":"Total Hours"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","org_id","company_id","customer_id","project_code","name","description","status","billing_method","budget_amount","budget_hours","hourly_rate","start_date","end_date","actual_end_date","total_costs","total_revenue","total_hours","is_active","created_at","updated_at"],"title":"ProjectResponse","description":"Full project response schema."},"ProjectSummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"project_code":{"type":"string","title":"Project Code"},"name":{"type":"string","title":"Name"},"status":{"type":"string","title":"Status"},"billing_method":{"type":"string","title":"Billing Method"},"budget_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Amount"},"budget_hours":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Hours"},"total_costs":{"type":"string","title":"Total Costs"},"total_revenue":{"type":"string","title":"Total Revenue"},"total_hours":{"type":"string","title":"Total Hours"},"profit":{"type":"string","title":"Profit"},"profit_margin":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profit Margin"},"budget_consumed_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Consumed Amount"},"budget_consumed_hours":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Budget Consumed Hours"}},"type":"object","required":["id","project_code","name","status","billing_method","budget_amount","budget_hours","total_costs","total_revenue","total_hours","profit","profit_margin","budget_consumed_amount","budget_consumed_hours"],"title":"ProjectSummary","description":"Project summary with profitability metrics."},"ProjectUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id"},"budget_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Budget Amount"},"budget_hours":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Budget Hours"},"hourly_rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Hourly Rate"},"billing_method":{"anyOf":[{"type":"string","enum":["fixed_price","time_materials","milestone"]},{"type":"null"}],"title":"Billing Method"},"start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"}},"type":"object","title":"ProjectUpdate","description":"Schema for updating a project."},"ProvincialTaxBreakdown":{"properties":{"province_code":{"type":"string","maxLength":2,"minLength":2,"title":"Province Code","description":"Province code (ON, NS, etc.)"},"province_name":{"type":"string","title":"Province Name"},"taxable_sales":{"type":"string","title":"Taxable Sales"},"hst_collected":{"type":"string","title":"Hst Collected"},"hst_rate":{"type":"string","title":"Hst Rate","description":"HST rate (13% or 15%)"}},"type":"object","required":["province_code","province_name","taxable_sales","hst_collected","hst_rate"],"title":"ProvincialTaxBreakdown","description":"HST provincial breakdown.\n\nFor HST provinces (ON, NS, NB, NL, PE), shows sales\nand tax collected by province."},"PurchaseOrderCreate":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"order_date":{"type":"string","format":"date","title":"Order Date"},"expected_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Date"},"lines":{"items":{"$ref":"#/components/schemas/PurchaseOrderLineCreate"},"type":"array","minItems":1,"title":"Lines"},"ship_to_name":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Ship To Name"},"ship_to_address_line1":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Ship To Address Line1"},"ship_to_address_line2":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Ship To Address Line2"},"ship_to_city":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Ship To City"},"ship_to_state":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Ship To State"},"ship_to_country":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Ship To Country"},"ship_to_postal_code":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Ship To Postal Code"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"}},"type":"object","required":["vendor_id","order_date","lines"],"title":"PurchaseOrderCreate","description":"Schema for creating a purchase order."},"PurchaseOrderLineCreate":{"properties":{"description":{"type":"string","maxLength":500,"minLength":1,"title":"Description"},"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity"},"unit_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Unit Price"},"expense_account_id":{"type":"string","format":"uuid","title":"Expense Account Id"},"tax_rate":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Tax Rate","default":"0"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id","description":"Reference to TaxRate record"},"item_code":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Item Code"},"unit_of_measure":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Unit Of Measure"}},"type":"object","required":["description","quantity","unit_price","expense_account_id"],"title":"PurchaseOrderLineCreate","description":"Schema for creating a purchase order line.\n\nTax can be specified either by:\n- tax_rate_id: Reference to a TaxRate record (preferred)\n- tax_rate: Direct percentage value (for backward compatibility)"},"PurchaseOrderLineResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"line_number":{"type":"integer","title":"Line Number"},"description":{"type":"string","title":"Description"},"item_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Item Code"},"quantity_ordered":{"type":"string","title":"Quantity Ordered"},"quantity_received":{"type":"string","title":"Quantity Received"},"unit_of_measure":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Unit Of Measure"},"unit_price":{"type":"string","title":"Unit Price"},"amount":{"type":"string","title":"Amount"},"expense_account_id":{"type":"string","format":"uuid","title":"Expense Account Id"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id"},"tax_rate":{"type":"string","title":"Tax Rate"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["id","line_number","description","item_code","quantity_ordered","quantity_received","unit_of_measure","unit_price","amount","expense_account_id","tax_rate_id","tax_rate","tax_amount"],"title":"PurchaseOrderLineResponse","description":"Schema for purchase order line response."},"PurchaseOrderReject":{"properties":{"reason":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Reason"}},"type":"object","title":"PurchaseOrderReject","description":"Schema for rejecting a submitted PO."},"PurchaseOrderResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"po_number":{"type":"string","title":"Po Number"},"order_date":{"type":"string","format":"date","title":"Order Date"},"expected_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Date"},"ship_to_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Name"},"ship_to_address_line1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Address Line1"},"ship_to_address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Address Line2"},"ship_to_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To City"},"ship_to_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To State"},"ship_to_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Country"},"ship_to_postal_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Postal Code"},"subtotal":{"type":"string","title":"Subtotal"},"tax_amount":{"type":"string","title":"Tax Amount"},"shipping_amount":{"type":"string","title":"Shipping Amount"},"total_amount":{"type":"string","title":"Total Amount"},"status":{"type":"string","title":"Status"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"},"submitted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Submitted At"},"submitted_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Submitted By"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"approved_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Approved By"},"closed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Closed At"},"lines":{"items":{"$ref":"#/components/schemas/PurchaseOrderLineResponse"},"type":"array","title":"Lines","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","vendor_id","po_number","order_date","expected_date","ship_to_name","ship_to_address_line1","ship_to_address_line2","ship_to_city","ship_to_state","ship_to_country","ship_to_postal_code","subtotal","tax_amount","shipping_amount","total_amount","status","notes","terms","submitted_at","submitted_by","approved_at","approved_by","closed_at","created_at","updated_at"],"title":"PurchaseOrderResponse","description":"Schema for purchase order response."},"PurchaseOrderUpdate":{"properties":{"expected_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expected Date"},"ship_to_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Name"},"ship_to_address_line1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Address Line1"},"ship_to_address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Address Line2"},"ship_to_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To City"},"ship_to_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To State"},"ship_to_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Country"},"ship_to_postal_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ship To Postal Code"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"}},"type":"object","title":"PurchaseOrderUpdate","description":"Schema for updating a draft purchase order.\n\nOnly draft POs can be updated."},"QBOAccountPreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks account ID"},"qbo_name":{"type":"string","title":"Qbo Name","description":"QuickBooks account name"},"qbo_type":{"type":"string","title":"Qbo Type","description":"QuickBooks account type"},"qbo_subtype":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Subtype","description":"QuickBooks account subtype"},"qbo_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Number","description":"QuickBooks account number (AcctNum)"},"qbo_parent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Parent Id","description":"QuickBooks parent account ID"},"qbo_active":{"type":"boolean","title":"Qbo Active","description":"Whether account is active in QuickBooks"},"atlas_type":{"type":"string","title":"Atlas Type","description":"Mapped Atlas account type"},"atlas_subtype":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Subtype","description":"Mapped Atlas account subtype"},"atlas_normal_balance":{"type":"string","title":"Atlas Normal Balance","description":"Mapped Atlas normal balance"},"atlas_number":{"type":"string","title":"Atlas Number","description":"Account number (from QBO or generated)"},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'duplicate_number', 'already_imported', or None"},"conflict_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Account Id","description":"ID of conflicting Atlas account"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import', 'skip', or 'rename'","default":"import"}},"type":"object","required":["qbo_id","qbo_name","qbo_type","qbo_active","atlas_type","atlas_normal_balance","atlas_number"],"title":"QBOAccountPreview","description":"Single QBO account with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information."},"QBOBankTransactionPreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks purchase/transaction ID"},"transaction_date":{"type":"string","format":"date","title":"Transaction Date","description":"Transaction date"},"post_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Post Date","description":"Post/settlement date if different"},"amount":{"type":"string","title":"Amount","description":"Transaction amount (positive=deposit, negative=withdrawal)"},"description":{"type":"string","title":"Description","description":"Transaction description"},"transaction_type":{"type":"string","title":"Transaction Type","description":"Type: check, deposit, transfer, ach, etc."},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number","description":"Check number or reference"},"payee":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payee","description":"Payee/entity name"},"memo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Memo","description":"Private note/memo"},"currency":{"type":"string","title":"Currency","description":"Currency code","default":"USD"},"qbo_bank_account_id":{"type":"string","title":"Qbo Bank Account Id","description":"QuickBooks bank account ID"},"qbo_bank_account_name":{"type":"string","title":"Qbo Bank Account Name","description":"QuickBooks bank account name"},"atlas_bank_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Bank Account Id","description":"Mapped Atlas bank account ID"},"bank_account_mapped":{"type":"boolean","title":"Bank Account Mapped","description":"Whether bank account is mapped in Atlas","default":false},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported' or None"},"conflict_transaction_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Transaction Id","description":"ID of conflicting Atlas bank transaction"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import' or 'skip'","default":"import"}},"type":"object","required":["qbo_id","transaction_date","amount","description","transaction_type","qbo_bank_account_id","qbo_bank_account_name"],"title":"QBOBankTransactionPreview","description":"Single QBO bank transaction with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information.\n\nAmount convention (matches Atlas BankTransaction):\n- Positive amount = deposit (money in)\n- Negative amount = withdrawal (money out)\n\nNote: QBO Purchase amounts are always positive. The service layer\nconverts based on PaymentType (Cash/Check = withdrawal = negative)."},"QBOBillPreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks bill ID"},"qbo_doc_number":{"type":"string","title":"Qbo Doc Number","description":"QuickBooks document/bill number"},"qbo_vendor_id":{"type":"string","title":"Qbo Vendor Id","description":"QuickBooks vendor ID"},"qbo_vendor_name":{"type":"string","title":"Qbo Vendor Name","description":"QuickBooks vendor name"},"bill_date":{"type":"string","format":"date","title":"Bill Date","description":"Bill date"},"due_date":{"type":"string","format":"date","title":"Due Date","description":"Due date"},"total_amount":{"type":"string","title":"Total Amount","description":"Total bill amount"},"balance":{"type":"string","title":"Balance","description":"Outstanding balance"},"currency":{"type":"string","title":"Currency","description":"Currency code","default":"USD"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Private note/memo"},"lines":{"items":{"$ref":"#/components/schemas/BillLinePreview"},"type":"array","title":"Lines","description":"Bill line items"},"atlas_vendor_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Vendor Id","description":"Mapped Atlas vendor ID"},"vendor_mapped":{"type":"boolean","title":"Vendor Mapped","description":"Whether vendor is mapped in Atlas","default":false},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported', 'duplicate_number', or None"},"conflict_bill_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Bill Id","description":"ID of conflicting Atlas bill"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import', 'skip', or 'merge'","default":"import"}},"type":"object","required":["qbo_id","qbo_doc_number","qbo_vendor_id","qbo_vendor_name","bill_date","due_date","total_amount","balance"],"title":"QBOBillPreview","description":"Single QBO bill with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information."},"QBOCustomerPreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks customer ID"},"qbo_display_name":{"type":"string","title":"Qbo Display Name","description":"QuickBooks display name"},"qbo_company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Company Name","description":"QuickBooks company name"},"qbo_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Email","description":"QuickBooks primary email"},"qbo_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Phone","description":"QuickBooks primary phone"},"qbo_balance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Balance","description":"QuickBooks balance"},"qbo_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Notes","description":"QuickBooks notes"},"qbo_active":{"type":"boolean","title":"Qbo Active","description":"Whether customer is active in QuickBooks"},"atlas_display_name":{"type":"string","title":"Atlas Display Name","description":"Mapped Atlas display name"},"atlas_customer_number":{"type":"string","title":"Atlas Customer Number","description":"Generated customer number"},"atlas_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Email","description":"Mapped email address"},"atlas_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Phone","description":"Mapped phone number"},"atlas_current_balance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Current Balance","description":"Mapped opening balance"},"atlas_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Notes","description":"Mapped notes"},"atlas_is_active":{"type":"boolean","title":"Atlas Is Active","description":"Mapped active status","default":true},"atlas_billing_address_line1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Address Line1","description":"Billing address line 1"},"atlas_billing_address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Address Line2","description":"Billing address line 2"},"atlas_billing_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing City","description":"Billing city"},"atlas_billing_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing State","description":"Billing state/province"},"atlas_billing_postal_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Postal Code","description":"Billing postal code"},"atlas_billing_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Country","description":"Billing country"},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported', 'duplicate_email', 'duplicate_name_phone', or None"},"conflict_customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Customer Id","description":"ID of conflicting Atlas customer"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import', 'skip', or 'merge'","default":"import"}},"type":"object","required":["qbo_id","qbo_display_name","qbo_active","atlas_display_name","atlas_customer_number"],"title":"QBOCustomerPreview","description":"Single QBO customer with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information."},"QBOInvoicePreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks invoice ID"},"qbo_doc_number":{"type":"string","title":"Qbo Doc Number","description":"QuickBooks document/invoice number"},"qbo_customer_id":{"type":"string","title":"Qbo Customer Id","description":"QuickBooks customer ID"},"qbo_customer_name":{"type":"string","title":"Qbo Customer Name","description":"QuickBooks customer name"},"invoice_date":{"type":"string","format":"date","title":"Invoice Date","description":"Invoice date"},"due_date":{"type":"string","format":"date","title":"Due Date","description":"Due date"},"total_amount":{"type":"string","title":"Total Amount","description":"Total invoice amount"},"balance":{"type":"string","title":"Balance","description":"Outstanding balance"},"currency":{"type":"string","title":"Currency","description":"Currency code","default":"USD"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Private note/memo"},"lines":{"items":{"$ref":"#/components/schemas/InvoiceLinePreview"},"type":"array","title":"Lines","description":"Invoice line items"},"atlas_customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Customer Id","description":"Mapped Atlas customer ID"},"customer_mapped":{"type":"boolean","title":"Customer Mapped","description":"Whether customer is mapped in Atlas","default":false},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported', 'duplicate_number', or None"},"conflict_invoice_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Invoice Id","description":"ID of conflicting Atlas invoice"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import', 'skip', or 'merge'","default":"import"}},"type":"object","required":["qbo_id","qbo_doc_number","qbo_customer_id","qbo_customer_name","invoice_date","due_date","total_amount","balance"],"title":"QBOInvoicePreview","description":"Single QBO invoice with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information."},"QBOPaymentMadePreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks bill payment ID"},"qbo_vendor_id":{"type":"string","title":"Qbo Vendor Id","description":"QuickBooks vendor ID"},"qbo_vendor_name":{"type":"string","title":"Qbo Vendor Name","description":"QuickBooks vendor name"},"payment_date":{"type":"string","format":"date","title":"Payment Date","description":"Payment date"},"total_amount":{"type":"string","title":"Total Amount","description":"Total payment amount"},"payment_ref_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Ref Number","description":"Check number or reference"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method","description":"Payment method"},"pay_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pay Type","description":"QBO PayType: 'Check' or 'CreditCard'"},"currency":{"type":"string","title":"Currency","description":"Currency code","default":"USD"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Private note/memo"},"qbo_payment_account_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Payment Account Id","description":"QuickBooks payment account ID"},"qbo_payment_account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Payment Account Name","description":"QuickBooks payment account name"},"lines":{"items":{"$ref":"#/components/schemas/BillPaymentLinePreview"},"type":"array","title":"Lines","description":"List of bills this payment applies to"},"atlas_vendor_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Vendor Id","description":"Mapped Atlas vendor ID"},"vendor_mapped":{"type":"boolean","title":"Vendor Mapped","description":"Whether vendor is mapped in Atlas","default":false},"atlas_payment_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Payment Account Id","description":"Mapped Atlas payment account ID"},"payment_account_mapped":{"type":"boolean","title":"Payment Account Mapped","description":"Whether payment account is mapped","default":false},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported' or None"},"conflict_payment_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Payment Id","description":"ID of conflicting Atlas payment"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import' or 'skip'","default":"import"}},"type":"object","required":["qbo_id","qbo_vendor_id","qbo_vendor_name","payment_date","total_amount"],"title":"QBOPaymentMadePreview","description":"Single QBO bill payment with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information.\n\nQBO BillPayment has two payment types:\n- Check: Uses CheckPayment.BankAccountRef\n- CreditCard: Uses CreditCardPayment.CCAccountRef"},"QBOPaymentReceivedPreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks payment ID"},"qbo_customer_id":{"type":"string","title":"Qbo Customer Id","description":"QuickBooks customer ID"},"qbo_customer_name":{"type":"string","title":"Qbo Customer Name","description":"QuickBooks customer name"},"payment_date":{"type":"string","format":"date","title":"Payment Date","description":"Payment date"},"total_amount":{"type":"string","title":"Total Amount","description":"Total payment amount"},"unapplied_amount":{"type":"string","title":"Unapplied Amount","description":"Amount not applied to invoices"},"payment_ref_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Ref Number","description":"Check number or reference"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method","description":"Payment method"},"currency":{"type":"string","title":"Currency","description":"Currency code","default":"USD"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Private note/memo"},"qbo_deposit_account_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Deposit Account Id","description":"QuickBooks deposit account ID"},"qbo_deposit_account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Deposit Account Name","description":"QuickBooks deposit account name"},"lines":{"items":{"$ref":"#/components/schemas/PaymentLinePreview"},"type":"array","title":"Lines","description":"List of invoices this payment applies to"},"atlas_customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Customer Id","description":"Mapped Atlas customer ID"},"customer_mapped":{"type":"boolean","title":"Customer Mapped","description":"Whether customer is mapped in Atlas","default":false},"atlas_deposit_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Atlas Deposit Account Id","description":"Mapped Atlas deposit account ID"},"deposit_account_mapped":{"type":"boolean","title":"Deposit Account Mapped","description":"Whether deposit account is mapped","default":false},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported' or None"},"conflict_payment_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Payment Id","description":"ID of conflicting Atlas payment"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import' or 'skip'","default":"import"}},"type":"object","required":["qbo_id","qbo_customer_id","qbo_customer_name","payment_date","total_amount","unapplied_amount"],"title":"QBOPaymentReceivedPreview","description":"Single QBO payment received with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information."},"QBOVendorPreview":{"properties":{"qbo_id":{"type":"string","title":"Qbo Id","description":"QuickBooks vendor ID"},"qbo_display_name":{"type":"string","title":"Qbo Display Name","description":"QuickBooks display name"},"qbo_company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Company Name","description":"QuickBooks company name"},"qbo_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Email","description":"QuickBooks primary email"},"qbo_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Phone","description":"QuickBooks primary phone"},"qbo_balance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Balance","description":"QuickBooks balance"},"qbo_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Notes","description":"QuickBooks notes"},"qbo_active":{"type":"boolean","title":"Qbo Active","description":"Whether vendor is active in QuickBooks"},"qbo_tax_identifier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qbo Tax Identifier","description":"QuickBooks tax identifier"},"qbo_vendor1099":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Qbo Vendor1099","description":"QuickBooks 1099 eligible flag"},"atlas_display_name":{"type":"string","title":"Atlas Display Name","description":"Mapped Atlas display name"},"atlas_vendor_number":{"type":"string","title":"Atlas Vendor Number","description":"Generated vendor number"},"atlas_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Email","description":"Mapped email address"},"atlas_phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Phone","description":"Mapped phone number"},"atlas_current_balance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Current Balance","description":"Mapped opening balance"},"atlas_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Notes","description":"Mapped notes"},"atlas_is_active":{"type":"boolean","title":"Atlas Is Active","description":"Mapped active status","default":true},"atlas_tax_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Tax Id","description":"Tax identifier (will be encrypted)"},"atlas_is_1099_eligible":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Atlas Is 1099 Eligible","description":"1099 eligibility flag"},"atlas_is_tax_reportable":{"type":"boolean","title":"Atlas Is Tax Reportable","description":"Whether vendor is tax reportable","default":true},"atlas_billing_address_line1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Address Line1","description":"Billing address line 1"},"atlas_billing_address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Address Line2","description":"Billing address line 2"},"atlas_billing_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing City","description":"Billing city"},"atlas_billing_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing State","description":"Billing state/province"},"atlas_billing_postal_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Postal Code","description":"Billing postal code"},"atlas_billing_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Atlas Billing Country","description":"Billing country"},"conflict_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conflict Type","description":"Type of conflict: 'already_imported', 'duplicate_email', 'duplicate_name_phone', or None"},"conflict_vendor_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Conflict Vendor Id","description":"ID of conflicting Atlas vendor"},"action":{"type":"string","title":"Action","description":"Suggested action: 'import', 'skip', or 'merge'","default":"import"}},"type":"object","required":["qbo_id","qbo_display_name","qbo_active","atlas_display_name","atlas_vendor_number"],"title":"QBOVendorPreview","description":"Single QBO vendor with mapping preview.\n\nContains both the original QuickBooks data and the mapped\nAtlas values, plus any conflict information."},"QuarterlyEstimateResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"quarter":{"type":"integer","title":"Quarter"},"estimated_income":{"type":"string","title":"Estimated Income"},"estimated_se_tax":{"type":"string","title":"Estimated Se Tax"},"estimated_income_tax":{"type":"string","title":"Estimated Income Tax"},"total_estimated_tax":{"type":"string","title":"Total Estimated Tax"},"due_date":{"type":"string","format":"date","title":"Due Date"},"amount_due":{"type":"string","title":"Amount Due"},"amount_paid":{"type":"string","title":"Amount Paid"},"status":{"$ref":"#/components/schemas/QuarterlyEstimateStatus"},"prior_year_tax":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prior Year Tax"},"safe_harbor_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Safe Harbor Amount"},"payment_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Payment Date"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"remaining_due":{"type":"string","title":"Remaining Due","description":"Calculate remaining balance due.","readOnly":true}},"type":"object","required":["id","tax_year_id","quarter","estimated_income","estimated_se_tax","estimated_income_tax","total_estimated_tax","due_date","amount_due","amount_paid","status","prior_year_tax","safe_harbor_amount","payment_date","payment_method","created_at","updated_at","remaining_due"],"title":"QuarterlyEstimateResponse","description":"Schema for quarterly estimate response."},"QuarterlyEstimateStatus":{"type":"string","enum":["pending","paid","overdue","waived"],"title":"QuarterlyEstimateStatus","description":"Status of a quarterly estimate."},"QuickBooksCallbackRequest":{"properties":{"code":{"type":"string","title":"Code","description":"Authorization code from QuickBooks callback"},"realm_id":{"type":"string","title":"Realm Id","description":"QuickBooks company ID (realmId) from callback"},"state":{"type":"string","title":"State","description":"State parameter for CSRF verification"},"redirect_uri":{"type":"string","title":"Redirect Uri","description":"Same redirect_uri used in authorization request"},"company_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Company Id","description":"Optional Atlas company ID to associate with this QuickBooks connection"}},"type":"object","required":["code","realm_id","state","redirect_uri"],"title":"QuickBooksCallbackRequest","description":"Request to complete QuickBooks OAuth2 flow after callback."},"QuickBooksConnectRequest":{"properties":{"redirect_uri":{"type":"string","title":"Redirect Uri","description":"Frontend callback URL after QuickBooks authorization","examples":["https://app.example.com/integrations/quickbooks/callback"]}},"type":"object","required":["redirect_uri"],"title":"QuickBooksConnectRequest","description":"Request to initiate QuickBooks OAuth2 connection."},"QuickBooksConnectResponse":{"properties":{"authorization_url":{"type":"string","title":"Authorization Url","description":"URL to redirect user to for QuickBooks authorization"},"state":{"type":"string","title":"State","description":"State parameter to store in frontend session for CSRF verification"}},"type":"object","required":["authorization_url","state"],"title":"QuickBooksConnectResponse","description":"Response after initiating QuickBooks OAuth2 flow."},"QuickBooksConnectionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id","description":"Connection ID"},"realm_id":{"type":"string","title":"Realm Id","description":"QuickBooks company ID"},"status":{"type":"string","title":"Status","description":"Connection status: active, expired, revoked, or error"},"connected_at":{"type":"string","format":"date-time","title":"Connected At","description":"When connection was established"},"last_sync_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Sync At","description":"Last successful data sync timestamp"},"expires_soon":{"type":"boolean","title":"Expires Soon","description":"True if access token expires within 10 minutes"}},"type":"object","required":["id","realm_id","status","connected_at","expires_soon"],"title":"QuickBooksConnectionResponse","description":"QuickBooks connection details (without sensitive tokens)."},"QuickBooksDisconnectResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether disconnection succeeded","default":true},"message":{"type":"string","title":"Message","description":"Status message","default":"QuickBooks disconnected successfully"}},"type":"object","title":"QuickBooksDisconnectResponse","description":"Response after disconnecting QuickBooks."},"QuickBooksRefreshResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether refresh succeeded","default":true},"connection":{"allOf":[{"$ref":"#/components/schemas/QuickBooksConnectionResponse"}],"description":"Updated connection details"}},"type":"object","required":["connection"],"title":"QuickBooksRefreshResponse","description":"Response after refreshing QuickBooks tokens."},"QuickBooksStatusResponse":{"properties":{"connected":{"type":"boolean","title":"Connected","description":"Whether organization has an active QuickBooks connection"},"connection":{"anyOf":[{"$ref":"#/components/schemas/QuickBooksConnectionResponse"},{"type":"null"}],"description":"Connection details if connected"}},"type":"object","required":["connected"],"title":"QuickBooksStatusResponse","description":"QuickBooks connection status for an organization."},"ReceiveGoodsRequest":{"properties":{"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity","description":"Quantity to receive"},"unit_cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Unit Cost","description":"Cost per unit"},"receipt_date":{"type":"string","format":"date","title":"Receipt Date","description":"Date of receipt"},"receipt_reference":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Receipt Reference","description":"Reference (e.g., PO#)"},"batch_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Batch Number","description":"Batch/lot number"},"purchase_order_line_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Purchase Order Line Id","description":"Link to PO line if from purchase order"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"}},"type":"object","required":["quantity","unit_cost","receipt_date"],"title":"ReceiveGoodsRequest","description":"Schema for receiving goods into inventory."},"ReceiveItemsRequest":{"properties":{"receipts":{"items":{"$ref":"#/components/schemas/ReceiveLineItem"},"type":"array","minItems":1,"title":"Receipts"}},"type":"object","required":["receipts"],"title":"ReceiveItemsRequest","description":"Schema for receiving items against a PO."},"ReceiveLineItem":{"properties":{"line_id":{"type":"string","format":"uuid","title":"Line Id"},"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity"}},"type":"object","required":["line_id","quantity"],"title":"ReceiveLineItem","description":"Schema for receiving a single line item."},"ReconciliationCreate":{"properties":{"bank_account_id":{"type":"string","format":"uuid","title":"Bank Account Id"},"statement_date":{"type":"string","format":"date","title":"Statement Date"},"statement_ending_balance":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Statement Ending Balance"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["bank_account_id","statement_date","statement_ending_balance"],"title":"ReconciliationCreate","description":"Schema for starting a reconciliation."},"ReconciliationDetailResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"bank_account_id":{"type":"string","format":"uuid","title":"Bank Account Id"},"statement_date":{"type":"string","format":"date","title":"Statement Date"},"statement_ending_balance":{"type":"string","title":"Statement Ending Balance"},"beginning_balance":{"type":"string","title":"Beginning Balance"},"cleared_deposits":{"type":"string","title":"Cleared Deposits"},"cleared_withdrawals":{"type":"string","title":"Cleared Withdrawals"},"reconciled_balance":{"type":"string","title":"Reconciled Balance"},"difference":{"type":"string","title":"Difference"},"status":{"type":"string","title":"Status"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"completed_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Completed By"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"is_balanced":{"type":"boolean","title":"Is Balanced"},"can_complete":{"type":"boolean","title":"Can Complete"},"cleared_transactions":{"items":{"$ref":"#/components/schemas/BankTransactionResponse"},"type":"array","title":"Cleared Transactions"},"pending_transactions":{"items":{"$ref":"#/components/schemas/BankTransactionResponse"},"type":"array","title":"Pending Transactions"}},"type":"object","required":["id","bank_account_id","statement_date","statement_ending_balance","beginning_balance","cleared_deposits","cleared_withdrawals","reconciled_balance","difference","status","completed_at","completed_by","notes","is_balanced","can_complete"],"title":"ReconciliationDetailResponse","description":"Schema for reconciliation detail with transactions."},"ReconciliationResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"bank_account_id":{"type":"string","format":"uuid","title":"Bank Account Id"},"statement_date":{"type":"string","format":"date","title":"Statement Date"},"statement_ending_balance":{"type":"string","title":"Statement Ending Balance"},"beginning_balance":{"type":"string","title":"Beginning Balance"},"cleared_deposits":{"type":"string","title":"Cleared Deposits"},"cleared_withdrawals":{"type":"string","title":"Cleared Withdrawals"},"reconciled_balance":{"type":"string","title":"Reconciled Balance"},"difference":{"type":"string","title":"Difference"},"status":{"type":"string","title":"Status"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"completed_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Completed By"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"is_balanced":{"type":"boolean","title":"Is Balanced"},"can_complete":{"type":"boolean","title":"Can Complete"}},"type":"object","required":["id","bank_account_id","statement_date","statement_ending_balance","beginning_balance","cleared_deposits","cleared_withdrawals","reconciled_balance","difference","status","completed_at","completed_by","notes","is_balanced","can_complete"],"title":"ReconciliationResponse","description":"Schema for reconciliation response."},"RecordPaymentRequest":{"properties":{"amount":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Amount"},"payment_date":{"type":"string","format":"date","title":"Payment Date"},"payment_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Method"}},"type":"object","required":["amount","payment_date"],"title":"RecordPaymentRequest","description":"Request for recording a payment."},"RecurringInvoiceCreate":{"properties":{"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"template_name":{"type":"string","maxLength":200,"minLength":1,"title":"Template Name"},"recurrence_pattern":{"type":"string","enum":["daily","weekly","monthly","quarterly","yearly"],"title":"Recurrence Pattern"},"recurrence_interval":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Recurrence Interval","default":1},"recurrence_day":{"anyOf":[{"type":"integer","maximum":31.0,"minimum":1.0},{"type":"null"}],"title":"Recurrence Day","description":"Day of month (1-31) for monthly, or day of week (1-7) for weekly"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date","description":"Optional end date for the recurring schedule"},"payment_terms_days":{"type":"integer","maximum":365.0,"minimum":0.0,"title":"Payment Terms Days","description":"Days until invoice is due","default":30},"lines":{"items":{"$ref":"#/components/schemas/RecurringInvoiceLineCreate"},"type":"array","minItems":1,"title":"Lines"},"notes":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Terms"},"auto_send":{"type":"boolean","title":"Auto Send","description":"Automatically send generated invoices","default":false}},"type":"object","required":["customer_id","template_name","recurrence_pattern","start_date","lines"],"title":"RecurringInvoiceCreate","description":"Schema for creating a recurring invoice template."},"RecurringInvoiceLineCreate":{"properties":{"description":{"type":"string","minLength":1,"title":"Description"},"quantity":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Quantity","default":"1"},"unit_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Unit Price"},"revenue_account_id":{"type":"string","format":"uuid","title":"Revenue Account Id"},"tax_rate":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Tax Rate","default":"0"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id","description":"Reference to TaxRate record"}},"type":"object","required":["description","unit_price","revenue_account_id"],"title":"RecurringInvoiceLineCreate","description":"Schema for creating a recurring invoice line.\n\nTax can be specified either by:\n- tax_rate_id: Reference to a TaxRate record (preferred)\n- tax_rate: Direct percentage value (for backward compatibility)"},"RecurringInvoiceLineResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"line_number":{"type":"integer","title":"Line Number"},"description":{"type":"string","title":"Description"},"quantity":{"type":"string","title":"Quantity"},"unit_price":{"type":"string","title":"Unit Price"},"amount":{"type":"string","title":"Amount"},"revenue_account_id":{"type":"string","format":"uuid","title":"Revenue Account Id"},"tax_rate_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Rate Id"},"tax_rate":{"type":"string","title":"Tax Rate"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["id","line_number","description","quantity","unit_price","amount","revenue_account_id","tax_rate_id","tax_rate","tax_amount"],"title":"RecurringInvoiceLineResponse","description":"Schema for recurring invoice line response."},"RecurringInvoiceResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"template_name":{"type":"string","title":"Template Name"},"recurrence_pattern":{"type":"string","title":"Recurrence Pattern"},"recurrence_interval":{"type":"integer","title":"Recurrence Interval"},"recurrence_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recurrence Day"},"start_date":{"type":"string","format":"date","title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"},"next_generation_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Next Generation Date"},"last_generated_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Last Generated Date"},"payment_terms_days":{"type":"integer","title":"Payment Terms Days"},"subtotal":{"type":"string","title":"Subtotal"},"tax_amount":{"type":"string","title":"Tax Amount"},"total_amount":{"type":"string","title":"Total Amount"},"status":{"type":"string","title":"Status"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Terms"},"invoices_generated":{"type":"integer","title":"Invoices Generated"},"auto_send":{"type":"boolean","title":"Auto Send"},"lines":{"items":{"$ref":"#/components/schemas/RecurringInvoiceLineResponse"},"type":"array","title":"Lines","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","customer_id","template_name","recurrence_pattern","recurrence_interval","recurrence_day","start_date","end_date","next_generation_date","last_generated_date","payment_terms_days","subtotal","tax_amount","total_amount","status","notes","terms","invoices_generated","auto_send","created_at","updated_at"],"title":"RecurringInvoiceResponse","description":"Schema for recurring invoice response."},"RecurringInvoiceSummary":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"template_name":{"type":"string","title":"Template Name"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"customer_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customer Name"},"recurrence_pattern":{"type":"string","title":"Recurrence Pattern"},"recurrence_interval":{"type":"integer","title":"Recurrence Interval"},"next_generation_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Next Generation Date"},"total_amount":{"type":"string","title":"Total Amount"},"status":{"type":"string","title":"Status"},"invoices_generated":{"type":"integer","title":"Invoices Generated"}},"type":"object","required":["id","template_name","customer_id","recurrence_pattern","recurrence_interval","next_generation_date","total_amount","status","invoices_generated"],"title":"RecurringInvoiceSummary","description":"Lightweight recurring invoice summary for list views."},"RecurringInvoiceUpdate":{"properties":{"template_name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Template Name"},"recurrence_pattern":{"anyOf":[{"type":"string","enum":["daily","weekly","monthly","quarterly","yearly"]},{"type":"null"}],"title":"Recurrence Pattern"},"recurrence_interval":{"anyOf":[{"type":"integer","maximum":365.0,"minimum":1.0},{"type":"null"}],"title":"Recurrence Interval"},"recurrence_day":{"anyOf":[{"type":"integer","maximum":31.0,"minimum":1.0},{"type":"null"}],"title":"Recurrence Day"},"start_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"End Date"},"payment_terms_days":{"anyOf":[{"type":"integer","maximum":365.0,"minimum":0.0},{"type":"null"}],"title":"Payment Terms Days"},"lines":{"anyOf":[{"items":{"$ref":"#/components/schemas/RecurringInvoiceLineCreate"},"type":"array"},{"type":"null"}],"title":"Lines"},"notes":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Notes"},"terms":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Terms"},"auto_send":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Auto Send"}},"type":"object","title":"RecurringInvoiceUpdate","description":"Schema for updating a draft recurring invoice."},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Refresh token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request schema."},"RefreshTokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"}},"type":"object","required":["access_token","expires_in"],"title":"RefreshTokenResponse","description":"Refresh token response."},"ReviewQueueItem":{"properties":{"transaction_id":{"type":"string","format":"uuid","title":"Transaction Id"},"transaction_date":{"type":"string","title":"Transaction Date"},"description":{"type":"string","title":"Description"},"amount":{"type":"string","title":"Amount"},"vendor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vendor"},"suggested_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Suggested Account Id"},"suggested_account_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggested Account Name"},"confidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Confidence"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method"}},"type":"object","required":["transaction_id","transaction_date","description","amount","vendor","suggested_account_id","suggested_account_name","confidence","method"],"title":"ReviewQueueItem","description":"Item in the review queue with transaction and classification details."},"RuleApprovalRequest":{"properties":{"vendor":{"type":"string","minLength":1,"title":"Vendor","description":"Vendor name for the rule"},"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Account to map the vendor to"}},"type":"object","required":["vendor","account_id"],"title":"RuleApprovalRequest","description":"Request to approve a rule suggestion.\n\nCreates a categorization rule from a suggestion."},"RuleApprovalResponse":{"properties":{"rule_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Rule Id","description":"UUID of created/updated rule, or None if skipped"},"action":{"type":"string","title":"Action","description":"Action taken: 'created', 'updated', or 'skipped'"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason","description":"Explanation for skipped/updated actions"}},"type":"object","required":["action"],"title":"RuleApprovalResponse","description":"Response from approving a rule suggestion.\n\nIndicates the action taken (created, updated, or skipped)."},"RuleSuggestionResponse":{"properties":{"vendor":{"type":"string","title":"Vendor","description":"Normalized vendor name"},"account_id":{"type":"string","format":"uuid","title":"Account Id","description":"Suggested account to map to"},"account_name":{"type":"string","title":"Account Name","description":"Human-readable account name"},"correction_count":{"type":"integer","minimum":0.0,"title":"Correction Count","description":"Number of times this correction was made"},"consistency":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Consistency","description":"Consistency ratio (0.0-1.0)"},"sample_transaction_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Sample Transaction Ids","description":"Sample transaction IDs for review"}},"type":"object","required":["vendor","account_id","account_name","correction_count","consistency"],"title":"RuleSuggestionResponse","description":"A suggested rule based on correction patterns.\n\nReturned when the system detects consistent corrections\nthat could become automatic rules."},"ScheduleCLineItem":{"type":"string","enum":["line_8_advertising","line_9_car_truck","line_10_commissions_fees","line_11_contract_labor","line_12_depletion","line_13_depreciation","line_14_employee_benefits","line_15_insurance","line_16a_interest_mortgage","line_16b_interest_other","line_17_legal_professional","line_18_office_expense","line_19_pension","line_20a_rent_equipment","line_20b_rent_property","line_21_repairs","line_22_supplies","line_23_taxes_licenses","line_24a_travel","line_24b_meals","line_25_utilities","line_26_wages","line_27_other"],"title":"ScheduleCLineItem","description":"IRS Schedule C line items for business expenses.\n\nPart II - Expenses (Lines 8-27)\nReference: IRS Schedule C (Form 1040)"},"ScheduleCMappingUpdate":{"properties":{"line_item":{"anyOf":[{"$ref":"#/components/schemas/ScheduleCLineItem"},{"type":"null"}]},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"ScheduleCMappingUpdate","description":"Schema for updating a Schedule C mapping.\n\nAll fields optional for partial updates."},"SetupCOARequest":{"properties":{"template_name":{"type":"string","pattern":"^(us_gaap|ifrs|uk_gaap)$","title":"Template Name","default":"us_gaap","examples":["us_gaap"]},"industry":{"type":"string","pattern":"^(general|retail|services|manufacturing)$","title":"Industry","default":"general","examples":["general"]}},"type":"object","title":"SetupCOARequest","description":"Schema for initializing Chart of Accounts from template."},"SignupRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"User email address"},"password":{"type":"string","maxLength":100,"minLength":8,"title":"Password","description":"User password"},"first_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"First Name","description":"First name"},"last_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Last Name","description":"Last name"},"organization_name":{"type":"string","maxLength":200,"minLength":1,"title":"Organization Name","description":"Organization name"}},"type":"object","required":["email","password","organization_name"],"title":"SignupRequest","description":"Signup request schema."},"SignupResponse":{"properties":{"user":{"$ref":"#/components/schemas/UserResponse"},"organization":{"$ref":"#/components/schemas/OrganizationSummary"},"tokens":{"$ref":"#/components/schemas/TokenResponse"},"message":{"type":"string","title":"Message","default":"Account created successfully. Please verify your email."}},"type":"object","required":["user","organization","tokens"],"title":"SignupResponse","description":"Signup response with user, organization, and tokens."},"StateSalesTaxReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company Name"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"jurisdiction":{"type":"string","title":"Jurisdiction","default":"US"},"states":{"items":{"$ref":"#/components/schemas/StateTaxSummary"},"type":"array","title":"States"},"total_taxable_sales":{"type":"string","title":"Total Taxable Sales"},"total_exempt_sales":{"type":"string","title":"Total Exempt Sales"},"total_tax_collected":{"type":"string","title":"Total Tax Collected"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"}},"type":"object","required":["company_id","period_start","period_end","total_taxable_sales","total_exempt_sales","total_tax_collected","generated_at"],"title":"StateSalesTaxReport","description":"Complete state-by-state sales tax report."},"StateTaxSummary":{"properties":{"state_code":{"type":"string","maxLength":2,"minLength":2,"title":"State Code","description":"2-letter state code"},"state_name":{"type":"string","title":"State Name"},"taxable_sales":{"type":"string","title":"Taxable Sales"},"exempt_sales":{"type":"string","title":"Exempt Sales"},"tax_collected":{"type":"string","title":"Tax Collected"},"tax_rates_applied":{"items":{"anyOf":[{"$ref":"#/components/schemas/TaxRateBreakdown"},{"type":"object"}]},"type":"array","title":"Tax Rates Applied"}},"type":"object","required":["state_code","state_name","taxable_sales","exempt_sales","tax_collected"],"title":"StateTaxSummary","description":"Sales tax summary for a single US state."},"StatementImportResponse":{"properties":{"imported_count":{"type":"integer","title":"Imported Count"},"duplicate_count":{"type":"integer","title":"Duplicate Count"},"total_parsed":{"type":"integer","title":"Total Parsed"},"import_batch_id":{"type":"string","format":"uuid","title":"Import Batch Id"}},"type":"object","required":["imported_count","duplicate_count","total_parsed","import_batch_id"],"title":"StatementImportResponse","description":"Response schema for statement import."},"SubscribeRequest":{"properties":{"plan_tier":{"type":"string","enum":["starter","professional","enterprise"],"title":"Plan Tier","description":"The plan tier to subscribe to"}},"type":"object","required":["plan_tier"],"title":"SubscribeRequest","description":"Request to subscribe to a plan."},"SubscriptionPlanResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name","description":"Plan display name (e.g., 'Starter')"},"tier":{"type":"string","title":"Tier","description":"Plan tier identifier"},"price_monthly":{"type":"string","title":"Price Monthly","description":"Monthly price in USD"},"max_users":{"type":"integer","title":"Max Users","description":"Maximum users (-1 for unlimited)"},"max_companies":{"type":"integer","title":"Max Companies","description":"Maximum companies"},"max_transactions_per_month":{"type":"integer","title":"Max Transactions Per Month","description":"Monthly transaction limit (-1 for unlimited)"},"features":{"type":"object","title":"Features","description":"Feature flags"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether plan is available for new subscriptions"}},"type":"object","required":["id","name","tier","price_monthly","max_users","max_companies","max_transactions_per_month","is_active"],"title":"SubscriptionPlanResponse","description":"Subscription plan details."},"SubscriptionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"plan_id":{"type":"string","format":"uuid","title":"Plan Id"},"stripe_subscription_id":{"type":"string","title":"Stripe Subscription Id"},"status":{"type":"string","title":"Status","description":"active|past_due|canceled|trialing|incomplete"},"current_period_start":{"type":"string","format":"date-time","title":"Current Period Start"},"current_period_end":{"type":"string","format":"date-time","title":"Current Period End"},"cancel_at_period_end":{"type":"boolean","title":"Cancel At Period End","description":"If True, subscription ends at period end"},"canceled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Canceled At","description":"When cancellation was requested"},"trial_start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Trial Start","description":"Trial period start"},"trial_end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Trial End","description":"Trial period end"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"plan":{"anyOf":[{"$ref":"#/components/schemas/SubscriptionPlanResponse"},{"type":"null"}]}},"type":"object","required":["id","org_id","plan_id","stripe_subscription_id","status","current_period_start","current_period_end","cancel_at_period_end","canceled_at","trial_start","trial_end","created_at","updated_at"],"title":"SubscriptionResponse","description":"Current subscription details."},"SwitchOrganizationRequest":{"properties":{"org_id":{"type":"string","format":"uuid","title":"Org Id","description":"Organization ID to switch to"}},"type":"object","required":["org_id"],"title":"SwitchOrganizationRequest","description":"Switch organization request schema."},"SwitchOrganizationResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"organization":{"$ref":"#/components/schemas/OrganizationSummary"}},"type":"object","required":["access_token","expires_in","organization"],"title":"SwitchOrganizationResponse","description":"Switch organization response."},"TaskType":{"type":"string","enum":["categorization","reconciliation","review","reporting","consultation","other"],"title":"TaskType","description":"Type of task for time tracking entries.\n\nUsed to categorize billable work for reporting and invoicing."},"TaxBreakdownItem":{"properties":{"tax_rate_id":{"type":"string","format":"uuid","title":"Tax Rate Id"},"tax_rate_code":{"type":"string","title":"Tax Rate Code"},"tax_rate_name":{"type":"string","title":"Tax Rate Name"},"rate":{"type":"string","title":"Rate"},"taxable_amount":{"type":"string","title":"Taxable Amount"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["tax_rate_id","tax_rate_code","tax_rate_name","rate","taxable_amount","tax_amount"],"title":"TaxBreakdownItem","description":"Single tax rate contribution to total tax."},"TaxCalculationRequest":{"properties":{"amount":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Amount"},"tax_rate_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Tax Rate Ids"}},"type":"object","required":["amount","tax_rate_ids"],"title":"TaxCalculationRequest","description":"Request model for tax calculation."},"TaxCalculationResult":{"properties":{"base_amount":{"type":"string","title":"Base Amount","description":"Amount before tax"},"total_tax":{"type":"string","title":"Total Tax","description":"Total tax amount"},"total_amount":{"type":"string","title":"Total Amount","description":"Amount after tax (base + tax)"},"breakdown":{"items":{"$ref":"#/components/schemas/TaxBreakdownItem"},"type":"array","title":"Breakdown","description":"Tax breakdown by rate"}},"type":"object","required":["base_amount","total_tax","total_amount","breakdown"],"title":"TaxCalculationResult","description":"Schema for tax calculation result."},"TaxIdTypeEnum":{"type":"string","enum":["ssn","ein","itin","utr","ni","vat","abn","tfn","bn","sin","ird","other"],"title":"TaxIdTypeEnum","description":"Types of tax identification numbers across jurisdictions."},"TaxJurisdiction":{"type":"string","enum":["US","UK","EU","AU","CA","NZ","OTHER"],"title":"TaxJurisdiction","description":"Supported tax jurisdictions."},"TaxRateBreakdown":{"properties":{"rate_code":{"type":"string","title":"Rate Code"},"rate_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rate Name"},"rate":{"type":"string","title":"Rate"},"taxable_amount":{"type":"string","title":"Taxable Amount"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["rate_code","rate","taxable_amount","tax_amount"],"title":"TaxRateBreakdown","description":"Breakdown of a single tax rate's contribution."},"TaxRateCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Tax rate name (e.g., 'Sales Tax', 'VAT Standard')"},"code":{"type":"string","maxLength":20,"minLength":1,"title":"Code","description":"Unique code for this tax rate (e.g., 'VAT20', 'ST-CA')"},"rate":{"anyOf":[{"type":"number","exclusiveMaximum":100.0,"minimum":0.0},{"type":"string"}],"title":"Rate","description":"Tax rate percentage (e.g., 8.25 for 8.25%)"},"tax_type":{"type":"string","enum":["sales_tax","vat","gst","hst","pst","other"],"title":"Tax Type","description":"Type of tax"},"company_id":{"type":"string","format":"uuid","title":"Company Id","description":"Company ID for this tax rate"},"is_compound":{"type":"boolean","title":"Is Compound","description":"If True, this tax is applied after other taxes","default":false},"is_recoverable":{"type":"boolean","title":"Is Recoverable","description":"If True, this tax can be claimed as input credit","default":true},"country":{"anyOf":[{"type":"string","maxLength":2,"minLength":2},{"type":"null"}],"title":"Country","description":"ISO 3166-1 alpha-2 country code"},"region":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Region","description":"State or province name"},"tax_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Account Id","description":"GL account for tax liability tracking"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Additional description or notes"}},"type":"object","required":["name","code","rate","tax_type","company_id"],"title":"TaxRateCreate","description":"Schema for creating a new tax rate."},"TaxRateResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Tax rate name (e.g., 'Sales Tax', 'VAT Standard')"},"code":{"type":"string","maxLength":20,"minLength":1,"title":"Code","description":"Unique code for this tax rate (e.g., 'VAT20', 'ST-CA')"},"rate":{"type":"string","title":"Rate","description":"Tax rate percentage (e.g., 8.25 for 8.25%)"},"tax_type":{"type":"string","enum":["sales_tax","vat","gst","hst","pst","other"],"title":"Tax Type","description":"Type of tax"},"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"is_compound":{"type":"boolean","title":"Is Compound"},"is_recoverable":{"type":"boolean","title":"Is Recoverable"},"is_active":{"type":"boolean","title":"Is Active"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"region":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Region"},"tax_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Account Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","code","rate","tax_type","id","company_id","is_compound","is_recoverable","is_active","country","region","tax_account_id","description","created_at","updated_at"],"title":"TaxRateResponse","description":"Schema for tax rate API responses."},"TaxRateUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name"},"rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Rate"},"tax_type":{"anyOf":[{"type":"string","enum":["sales_tax","vat","gst","hst","pst","other"]},{"type":"null"}],"title":"Tax Type"},"is_compound":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Compound"},"is_recoverable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Recoverable"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"country":{"anyOf":[{"type":"string","maxLength":2,"minLength":2},{"type":"null"}],"title":"Country"},"region":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Region"},"tax_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Tax Account Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"TaxRateUpdate","description":"Schema for updating a tax rate."},"TaxReportLineItem":{"properties":{"tax_rate_id":{"type":"string","format":"uuid","title":"Tax Rate Id"},"tax_rate_name":{"type":"string","title":"Tax Rate Name"},"tax_rate_code":{"type":"string","title":"Tax Rate Code"},"tax_type":{"type":"string","title":"Tax Type"},"taxable_amount":{"type":"string","title":"Taxable Amount","default":"0"},"tax_collected":{"type":"string","title":"Tax Collected","description":"Output tax (sales)","default":"0"},"tax_paid":{"type":"string","title":"Tax Paid","description":"Input tax (purchases)","default":"0"},"net_tax":{"type":"string","title":"Net Tax","description":"collected - paid","default":"0"}},"type":"object","required":["tax_rate_id","tax_rate_name","tax_rate_code","tax_type"],"title":"TaxReportLineItem","description":"Individual tax rate breakdown in tax report."},"TaxReportSummary":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"generated_at":{"type":"string","title":"Generated At","description":"ISO 8601 timestamp"},"items":{"items":{"$ref":"#/components/schemas/TaxReportLineItem"},"type":"array","title":"Items"},"total_taxable_sales":{"type":"string","title":"Total Taxable Sales","default":"0"},"total_tax_collected":{"type":"string","title":"Total Tax Collected","default":"0"},"total_taxable_purchases":{"type":"string","title":"Total Taxable Purchases","default":"0"},"total_tax_paid":{"type":"string","title":"Total Tax Paid","default":"0"},"net_tax_liability":{"type":"string","title":"Net Tax Liability","description":"Positive = tax owed, Negative = refund due","default":"0"}},"type":"object","required":["company_id","period_start","period_end","generated_at"],"title":"TaxReportSummary","description":"Tax summary report grouped by tax rate."},"TaxTransaction":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"transaction_type":{"type":"string","title":"Transaction Type","description":"'invoice' or 'bill'"},"transaction_date":{"type":"string","format":"date","title":"Transaction Date"},"transaction_number":{"type":"string","title":"Transaction Number"},"counterparty_name":{"type":"string","title":"Counterparty Name","description":"Customer or Vendor name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tax_rate_id":{"type":"string","format":"uuid","title":"Tax Rate Id"},"tax_rate_name":{"type":"string","title":"Tax Rate Name"},"tax_rate_code":{"type":"string","title":"Tax Rate Code"},"taxable_amount":{"type":"string","title":"Taxable Amount"},"tax_amount":{"type":"string","title":"Tax Amount"}},"type":"object","required":["id","transaction_type","transaction_date","transaction_number","counterparty_name","tax_rate_id","tax_rate_name","tax_rate_code","taxable_amount","tax_amount"],"title":"TaxTransaction","description":"Individual tax transaction for detailed listing."},"TaxYearCreateRequest":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"year":{"type":"integer","title":"Year"},"threshold_override":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Threshold Override"}},"type":"object","required":["company_id","year"],"title":"TaxYearCreateRequest","description":"Request model for creating a tax year."},"TaxYearResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"year":{"type":"integer","title":"Year"},"jurisdiction":{"$ref":"#/components/schemas/TaxJurisdiction"},"status":{"$ref":"#/components/schemas/TaxYearStatus"},"threshold_override":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Threshold Override"},"filing_deadline":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Filing Deadline"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"effective_threshold":{"type":"string","title":"Effective Threshold","description":"Actual threshold (override or jurisdiction default)"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"string","format":"date"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"string","format":"date"}],"title":"Updated At"}},"type":"object","required":["id","company_id","year","jurisdiction","status","threshold_override","filing_deadline","notes","effective_threshold","created_at","updated_at"],"title":"TaxYearResponse","description":"Schema for tax year in API responses."},"TaxYearStatus":{"type":"string","enum":["draft","in_progress","filed","amended"],"title":"TaxYearStatus","description":"Status of a tax year's filing process."},"TaxYearUpdate":{"properties":{"status":{"anyOf":[{"$ref":"#/components/schemas/TaxYearStatus"},{"type":"null"}],"description":"New status"},"threshold_override":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Threshold Override","description":"Custom threshold"},"filing_deadline":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Filing Deadline","description":"Filing deadline"},"notes":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Notes","description":"Notes"}},"type":"object","title":"TaxYearUpdate","description":"Schema for updating a tax year.\n\nAll fields are optional. Only provided fields will be updated."},"ThresholdResponse":{"properties":{"tax_year_id":{"type":"string","format":"uuid","title":"Tax Year Id"},"year":{"type":"integer","title":"Year"},"threshold":{"type":"string","title":"Threshold"},"is_override":{"type":"boolean","title":"Is Override"}},"type":"object","required":["tax_year_id","year","threshold","is_override"],"title":"ThresholdResponse","description":"Response model for effective threshold."},"TimeEntrySummary":{"properties":{"client_org_id":{"type":"string","format":"uuid","title":"Client Org Id"},"client_org_name":{"type":"string","title":"Client Org Name"},"total_minutes":{"type":"integer","minimum":0.0,"title":"Total Minutes"},"total_billable_minutes":{"type":"integer","minimum":0.0,"title":"Total Billable Minutes"},"total_amount":{"type":"string","title":"Total Amount"},"entry_count":{"type":"integer","minimum":0.0,"title":"Entry Count"}},"type":"object","required":["client_org_id","client_org_name","total_minutes","total_billable_minutes","total_amount","entry_count"],"title":"TimeEntrySummary","description":"Aggregated time summary by client."},"TimeEntryUpdate":{"properties":{"entry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Entry Date"},"hours":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Hours"},"hourly_rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Hourly Rate"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"task":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Task"},"is_billable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Billable"}},"type":"object","title":"TimeEntryUpdate","description":"Schema for updating a time entry."},"TimerStartRequest":{"properties":{"client_org_id":{"type":"string","format":"uuid","title":"Client Org Id"},"task_type":{"$ref":"#/components/schemas/TaskType"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["client_org_id","task_type"],"title":"TimerStartRequest","description":"Request to start a timer for time tracking."},"TimerStopRequest":{"properties":{"entry_id":{"type":"string","format":"uuid","title":"Entry Id"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["entry_id"],"title":"TimerStopRequest","description":"Request to stop an active timer."},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"JWT access token"},"refresh_token":{"type":"string","title":"Refresh Token","description":"JWT refresh token"},"token_type":{"type":"string","title":"Token Type","description":"Token type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In","description":"Token expiration in seconds"}},"type":"object","required":["access_token","refresh_token","expires_in"],"title":"TokenResponse","description":"Token response schema."},"TrialBalanceReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"company_name":{"type":"string","title":"Company Name"},"as_of_date":{"type":"string","format":"date","title":"As Of Date"},"generated_at":{"type":"string","title":"Generated At","description":"ISO 8601 timestamp"},"rows":{"items":{"$ref":"#/components/schemas/TrialBalanceRow"},"type":"array","title":"Rows"},"total_debits":{"type":"string","title":"Total Debits"},"total_credits":{"type":"string","title":"Total Credits"},"is_balanced":{"type":"boolean","title":"Is Balanced","description":"True if total debits equal total credits"}},"type":"object","required":["company_id","company_name","as_of_date","generated_at","rows","total_debits","total_credits","is_balanced"],"title":"TrialBalanceReport","description":"Complete trial balance report with metadata."},"TrialBalanceRow":{"properties":{"account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Account Id"},"account_number":{"type":"string","title":"Account Number"},"account_name":{"type":"string","title":"Account Name"},"account_type":{"type":"string","title":"Account Type"},"debit":{"type":"string","title":"Debit"},"credit":{"type":"string","title":"Credit"}},"type":"object","required":["account_id","account_number","account_name","account_type","debit","credit"],"title":"TrialBalanceRow","description":"Schema for trial balance row."},"UKVATReturnData":{"properties":{"box_1":{"type":"string","title":"Box 1","description":"VAT due on sales and outputs"},"box_2":{"type":"string","title":"Box 2","description":"VAT due on EU acquisitions"},"box_3":{"type":"string","title":"Box 3","description":"Total VAT due (Box 1 + Box 2)"},"box_4":{"type":"string","title":"Box 4","description":"VAT reclaimed on purchases"},"box_5":{"type":"string","title":"Box 5","description":"Net VAT (Box 3 - Box 4)"},"box_6":{"type":"string","title":"Box 6","description":"Total sales excluding VAT"},"box_7":{"type":"string","title":"Box 7","description":"Total purchases excluding VAT"},"box_8":{"type":"string","title":"Box 8","description":"Total supplies to EU excluding VAT"},"box_9":{"type":"string","title":"Box 9","description":"Total acquisitions from EU excluding VAT"},"period_start":{"type":"string","format":"date","title":"Period Start","description":"Start of VAT period"},"period_end":{"type":"string","format":"date","title":"Period End","description":"End of VAT period"},"due_date":{"type":"string","format":"date","title":"Due Date","description":"Filing due date"},"finalised":{"type":"boolean","title":"Finalised","description":"Whether the return is finalised","default":true}},"type":"object","required":["box_1","box_2","box_3","box_4","box_5","box_6","box_7","box_8","box_9","period_start","period_end","due_date"],"title":"UKVATReturnData","description":"HMRC MTD VAT Return data structure (9 boxes).\n\nThe 9 boxes are defined by HMRC for VAT returns:\n- Box 1: VAT due on sales and outputs\n- Box 2: VAT due on acquisitions from EU member states\n- Box 3: Total VAT due (Box 1 + Box 2)\n- Box 4: VAT reclaimed on purchases and inputs\n- Box 5: Net VAT to pay or be refunded (Box 3 - Box 4)\n- Box 6: Total value of sales excluding VAT\n- Box 7: Total value of purchases excluding VAT\n- Box 8: Total value of supplies to EU member states\n- Box 9: Total value of acquisitions from EU member states"},"UnmappedAccountInfo":{"properties":{"account_id":{"type":"string","format":"uuid","title":"Account Id"},"account_number":{"type":"string","title":"Account Number"},"account_name":{"type":"string","title":"Account Name"}},"type":"object","required":["account_id","account_number","account_name"],"title":"UnmappedAccountInfo","description":"Expense account not yet mapped to Schedule C."},"UpdateEstimateRequest":{"properties":{"estimated_income":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Estimated Income"},"status":{"anyOf":[{"$ref":"#/components/schemas/QuarterlyEstimateStatus"},{"type":"null"}]}},"type":"object","title":"UpdateEstimateRequest","description":"Request for updating an estimate."},"UpdateForm1099KRequest":{"properties":{"box_1a_gross_amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 1A Gross Amount"},"box_1b_card_not_present":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 1B Card Not Present"},"box_2_merchant_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box 2 Merchant Category"},"box_3_transaction_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Box 3 Transaction Count"},"box_4_federal_withheld":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Box 4 Federal Withheld"},"monthly_amounts":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Monthly Amounts"},"state_info":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"State Info"},"status":{"anyOf":[{"$ref":"#/components/schemas/Form1099KStatus"},{"type":"null"}]}},"type":"object","title":"UpdateForm1099KRequest","description":"Request for updating a 1099-K record."},"UsageMetric":{"properties":{"current":{"type":"integer","title":"Current","description":"Current usage count"},"limit":{"type":"integer","title":"Limit","description":"Plan limit (-1 for unlimited)"},"percentage":{"type":"number","title":"Percentage","description":"Usage percentage (0-100, -1 for unlimited)"}},"type":"object","required":["current","limit","percentage"],"title":"UsageMetric","description":"Single usage metric with current value, limit, and percentage."},"UsageSummaryResponse":{"properties":{"period_start":{"type":"string","format":"date","title":"Period Start","description":"Billing period start date"},"period_end":{"type":"string","format":"date","title":"Period End","description":"Billing period end date"},"transactions":{"allOf":[{"$ref":"#/components/schemas/UsageMetric"}],"description":"Transaction usage"},"users":{"allOf":[{"$ref":"#/components/schemas/UsageMetric"}],"description":"User count usage"},"companies":{"allOf":[{"$ref":"#/components/schemas/UsageMetric"}],"description":"Company count usage"}},"type":"object","required":["period_start","period_end","transactions","users","companies"],"title":"UsageSummaryResponse","description":"Complete usage summary for current billing period."},"UserResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"email":{"type":"string","title":"Email"},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"full_name":{"type":"string","title":"Full Name"},"is_active":{"type":"boolean","title":"Is Active"},"is_email_verified":{"type":"boolean","title":"Is Email Verified"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","email","first_name","last_name","full_name","is_active","is_email_verified","last_login_at","created_at"],"title":"UserResponse","description":"User response schema (public info only)."},"VATReturnReport":{"properties":{"company_id":{"type":"string","format":"uuid","title":"Company Id"},"period_start":{"type":"string","format":"date","title":"Period Start"},"period_end":{"type":"string","format":"date","title":"Period End"},"generated_at":{"type":"string","title":"Generated At","description":"ISO 8601 timestamp"},"items":{"items":{"$ref":"#/components/schemas/TaxReportLineItem"},"type":"array","title":"Items"},"total_taxable_sales":{"type":"string","title":"Total Taxable Sales","default":"0"},"total_tax_collected":{"type":"string","title":"Total Tax Collected","default":"0"},"total_taxable_purchases":{"type":"string","title":"Total Taxable Purchases","default":"0"},"total_tax_paid":{"type":"string","title":"Total Tax Paid","default":"0"},"net_tax_liability":{"type":"string","title":"Net Tax Liability","description":"Positive = tax owed, Negative = refund due","default":"0"},"box1_vat_due_sales":{"type":"string","title":"Box1 Vat Due Sales","default":"0"},"box2_vat_due_acquisitions":{"type":"string","title":"Box2 Vat Due Acquisitions","default":"0"},"box3_total_vat_due":{"type":"string","title":"Box3 Total Vat Due","default":"0"},"box4_vat_reclaimed":{"type":"string","title":"Box4 Vat Reclaimed","default":"0"},"box5_net_vat":{"type":"string","title":"Box5 Net Vat","default":"0"},"box6_total_sales_ex_vat":{"type":"string","title":"Box6 Total Sales Ex Vat","default":"0"},"box7_total_purchases_ex_vat":{"type":"string","title":"Box7 Total Purchases Ex Vat","default":"0"},"box8_total_supplies_ex_vat":{"type":"string","title":"Box8 Total Supplies Ex Vat","default":"0"},"box9_total_acquisitions_ex_vat":{"type":"string","title":"Box9 Total Acquisitions Ex Vat","default":"0"}},"type":"object","required":["company_id","period_start","period_end","generated_at"],"title":"VATReturnReport","description":"UK/EU VAT return format (Box 1-9).\n\nStandard VAT return boxes:\n- Box 1: VAT due on sales\n- Box 2: VAT due on acquisitions from EU\n- Box 3: Total VAT due (1 + 2)\n- Box 4: VAT reclaimed on purchases\n- Box 5: Net VAT (3 - 4)\n- Box 6: Total value of sales ex VAT\n- Box 7: Total value of purchases ex VAT\n- Box 8: Total value of supplies to EU ex VAT\n- Box 9: Total value of acquisitions from EU ex VAT"},"VIESValidationRequest":{"properties":{"country_code":{"type":"string","maxLength":2,"minLength":2,"title":"Country Code"},"vat_number":{"type":"string","title":"Vat Number","description":"VAT number without country prefix"},"requester_country_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Requester Country Code","description":"Requester's country for qualified check"},"requester_vat_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Requester Vat Number","description":"Requester's VAT number"}},"type":"object","required":["country_code","vat_number"],"title":"VIESValidationRequest","description":"Request to validate EU VAT number via VIES.\n\nVIES (VAT Information Exchange System) validates\nEU VAT registration numbers."},"VIESValidationResponse":{"properties":{"country_code":{"type":"string","title":"Country Code"},"vat_number":{"type":"string","title":"Vat Number"},"valid":{"type":"boolean","title":"Valid"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"request_date":{"type":"string","format":"date","title":"Request Date"},"request_identifier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Identifier"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","required":["country_code","vat_number","valid","request_date"],"title":"VIESValidationResponse","description":"Response from VIES VAT validation."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VendorBalance":{"properties":{"vendor_id":{"type":"string","format":"uuid","title":"Vendor Id"},"vendor_number":{"type":"string","title":"Vendor Number"},"display_name":{"type":"string","title":"Display Name"},"current_balance":{"type":"string","title":"Current Balance"},"open_bills_count":{"type":"integer","title":"Open Bills Count"},"total_open_amount":{"type":"string","title":"Total Open Amount"}},"type":"object","required":["vendor_id","vendor_number","display_name","current_balance","open_bills_count","total_open_amount"],"title":"VendorBalance","description":"Schema for vendor balance response."},"VendorCreate":{"properties":{"display_name":{"type":"string","maxLength":200,"minLength":1,"title":"Display Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"currency":{"type":"string","maxLength":3,"minLength":3,"title":"Currency","default":"USD"},"payment_terms":{"type":"string","pattern":"^(due_on_receipt|net_15|net_30|net_60|net_90)$","title":"Payment Terms","default":"net_30"},"default_expense_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Default Expense Account Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"billing_address":{"anyOf":[{"$ref":"#/components/schemas/BillingAddress"},{"type":"null"}]}},"type":"object","required":["display_name"],"title":"VendorCreate","description":"Schema for creating a vendor."},"VendorImportPreview":{"properties":{"total_vendors":{"type":"integer","title":"Total Vendors","description":"Total vendors from QuickBooks"},"importable":{"type":"integer","title":"Importable","description":"Vendors ready to import"},"conflicts":{"type":"integer","title":"Conflicts","description":"Vendors with conflicts"},"already_imported":{"type":"integer","title":"Already Imported","description":"Vendors already in Atlas"},"vendors":{"items":{"$ref":"#/components/schemas/QBOVendorPreview"},"type":"array","title":"Vendors","description":"Individual vendor previews"}},"type":"object","required":["total_vendors","importable","conflicts","already_imported","vendors"],"title":"VendorImportPreview","description":"Full vendor import preview response.\n\nContains summary counts and the list of vendor previews."},"VendorResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"vendor_number":{"type":"string","title":"Vendor Number"},"display_name":{"type":"string","title":"Display Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"billing_address_line1":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing Address Line1"},"billing_address_line2":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing Address Line2"},"billing_city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing City"},"billing_state":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing State"},"billing_country":{"type":"string","title":"Billing Country"},"billing_postal_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Billing Postal Code"},"currency":{"type":"string","title":"Currency"},"payment_terms":{"type":"string","title":"Payment Terms"},"default_expense_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Default Expense Account Id"},"current_balance":{"type":"string","title":"Current Balance"},"is_active":{"type":"boolean","title":"Is Active"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","company_id","vendor_number","display_name","email","phone","billing_address_line1","billing_address_line2","billing_city","billing_state","billing_country","billing_postal_code","currency","payment_terms","default_expense_account_id","current_balance","is_active","notes","created_at","updated_at"],"title":"VendorResponse","description":"Schema for vendor response."},"VendorTaxProfileResponse":{"properties":{"tax_id_masked":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Id Masked"},"tax_id_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Id Type"},"business_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Business Type"},"tax_jurisdiction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Jurisdiction"},"is_tax_reportable":{"type":"boolean","title":"Is Tax Reportable","default":true},"tax_form_on_file":{"type":"boolean","title":"Tax Form On File","default":false},"tax_form_received_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Tax Form Received Date"},"is_foreign":{"type":"boolean","title":"Is Foreign","default":false}},"type":"object","title":"VendorTaxProfileResponse","description":"Response for vendor tax profile."},"VendorTaxProfileUpdate":{"properties":{"tax_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Id"},"tax_id_type":{"anyOf":[{"$ref":"#/components/schemas/TaxIdTypeEnum"},{"type":"null"}]},"business_type":{"anyOf":[{"$ref":"#/components/schemas/BusinessType"},{"type":"null"}]},"tax_jurisdiction":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tax Jurisdiction"},"is_tax_reportable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Tax Reportable"},"tax_form_on_file":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Tax Form On File"},"tax_form_received_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Tax Form Received Date"},"is_foreign":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Foreign"}},"type":"object","title":"VendorTaxProfileUpdate","description":"Request for updating vendor tax profile."},"VendorUpdate":{"properties":{"display_name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Display Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"billing_address":{"anyOf":[{"$ref":"#/components/schemas/BillingAddress"},{"type":"null"}]},"currency":{"anyOf":[{"type":"string","maxLength":3,"minLength":3},{"type":"null"}],"title":"Currency"},"payment_terms":{"anyOf":[{"type":"string","pattern":"^(due_on_receipt|net_15|net_30|net_60|net_90)$"},{"type":"null"}],"title":"Payment Terms"},"default_expense_account_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Default Expense Account Id"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"VendorUpdate","description":"Schema for updating a vendor."},"app__schemas__accountant__TimeEntryCreate":{"properties":{"client_org_id":{"type":"string","format":"uuid","title":"Client Org Id"},"entry_date":{"type":"string","format":"date","title":"Entry Date"},"duration_minutes":{"type":"integer","exclusiveMinimum":0.0,"title":"Duration Minutes","description":"Duration must be positive"},"task_type":{"$ref":"#/components/schemas/TaskType"},"description":{"type":"string","title":"Description"},"is_billable":{"type":"boolean","title":"Is Billable","default":true},"hourly_rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Hourly Rate"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["client_org_id","entry_date","duration_minutes","task_type","description"],"title":"TimeEntryCreate","description":"Request to create a manual time entry."},"app__schemas__accountant__TimeEntryResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"accountant_user_id":{"type":"string","format":"uuid","title":"Accountant User Id"},"client_org_id":{"type":"string","format":"uuid","title":"Client Org Id"},"client_org_name":{"type":"string","title":"Client Org Name"},"entry_date":{"type":"string","format":"date","title":"Entry Date"},"start_time":{"anyOf":[{"type":"string","format":"time"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"time"},{"type":"null"}],"title":"End Time"},"duration_minutes":{"type":"integer","title":"Duration Minutes"},"description":{"type":"string","title":"Description"},"task_type":{"$ref":"#/components/schemas/TaskType"},"is_billable":{"type":"boolean","title":"Is Billable"},"hourly_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hourly Rate"},"total_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Total Amount"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","accountant_user_id","client_org_id","client_org_name","entry_date","start_time","end_time","duration_minutes","description","task_type","is_billable","hourly_rate","total_amount","notes","created_at"],"title":"TimeEntryResponse","description":"Response for a time tracking entry."},"app__schemas__projects__time_entry__TimeEntryCreate":{"properties":{"project_id":{"type":"string","format":"uuid","title":"Project Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"entry_date":{"type":"string","format":"date","title":"Entry Date"},"hours":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Hours"},"hourly_rate":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Hourly Rate"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"task":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Task"},"is_billable":{"type":"boolean","title":"Is Billable","default":true}},"type":"object","required":["project_id","user_id","entry_date","hours","hourly_rate"],"title":"TimeEntryCreate","description":"Schema for creating a new time entry."},"app__schemas__projects__time_entry__TimeEntryResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"org_id":{"type":"string","format":"uuid","title":"Org Id"},"company_id":{"type":"string","format":"uuid","title":"Company Id"},"project_id":{"type":"string","format":"uuid","title":"Project Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"entry_date":{"type":"string","format":"date","title":"Entry Date"},"hours":{"type":"string","title":"Hours"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"task":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task"},"hourly_rate":{"type":"string","title":"Hourly Rate"},"total_cost":{"type":"string","title":"Total Cost"},"is_billable":{"type":"boolean","title":"Is Billable"},"is_billed":{"type":"boolean","title":"Is Billed"},"invoice_line_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Invoice Line Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","org_id","company_id","project_id","user_id","entry_date","hours","description","task","hourly_rate","total_cost","is_billable","is_billed","invoice_line_id","created_at","updated_at"],"title":"TimeEntryResponse","description":"Full time entry response schema."}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}